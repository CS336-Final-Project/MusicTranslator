import{$ as ke,$a as Vg,$b as We,A as Et,Aa as ee,Ab as lt,Ac as Uu,B as Tu,Ba as fn,Bb as jg,C as _a,Ca as Ag,Cb as Rt,Cc as ju,D as Au,Da as de,Db as Be,Dc as Bu,E as va,Ea as Pu,Eb as he,Ec as zu,F as vs,Fa as Cg,Fb as nt,G as ya,Ga as Ea,Gb as vt,H as Fe,Ha as Sg,Hb as Te,I as Cu,Ia as St,Ib as Ae,J as Bi,Ja as Yt,Jb as Ce,K as zi,Ka as Es,Kb as tr,L as hn,La as Ou,Lb as Bg,M as Su,Ma as Zn,Mb as zg,N as Tt,Na as er,Nb as $g,O as ys,Oa as kg,Ob as rt,P as ba,Pa as Rg,Pb as J,Q as mn,Qa as Dg,Qb as qg,R as $i,Ra as xg,Rb as ir,S as ku,Sa as Mg,Sb as Gg,T as wg,Ta as Pg,Tb as Sa,U as Ru,Ua as Og,Ub as ka,V as Ig,Va as kt,Vb as Fu,W as wa,Wa as Ng,Wb as Ds,X as yi,Xa as Ts,Xb as xs,Y as At,Ya as Oe,Yb as Wg,Z as Ge,Za as R,Zb as Ra,_ as Me,_a as Ta,_b as Hg,a as O,aa as bi,ab as Aa,ac as Kg,b as Ee,ba as L,bb as As,bc as Qg,c as _g,ca as re,cb as Nu,cc as Qe,d as u0,da as Eg,db as Ca,dc as wi,e as d0,ea as z,eb as pn,ec as Da,f as S,fa as Du,fb as tt,fc as yn,g as Ui,ga as N,gb as Ut,gc as Yg,h as vu,ha as F,hb as Fg,hc as nr,i as It,ia as Ft,ib as Vu,ic as Xg,j as yu,ja as xu,jb as jt,jc as Jg,k as bu,ka as bs,kb as Lg,kc as le,l as pe,la as X,lb as gn,lc as Zg,m as _t,ma as se,mb as it,mc as Ms,n as vg,na as _e,nb as Xt,nc as e_,o as yg,oa as Kt,ob as _n,oc as t_,p as ji,pa as Tg,pb as Pe,pc as Ps,q as wu,qa as Jn,qb as vn,qc as Lu,r as Iu,ra as Qt,rb as Bt,rc as Jt,s as Eu,sa as qi,sb as Cs,sc as i_,t as et,ta as ws,tb as Ss,tc as xa,u as j,ua as Is,ub as ks,uc as Os,v as dn,va as Lt,vb as B,vc as n_,w as ga,wa as Ia,wb as $,wc as r_,x as bg,xa as Ct,xb as we,y as G,ya as Mu,yb as Rs,z as Xn,za as Re,zb as Ug,zc as s_}from"./chunk-V2ONEZ5Q.js";var My=u0((V1,Ac)=>{"use strict";var xy=function(){var i="https://api.spotify.com/v1",t=null,e=null,n=function(d,f){return d.abort=f,d},r=function(d,f){var p;if(e!==null){var _=e.defer();d(function(C){_.resolve(C)},function(C){_.reject(C)}),p=_.promise}else window.Promise&&(p=new window.Promise(d));return p?new n(p,f):null},s=function(){var d=Array.prototype.slice.call(arguments),f=d[0],p=d.slice(1);return f=f||{},p.forEach(function(_){for(var C in _)_.hasOwnProperty(C)&&(f[C]=_[C])}),f},o=function(d,f){var p="";for(var _ in f)if(f.hasOwnProperty(_)){var C=f[_];p+=encodeURIComponent(_)+"="+encodeURIComponent(C)+"&"}return p.length>0&&(p=p.substring(0,p.length-1),d=d+"?"+p),d},c=function(d,f){var p=new XMLHttpRequest,_=function(C,x){function D(ce){C&&C(ce),f&&f(null,ce)}function W(){x&&x(p),f&&f(p,null)}var Y=d.type||"GET";if(p.open(Y,o(d.url,d.params)),t&&p.setRequestHeader("Authorization","Bearer "+t),p.onreadystatechange=function(){if(p.readyState===4){var ce=null;try{ce=p.responseText?JSON.parse(p.responseText):""}catch(qe){console.error(qe)}p.status>=200&&p.status<300?D(ce):W()}},Y==="GET")p.send(null);else{var K=null;d.postData&&(d.contentType==="image/jpeg"?(K=d.postData,p.setRequestHeader("Content-Type",d.contentType)):(K=JSON.stringify(d.postData),p.setRequestHeader("Content-Type","application/json"))),p.send(K)}};return f?(_(),null):r(_,function(){p.abort()})},l=function(d,f,p,_){var C={},x=null;typeof f=="object"?(C=f,x=p):typeof f=="function"&&(x=f);var D=d.type||"GET";return D!=="GET"&&d.postData&&!_?d.postData=s(d.postData,C):d.params=s(d.params,C),c(d,x)},h=function(){};return h.prototype={constructor:xy},h.prototype.getGeneric=function(d,f){var p={url:d};return l(p,f)},h.prototype.getMe=function(d,f){var p={url:i+"/me"};return l(p,d,f)},h.prototype.getMySavedTracks=function(d,f){var p={url:i+"/me/tracks"};return l(p,d,f)},h.prototype.addToMySavedTracks=function(d,f,p){var _={url:i+"/me/tracks",type:"PUT",postData:d};return l(_,f,p)},h.prototype.removeFromMySavedTracks=function(d,f,p){var _={url:i+"/me/tracks",type:"DELETE",postData:d};return l(_,f,p)},h.prototype.containsMySavedTracks=function(d,f,p){var _={url:i+"/me/tracks/contains",params:{ids:d.join(",")}};return l(_,f,p)},h.prototype.getMySavedAlbums=function(d,f){var p={url:i+"/me/albums"};return l(p,d,f)},h.prototype.addToMySavedAlbums=function(d,f,p){var _={url:i+"/me/albums",type:"PUT",postData:d};return l(_,f,p)},h.prototype.removeFromMySavedAlbums=function(d,f,p){var _={url:i+"/me/albums",type:"DELETE",postData:d};return l(_,f,p)},h.prototype.containsMySavedAlbums=function(d,f,p){var _={url:i+"/me/albums/contains",params:{ids:d.join(",")}};return l(_,f,p)},h.prototype.getMyTopArtists=function(d,f){var p={url:i+"/me/top/artists"};return l(p,d,f)},h.prototype.getMyTopTracks=function(d,f){var p={url:i+"/me/top/tracks"};return l(p,d,f)},h.prototype.getMyRecentlyPlayedTracks=function(d,f){var p={url:i+"/me/player/recently-played"};return l(p,d,f)},h.prototype.followUsers=function(d,f){var p={url:i+"/me/following/",type:"PUT",params:{ids:d.join(","),type:"user"}};return l(p,f)},h.prototype.followArtists=function(d,f){var p={url:i+"/me/following/",type:"PUT",params:{ids:d.join(","),type:"artist"}};return l(p,f)},h.prototype.followPlaylist=function(d,f,p){var _={url:i+"/playlists/"+d+"/followers",type:"PUT",postData:{}};return l(_,f,p)},h.prototype.unfollowUsers=function(d,f){var p={url:i+"/me/following/",type:"DELETE",params:{ids:d.join(","),type:"user"}};return l(p,f)},h.prototype.unfollowArtists=function(d,f){var p={url:i+"/me/following/",type:"DELETE",params:{ids:d.join(","),type:"artist"}};return l(p,f)},h.prototype.unfollowPlaylist=function(d,f){var p={url:i+"/playlists/"+d+"/followers",type:"DELETE"};return l(p,f)},h.prototype.isFollowingUsers=function(d,f){var p={url:i+"/me/following/contains",type:"GET",params:{ids:d.join(","),type:"user"}};return l(p,f)},h.prototype.isFollowingArtists=function(d,f){var p={url:i+"/me/following/contains",type:"GET",params:{ids:d.join(","),type:"artist"}};return l(p,f)},h.prototype.areFollowingPlaylist=function(d,f,p){var _={url:i+"/playlists/"+d+"/followers/contains",type:"GET",params:{ids:f.join(",")}};return l(_,p)},h.prototype.getFollowedArtists=function(d,f){var p={url:i+"/me/following",type:"GET",params:{type:"artist"}};return l(p,d,f)},h.prototype.getUser=function(d,f,p){var _={url:i+"/users/"+encodeURIComponent(d)};return l(_,f,p)},h.prototype.getUserPlaylists=function(d,f,p){var _;return typeof d=="string"?_={url:i+"/users/"+encodeURIComponent(d)+"/playlists"}:(_={url:i+"/me/playlists"},p=f,f=d),l(_,f,p)},h.prototype.getPlaylist=function(d,f,p){var _={url:i+"/playlists/"+d};return l(_,f,p)},h.prototype.getPlaylistTracks=function(d,f,p){var _={url:i+"/playlists/"+d+"/tracks"};return l(_,f,p)},h.prototype.getPlaylistCoverImage=function(d,f){var p={url:i+"/playlists/"+d+"/images"};return l(p,f)},h.prototype.createPlaylist=function(d,f,p){var _={url:i+"/users/"+encodeURIComponent(d)+"/playlists",type:"POST",postData:f};return l(_,f,p)},h.prototype.changePlaylistDetails=function(d,f,p){var _={url:i+"/playlists/"+d,type:"PUT",postData:f};return l(_,f,p)},h.prototype.addTracksToPlaylist=function(d,f,p,_){var C={url:i+"/playlists/"+d+"/tracks",type:"POST",postData:{uris:f}};return l(C,p,_,!0)},h.prototype.replaceTracksInPlaylist=function(d,f,p){var _={url:i+"/playlists/"+d+"/tracks",type:"PUT",postData:{uris:f}};return l(_,{},p)},h.prototype.reorderTracksInPlaylist=function(d,f,p,_,C){var x={url:i+"/playlists/"+d+"/tracks",type:"PUT",postData:{range_start:f,insert_before:p}};return l(x,_,C)},h.prototype.removeTracksFromPlaylist=function(d,f,p){var _=f.map(function(x){return typeof x=="string"?{uri:x}:x}),C={url:i+"/playlists/"+d+"/tracks",type:"DELETE",postData:{tracks:_}};return l(C,{},p)},h.prototype.removeTracksFromPlaylistWithSnapshotId=function(d,f,p,_){var C=f.map(function(D){return typeof D=="string"?{uri:D}:D}),x={url:i+"/playlists/"+d+"/tracks",type:"DELETE",postData:{tracks:C,snapshot_id:p}};return l(x,{},_)},h.prototype.removeTracksFromPlaylistInPositions=function(d,f,p,_){var C={url:i+"/playlists/"+d+"/tracks",type:"DELETE",postData:{positions:f,snapshot_id:p}};return l(C,{},_)},h.prototype.uploadCustomPlaylistCoverImage=function(d,f,p){var _={url:i+"/playlists/"+d+"/images",type:"PUT",postData:f.replace(/^data:image\/jpeg;base64,/,""),contentType:"image/jpeg"};return l(_,{},p)},h.prototype.getAlbum=function(d,f,p){var _={url:i+"/albums/"+d};return l(_,f,p)},h.prototype.getAlbumTracks=function(d,f,p){var _={url:i+"/albums/"+d+"/tracks"};return l(_,f,p)},h.prototype.getAlbums=function(d,f,p){var _={url:i+"/albums/",params:{ids:d.join(",")}};return l(_,f,p)},h.prototype.getTrack=function(d,f,p){var _={};return _.url=i+"/tracks/"+d,l(_,f,p)},h.prototype.getTracks=function(d,f,p){var _={url:i+"/tracks/",params:{ids:d.join(",")}};return l(_,f,p)},h.prototype.getArtist=function(d,f,p){var _={url:i+"/artists/"+d};return l(_,f,p)},h.prototype.getArtists=function(d,f,p){var _={url:i+"/artists/",params:{ids:d.join(",")}};return l(_,f,p)},h.prototype.getArtistAlbums=function(d,f,p){var _={url:i+"/artists/"+d+"/albums"};return l(_,f,p)},h.prototype.getArtistTopTracks=function(d,f,p,_){var C={url:i+"/artists/"+d+"/top-tracks",params:{country:f}};return l(C,p,_)},h.prototype.getArtistRelatedArtists=function(d,f,p){var _={url:i+"/artists/"+d+"/related-artists"};return l(_,f,p)},h.prototype.getFeaturedPlaylists=function(d,f){var p={url:i+"/browse/featured-playlists"};return l(p,d,f)},h.prototype.getNewReleases=function(d,f){var p={url:i+"/browse/new-releases"};return l(p,d,f)},h.prototype.getCategories=function(d,f){var p={url:i+"/browse/categories"};return l(p,d,f)},h.prototype.getCategory=function(d,f,p){var _={url:i+"/browse/categories/"+d};return l(_,f,p)},h.prototype.getCategoryPlaylists=function(d,f,p){var _={url:i+"/browse/categories/"+d+"/playlists"};return l(_,f,p)},h.prototype.search=function(d,f,p,_){var C={url:i+"/search/",params:{q:d,type:f.join(",")}};return l(C,p,_)},h.prototype.searchAlbums=function(d,f,p){return this.search(d,["album"],f,p)},h.prototype.searchArtists=function(d,f,p){return this.search(d,["artist"],f,p)},h.prototype.searchTracks=function(d,f,p){return this.search(d,["track"],f,p)},h.prototype.searchPlaylists=function(d,f,p){return this.search(d,["playlist"],f,p)},h.prototype.searchShows=function(d,f,p){return this.search(d,["show"],f,p)},h.prototype.searchEpisodes=function(d,f,p){return this.search(d,["episode"],f,p)},h.prototype.getAudioFeaturesForTrack=function(d,f){var p={};return p.url=i+"/audio-features/"+d,l(p,{},f)},h.prototype.getAudioFeaturesForTracks=function(d,f){var p={url:i+"/audio-features",params:{ids:d}};return l(p,{},f)},h.prototype.getAudioAnalysisForTrack=function(d,f){var p={};return p.url=i+"/audio-analysis/"+d,l(p,{},f)},h.prototype.getRecommendations=function(d,f){var p={url:i+"/recommendations"};return l(p,d,f)},h.prototype.getAvailableGenreSeeds=function(d){var f={url:i+"/recommendations/available-genre-seeds"};return l(f,{},d)},h.prototype.getMyDevices=function(d){var f={url:i+"/me/player/devices"};return l(f,{},d)},h.prototype.getMyCurrentPlaybackState=function(d,f){var p={url:i+"/me/player"};return l(p,d,f)},h.prototype.getMyCurrentPlayingTrack=function(d,f){var p={url:i+"/me/player/currently-playing"};return l(p,d,f)},h.prototype.transferMyPlayback=function(d,f,p){var _=f||{};_.device_ids=d;var C={type:"PUT",url:i+"/me/player",postData:_};return l(C,f,p)},h.prototype.play=function(d,f){d=d||{};var p="device_id"in d?{device_id:d.device_id}:null,_={};["context_uri","uris","offset","position_ms"].forEach(function(D){D in d&&(_[D]=d[D])});var C={type:"PUT",url:i+"/me/player/play",params:p,postData:_},x=typeof d=="function"?d:{};return l(C,x,f)},h.prototype.queue=function(d,f,p){f=f||{};var _="device_id"in f?{uri:d,device_id:f.device_id}:{uri:d},C={type:"POST",url:i+"/me/player/queue",params:_};return l(C,f,p)},h.prototype.pause=function(d,f){d=d||{};var p="device_id"in d?{device_id:d.device_id}:null,_={type:"PUT",url:i+"/me/player/pause",params:p};return l(_,d,f)},h.prototype.skipToNext=function(d,f){d=d||{};var p="device_id"in d?{device_id:d.device_id}:null,_={type:"POST",url:i+"/me/player/next",params:p};return l(_,d,f)},h.prototype.skipToPrevious=function(d,f){d=d||{};var p="device_id"in d?{device_id:d.device_id}:null,_={type:"POST",url:i+"/me/player/previous",params:p};return l(_,d,f)},h.prototype.seek=function(d,f,p){f=f||{};var _={position_ms:d};"device_id"in f&&(_.device_id=f.device_id);var C={type:"PUT",url:i+"/me/player/seek",params:_};return l(C,f,p)},h.prototype.setRepeat=function(d,f,p){f=f||{};var _={state:d};"device_id"in f&&(_.device_id=f.device_id);var C={type:"PUT",url:i+"/me/player/repeat",params:_};return l(C,f,p)},h.prototype.setVolume=function(d,f,p){f=f||{};var _={volume_percent:d};"device_id"in f&&(_.device_id=f.device_id);var C={type:"PUT",url:i+"/me/player/volume",params:_};return l(C,f,p)},h.prototype.setShuffle=function(d,f,p){f=f||{};var _={state:d};"device_id"in f&&(_.device_id=f.device_id);var C={type:"PUT",url:i+"/me/player/shuffle",params:_};return l(C,f,p)},h.prototype.getShow=function(d,f,p){var _={};return _.url=i+"/shows/"+d,l(_,f,p)},h.prototype.getShows=function(d,f,p){var _={url:i+"/shows/",params:{ids:d.join(",")}};return l(_,f,p)},h.prototype.getMySavedShows=function(d,f){var p={url:i+"/me/shows"};return l(p,d,f)},h.prototype.addToMySavedShows=function(d,f,p){var _={url:i+"/me/shows",type:"PUT",postData:d};return l(_,f,p)},h.prototype.removeFromMySavedShows=function(d,f,p){var _={url:i+"/me/shows",type:"DELETE",postData:d};return l(_,f,p)},h.prototype.containsMySavedShows=function(d,f,p){var _={url:i+"/me/shows/contains",params:{ids:d.join(",")}};return l(_,f,p)},h.prototype.getShowEpisodes=function(d,f,p){var _={url:i+"/shows/"+d+"/episodes"};return l(_,f,p)},h.prototype.getEpisode=function(d,f,p){var _={};return _.url=i+"/episodes/"+d,l(_,f,p)},h.prototype.getEpisodes=function(d,f,p){var _={url:i+"/episodes/",params:{ids:d.join(",")}};return l(_,f,p)},h.prototype.getAccessToken=function(){return t},h.prototype.setAccessToken=function(d){t=d},h.prototype.setPromiseImplementation=function(d){var f=!1;try{var p=new d(function(_){_()});typeof p.then=="function"&&typeof p.catch=="function"&&(f=!0)}catch(_){console.error(_)}if(f)e=d;else throw new Error("Unsupported implementation of Promises/A+")},h}();typeof Ac=="object"&&typeof Ac.exports=="object"&&(Ac.exports=xy)});var qu=class{};var bn=class i{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(e=>{let n=e.indexOf(":");if(n>0){let r=e.slice(0,n),s=r.toLowerCase(),o=e.slice(n+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((e,n)=>{this.setHeaderEntries(n,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([e,n])=>{this.setHeaderEntries(e,n)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof i?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){let e=new i;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof i?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){let e=t.name.toLowerCase();switch(t.op){case"a":case"s":let n=t.value;if(typeof n=="string"&&(n=[n]),n.length===0)return;this.maybeSetNormalizedName(t.name,e);let r=(t.op==="a"?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":let s=t.value;if(!s)this.headers.delete(e),this.normalizedNames.delete(e);else{let o=this.headers.get(e);if(!o)return;o=o.filter(c=>s.indexOf(c)===-1),o.length===0?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}break}}setHeaderEntries(t,e){let n=(Array.isArray(e)?e:[e]).map(s=>s.toString()),r=t.toLowerCase();this.headers.set(r,n),this.maybeSetNormalizedName(t,r)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}};var Gu=class{encodeKey(t){return o_(t)}encodeValue(t){return o_(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function m0(i,t){let e=new Map;return i.length>0&&i.replace(/^\?/,"").split("&").forEach(r=>{let s=r.indexOf("="),[o,c]=s==-1?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,s)),t.decodeValue(r.slice(s+1))],l=e.get(o)||[];l.push(c),e.set(o,l)}),e}var f0=/%(\d[a-f0-9])/gi,p0={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function o_(i){return encodeURIComponent(i).replace(f0,(t,e)=>p0[e]??t)}function Ma(i){return`${i}`}var Gi=class i{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Gu,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=m0(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{let n=t.fromObject[e],r=Array.isArray(n)?n.map(Ma):[Ma(n)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){let e=[];return Object.keys(t).forEach(n=>{let r=t[n];Array.isArray(r)?r.forEach(s=>{e.push({param:n,value:s,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let e=this.encoder.encodeKey(t);return this.map.get(t).map(n=>e+"="+this.encoder.encodeValue(n)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let e=new i({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let e=(t.op==="a"?this.map.get(t.param):void 0)||[];e.push(Ma(t.value)),this.map.set(t.param,e);break;case"d":if(t.value!==void 0){let n=this.map.get(t.param)||[],r=n.indexOf(Ma(t.value));r!==-1&&n.splice(r,1),n.length>0?this.map.set(t.param,n):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};var Wu=class{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}};function g0(i){switch(i){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function a_(i){return typeof ArrayBuffer<"u"&&i instanceof ArrayBuffer}function c_(i){return typeof Blob<"u"&&i instanceof Blob}function l_(i){return typeof FormData<"u"&&i instanceof FormData}function _0(i){return typeof URLSearchParams<"u"&&i instanceof URLSearchParams}var Ns=class i{constructor(t,e,n,r){this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase();let s;if(g0(this.method)||r?(this.body=n!==void 0?n:null,s=r):s=n,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new bn,this.context??=new Wu,!this.params)this.params=new Gi,this.urlWithParams=e;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=e;else{let c=e.indexOf("?"),l=c===-1?"?":c<e.length-1?"&":"";this.urlWithParams=e+l+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||a_(this.body)||c_(this.body)||l_(this.body)||_0(this.body)?this.body:this.body instanceof Gi?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||l_(this.body)?null:c_(this.body)?this.body.type||null:a_(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Gi?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(t={}){let e=t.method||this.method,n=t.url||this.url,r=t.responseType||this.responseType,s=t.transferCache??this.transferCache,o=t.body!==void 0?t.body:this.body,c=t.withCredentials??this.withCredentials,l=t.reportProgress??this.reportProgress,h=t.headers||this.headers,d=t.params||this.params,f=t.context??this.context;return t.setHeaders!==void 0&&(h=Object.keys(t.setHeaders).reduce((p,_)=>p.set(_,t.setHeaders[_]),h)),t.setParams&&(d=Object.keys(t.setParams).reduce((p,_)=>p.set(_,t.setParams[_]),d)),new i(e,n,o,{params:d,headers:h,context:f,reportProgress:l,responseType:r,withCredentials:c,transferCache:s})}},__=function(i){return i[i.Sent=0]="Sent",i[i.UploadProgress=1]="UploadProgress",i[i.ResponseHeader=2]="ResponseHeader",i[i.DownloadProgress=3]="DownloadProgress",i[i.Response=4]="Response",i[i.User=5]="User",i}(__||{}),Hu=class{constructor(t,e=200,n="OK"){this.headers=t.headers||new bn,this.status=t.status!==void 0?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}};var Vs=class i extends Hu{constructor(t={}){super(t),this.type=__.Response,this.body=t.body!==void 0?t.body:null}clone(t={}){return new i({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}};function $u(i,t){return{body:t,headers:i.headers,context:i.context,observe:i.observe,params:i.params,reportProgress:i.reportProgress,responseType:i.responseType,withCredentials:i.withCredentials,transferCache:i.transferCache}}var v_=(()=>{class i{constructor(e){this.handler=e}request(e,n,r={}){let s;if(e instanceof Ns)s=e;else{let l;r.headers instanceof bn?l=r.headers:l=new bn(r.headers);let h;r.params&&(r.params instanceof Gi?h=r.params:h=new Gi({fromObject:r.params})),s=new Ns(e,n,r.body!==void 0?r.body:null,{headers:l,context:r.context,params:h,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}let o=j(s).pipe(zi(l=>this.handler.handle(l)));if(e instanceof Ns||r.observe==="events")return o;let c=o.pipe(Fe(l=>l instanceof Vs));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return c.pipe(G(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return c.pipe(G(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return c.pipe(G(l=>{if(l.body!==null&&typeof l.body!="string")throw new Error("Response is not a string.");return l.body}));case"json":default:return c.pipe(G(l=>l.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,n={}){return this.request("DELETE",e,n)}get(e,n={}){return this.request("GET",e,n)}head(e,n={}){return this.request("HEAD",e,n)}jsonp(e,n){return this.request("JSONP",e,{params:new Gi().append(n,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,n={}){return this.request("OPTIONS",e,n)}patch(e,n,r={}){return this.request("PATCH",e,$u(r,n))}post(e,n,r={}){return this.request("POST",e,$u(r,n))}put(e,n,r={}){return this.request("PUT",e,$u(r,n))}static{this.\u0275fac=function(n){return new(n||i)(N(qu))}}static{this.\u0275prov=L({token:i,factory:i.\u0275fac})}}return i})();var v0=new z("");var y0=new z(""),u_="b",d_="h",h_="s",m_="st",f_="u",p_="rt",Pa=new z(""),b0=["GET","HEAD"];function w0(i,t){let _=F(Pa),{isCacheActive:e}=_,n=_g(_,["isCacheActive"]),{transferCache:r,method:s}=i;if(!e||r===!1||s==="POST"&&!n.includePostRequests&&!r||s!=="POST"&&!b0.includes(s)||!n.includeRequestsWithAuthHeaders&&I0(i)||n.filter?.(i)===!1)return t(i);let o=F(Ou),c=F(y0,{optional:!0}),l=Os(F(St));if(c&&!l)throw new ke(2803,!1);let h=l&&c?C0(i.url,c):i.url,d=T0(i,h),f=o.get(d,null),p=n.includeHeaders;if(typeof r=="object"&&r.includeHeaders&&(p=r.includeHeaders),f){let{[u_]:C,[p_]:x,[d_]:D,[h_]:W,[m_]:Y,[f_]:K}=f,ce=C;switch(x){case"arraybuffer":ce=new TextEncoder().encode(C).buffer;break;case"blob":ce=new Blob([C]);break}let qe=new bn(D);return j(new Vs({body:ce,headers:qe,status:W,statusText:Y,url:K}))}return t(i).pipe(Me(C=>{C instanceof Vs&&l&&o.set(d,{[u_]:C.body,[d_]:E0(C.headers,p),[h_]:C.status,[m_]:C.statusText,[f_]:h,[p_]:i.responseType})}))}function I0(i){return i.headers.has("authorization")||i.headers.has("proxy-authorization")}function E0(i,t){if(!t)return{};let e={};for(let n of t){let r=i.getAll(n);r!==null&&(e[n]=r)}return e}function g_(i){return[...i.keys()].sort().map(t=>`${t}=${i.getAll(t)}`).join("&")}function T0(i,t){let{params:e,method:n,responseType:r}=i,s=g_(e),o=i.serializeBody();o instanceof URLSearchParams?o=g_(o):typeof o!="string"&&(o="");let c=[n,r,t,o,s].join("|"),l=A0(c);return l}function A0(i){let t=0;for(let e of i)t=Math.imul(31,t)+e.charCodeAt(0)<<0;return t+=2147483648,t.toString()}function y_(i){return[{provide:Pa,useFactory:()=>(Ca("NgHttpTransferCache"),O({isCacheActive:!0},i))},{provide:v0,useValue:w0,multi:!0,deps:[Ou,Pa]},{provide:Ds,multi:!0,useFactory:()=>{let t=F(xs),e=F(Pa);return()=>{Wg(t).then(()=>{e.isCacheActive=!1})}}}]}function C0(i,t){let e=new URL(i,"resolve://").origin,n=t[e];return n?i.replace(e,n):i}var Yu=class extends Jg{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Xu=class i extends Yu{static makeCurrent(){Xg(new i)}onAndCancel(t,e,n){return t.addEventListener(e,n),()=>{t.removeEventListener(e,n)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=R0();return e==null?null:D0(e)}resetBaseElement(){Fs=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Lu(document.cookie,t)}},Fs=null;function R0(){return Fs=Fs||document.querySelector("base"),Fs?Fs.getAttribute("href"):null}function D0(i){return new URL(i,document.baseURI).pathname}var x0=(()=>{class i{build(){return new XMLHttpRequest}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=L({token:i,factory:i.\u0275fac})}}return i})(),Ju=new z(""),I_=(()=>{class i{constructor(e,n){this._zone=n,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,n,r){return this._findPluginFor(n).addEventListener(e,n,r)}getZone(){return this._zone}_findPluginFor(e){let n=this._eventNameToPlugin.get(e);if(n)return n;if(n=this._plugins.find(s=>s.supports(e)),!n)throw new ke(5101,!1);return this._eventNameToPlugin.set(e,n),n}static{this.\u0275fac=function(n){return new(n||i)(N(Ju),N(ee))}}static{this.\u0275prov=L({token:i,factory:i.\u0275fac})}}return i})(),Oa=class{constructor(t){this._doc=t}},Ku="ng-app-id",E_=(()=>{class i{constructor(e,n,r,s={}){this.doc=e,this.appId=n,this.nonce=r,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Os(s),this.resetHostNodes()}addStyles(e){for(let n of e)this.changeUsageCount(n,1)===1&&this.onStyleAdded(n)}removeStyles(e){for(let n of e)this.changeUsageCount(n,-1)<=0&&this.onStyleRemoved(n)}ngOnDestroy(){let e=this.styleNodesInDOM;e&&(e.forEach(n=>n.remove()),e.clear());for(let n of this.getAllStyles())this.onStyleRemoved(n);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(let n of this.getAllStyles())this.addStyleToHost(e,n)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(let n of this.hostNodes)this.addStyleToHost(n,e)}onStyleRemoved(e){let n=this.styleRef;n.get(e)?.elements?.forEach(r=>r.remove()),n.delete(e)}collectServerRenderedStyles(){let e=this.doc.head?.querySelectorAll(`style[${Ku}="${this.appId}"]`);if(e?.length){let n=new Map;return e.forEach(r=>{r.textContent!=null&&n.set(r.textContent,r)}),n}return null}changeUsageCount(e,n){let r=this.styleRef;if(r.has(e)){let s=r.get(e);return s.usage+=n,s.usage}return r.set(e,{usage:n,elements:[]}),n}getStyleElement(e,n){let r=this.styleNodesInDOM,s=r?.get(n);if(s?.parentNode===e)return r.delete(n),s.removeAttribute(Ku),s;{let o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=n,this.platformIsServer&&o.setAttribute(Ku,this.appId),e.appendChild(o),o}}addStyleToHost(e,n){let r=this.getStyleElement(e,n),s=this.styleRef,o=s.get(n)?.elements;o?o.push(r):s.set(n,{elements:[r],usage:1})}resetHostNodes(){let e=this.hostNodes;e.clear(),e.add(this.doc.head)}static{this.\u0275fac=function(n){return new(n||i)(N(le),N(Ea),N(Es,8),N(St))}}static{this.\u0275prov=L({token:i,factory:i.\u0275fac})}}return i})(),Qu={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},td=/%COMP%/g,T_="%COMP%",M0=`_nghost-${T_}`,P0=`_ngcontent-${T_}`,O0=!0,N0=new z("",{providedIn:"root",factory:()=>O0});function V0(i){return P0.replace(td,i)}function F0(i){return M0.replace(td,i)}function A_(i,t){return t.map(e=>e.replace(td,i))}var Na=(()=>{class i{constructor(e,n,r,s,o,c,l,h=null){this.eventManager=e,this.sharedStylesHost=n,this.appId=r,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=c,this.ngZone=l,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=Os(c),this.defaultRenderer=new Ls(e,o,l,this.platformIsServer)}createRenderer(e,n){if(!e||!n)return this.defaultRenderer;this.platformIsServer&&n.encapsulation===bs.ShadowDom&&(n=Ee(O({},n),{encapsulation:bs.Emulated}));let r=this.getOrCreateRenderer(e,n);return r instanceof Va?r.applyToHost(e):r instanceof Us&&r.applyStyles(),r}getOrCreateRenderer(e,n){let r=this.rendererByCompId,s=r.get(n.id);if(!s){let o=this.doc,c=this.ngZone,l=this.eventManager,h=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(n.encapsulation){case bs.Emulated:s=new Va(l,h,n,this.appId,d,o,c,f);break;case bs.ShadowDom:return new Zu(l,h,e,n,o,c,this.nonce,f);default:s=new Us(l,h,n,d,o,c,f);break}r.set(n.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(n){return new(n||i)(N(I_),N(E_),N(Ea),N(N0),N(le),N(St),N(ee),N(Es))}}static{this.\u0275prov=L({token:i,factory:i.\u0275fac})}}return i})(),Ls=class{constructor(t,e,n,r){this.eventManager=t,this.doc=e,this.ngZone=n,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(t,e){return e?this.doc.createElementNS(Qu[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(b_(t)?t.content:t).appendChild(e)}insertBefore(t,e,n){t&&(b_(t)?t.content:t).insertBefore(e,n)}removeChild(t,e){e.remove()}selectRootElement(t,e){let n=typeof t=="string"?this.doc.querySelector(t):t;if(!n)throw new ke(-5104,!1);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;let s=Qu[r];s?t.setAttributeNS(s,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){let r=Qu[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,r){r&(Ts.DashCase|Ts.Important)?t.style.setProperty(e,n,r&Ts.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&Ts.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t!=null&&(t[e]=n)}setValue(t,e){t.nodeValue=e}listen(t,e,n){if(typeof t=="string"&&(t=nr().getGlobalEventTarget(this.doc,t),!t))throw new Error(`Unsupported event target ${t} for event ${e}`);return this.eventManager.addEventListener(t,e,this.decoratePreventDefault(n))}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))===!1&&e.preventDefault()}}};function b_(i){return i.tagName==="TEMPLATE"&&i.content!==void 0}var Zu=class extends Ls{constructor(t,e,n,r,s,o,c,l){super(t,s,o,l),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=A_(r.id,r.styles);for(let d of h){let f=document.createElement("style");c&&f.setAttribute("nonce",c),f.textContent=d,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Us=class extends Ls{constructor(t,e,n,r,s,o,c,l){super(t,s,o,c),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r,this.styles=l?A_(l,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Va=class extends Us{constructor(t,e,n,r,s,o,c,l){let h=r+"-"+n.id;super(t,e,n,s,o,c,l,h),this.contentAttr=V0(h),this.hostAttr=F0(h)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}},L0=(()=>{class i extends Oa{constructor(e){super(e)}supports(e){return!0}addEventListener(e,n,r){return e.addEventListener(n,r,!1),()=>this.removeEventListener(e,n,r)}removeEventListener(e,n,r){return e.removeEventListener(n,r)}static{this.\u0275fac=function(n){return new(n||i)(N(le))}}static{this.\u0275prov=L({token:i,factory:i.\u0275fac})}}return i})(),w_=["alt","control","meta","shift"],U0={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},j0={alt:i=>i.altKey,control:i=>i.ctrlKey,meta:i=>i.metaKey,shift:i=>i.shiftKey},B0=(()=>{class i extends Oa{constructor(e){super(e)}supports(e){return i.parseEventName(e)!=null}addEventListener(e,n,r){let s=i.parseEventName(n),o=i.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>nr().onAndCancel(e,s.domEventName,o))}static parseEventName(e){let n=e.toLowerCase().split("."),r=n.shift();if(n.length===0||!(r==="keydown"||r==="keyup"))return null;let s=i._normalizeKey(n.pop()),o="",c=n.indexOf("code");if(c>-1&&(n.splice(c,1),o="code."),w_.forEach(h=>{let d=n.indexOf(h);d>-1&&(n.splice(d,1),o+=h+".")}),o+=s,n.length!=0||s.length===0)return null;let l={};return l.domEventName=r,l.fullKey=o,l}static matchEventFullKeyCode(e,n){let r=U0[e.key]||e.key,s="";return n.indexOf("code.")>-1&&(r=e.code,s="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),w_.forEach(o=>{if(o!==r){let c=j0[o];c(e)&&(s+=o+".")}}),s+=r,s===n)}static eventCallback(e,n,r){return s=>{i.matchEventFullKeyCode(s,e)&&r.runGuarded(()=>n(s))}}static _normalizeKey(e){return e==="esc"?"escape":e}static{this.\u0275fac=function(n){return new(n||i)(N(le))}}static{this.\u0275prov=L({token:i,factory:i.\u0275fac})}}return i})();function C_(i,t){return Kg(O({rootComponent:i},z0(t)))}function z0(i){return{appProviders:[...H0,...i?.providers??[]],platformProviders:W0}}function $0(){Xu.makeCurrent()}function q0(){return new fn}function G0(){return Cg(document),document}var W0=[{provide:St,useValue:i_},{provide:Sg,useValue:$0,multi:!0},{provide:le,useFactory:G0,deps:[]}];var H0=[{provide:Tg,useValue:"root"},{provide:fn,useFactory:q0,deps:[]},{provide:Ju,useClass:L0,multi:!0,deps:[le,ee,St]},{provide:Ju,useClass:B0,multi:!0,deps:[le]},Na,E_,I_,{provide:Aa,useExisting:Na},{provide:r_,useClass:x0,deps:[]},[]];var S_=(()=>{class i{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static{this.\u0275fac=function(n){return new(n||i)(N(le))}}static{this.\u0275prov=L({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var id=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=L({token:i,factory:function(n){let r=null;return n?r=new(n||i):r=N(K0),r},providedIn:"root"})}}return i})(),K0=(()=>{class i extends id{constructor(e){super(),this._doc=e}sanitize(e,n){if(n==null)return null;switch(e){case kt.NONE:return n;case kt.HTML:return er(n,"HTML")?Zn(n):Og(this._doc,String(n)).toString();case kt.STYLE:return er(n,"Style")?Zn(n):n;case kt.SCRIPT:if(er(n,"Script"))return Zn(n);throw new ke(5200,!1);case kt.URL:return er(n,"URL")?Zn(n):Pg(String(n));case kt.RESOURCE_URL:if(er(n,"ResourceURL"))return Zn(n);throw new ke(5201,!1);default:throw new ke(5202,!1)}}bypassSecurityTrustHtml(e){return kg(e)}bypassSecurityTrustStyle(e){return Rg(e)}bypassSecurityTrustScript(e){return Dg(e)}bypassSecurityTrustUrl(e){return xg(e)}bypassSecurityTrustResourceUrl(e){return Mg(e)}static{this.\u0275fac=function(n){return new(n||i)(N(le))}}static{this.\u0275prov=L({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),ed=function(i){return i[i.NoHttpTransferCache=0]="NoHttpTransferCache",i[i.HttpTransferCacheOptions=1]="HttpTransferCacheOptions",i[i.I18nSupport=2]="I18nSupport",i[i.EventReplay=3]="EventReplay",i}(ed||{});function k_(...i){let t=[],e=new Set,n=e.has(ed.HttpTransferCacheOptions);for(let{\u0275providers:r,\u0275kind:s}of i)e.add(s),r.length&&t.push(r);return Kt([[],Qg(),e.has(ed.NoHttpTransferCache)||n?[]:y_({}),t])}var ne="primary",eo=Symbol("RouteTitle"),ad=class{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function lr(i){return new ad(i)}function Q0(i,t,e){let n=e.path.split("/");if(n.length>i.length||e.pathMatch==="full"&&(t.hasChildren()||n.length<i.length))return null;let r={};for(let s=0;s<n.length;s++){let o=n[s],c=i[s];if(o[0]===":")r[o.substring(1)]=c;else if(o!==c.path)return null}return{consumed:i.slice(0,n.length),posParams:r}}function Y0(i,t){if(i.length!==t.length)return!1;for(let e=0;e<i.length;++e)if(!ri(i[e],t[e]))return!1;return!0}function ri(i,t){let e=i?cd(i):void 0,n=t?cd(t):void 0;if(!e||!n||e.length!=n.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!j_(i[r],t[r]))return!1;return!0}function cd(i){return[...Object.keys(i),...Object.getOwnPropertySymbols(i)]}function j_(i,t){if(Array.isArray(i)&&Array.isArray(t)){if(i.length!==t.length)return!1;let e=[...i].sort(),n=[...t].sort();return e.every((r,s)=>n[s]===r)}else return i===t}function B_(i){return i.length>0?i[i.length-1]:null}function Hi(i){return ga(i)?i:ka(i)?et(Promise.resolve(i)):j(i)}var X0={exact:$_,subset:q_},z_={exact:J0,subset:Z0,ignored:()=>!0};function D_(i,t,e){return X0[e.paths](i.root,t.root,e.matrixParams)&&z_[e.queryParams](i.queryParams,t.queryParams)&&!(e.fragment==="exact"&&i.fragment!==t.fragment)}function J0(i,t){return ri(i,t)}function $_(i,t,e){if(!In(i.segments,t.segments)||!Ua(i.segments,t.segments,e)||i.numberOfChildren!==t.numberOfChildren)return!1;for(let n in t.children)if(!i.children[n]||!$_(i.children[n],t.children[n],e))return!1;return!0}function Z0(i,t){return Object.keys(t).length<=Object.keys(i).length&&Object.keys(t).every(e=>j_(i[e],t[e]))}function q_(i,t,e){return G_(i,t,t.segments,e)}function G_(i,t,e,n){if(i.segments.length>e.length){let r=i.segments.slice(0,e.length);return!(!In(r,e)||t.hasChildren()||!Ua(r,e,n))}else if(i.segments.length===e.length){if(!In(i.segments,e)||!Ua(i.segments,e,n))return!1;for(let r in t.children)if(!i.children[r]||!q_(i.children[r],t.children[r],n))return!1;return!0}else{let r=e.slice(0,i.segments.length),s=e.slice(i.segments.length);return!In(i.segments,r)||!Ua(i.segments,r,n)||!i.children[ne]?!1:G_(i.children[ne],t,s,n)}}function Ua(i,t,e){return t.every((n,r)=>z_[e](i[r].parameters,n.parameters))}var Ei=class{constructor(t=new ye([],{}),e={},n=null){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap??=lr(this.queryParams),this._queryParamMap}toString(){return iE.serialize(this)}},ye=class{constructor(t,e){this.segments=t,this.children=e,this.parent=null,Object.values(e).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ja(this)}},wn=class{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=lr(this.parameters),this._parameterMap}toString(){return H_(this)}};function eE(i,t){return In(i,t)&&i.every((e,n)=>ri(e.parameters,t[n].parameters))}function In(i,t){return i.length!==t.length?!1:i.every((e,n)=>e.path===t[n].path)}function tE(i,t){let e=[];return Object.entries(i.children).forEach(([n,r])=>{n===ne&&(e=e.concat(t(r,n)))}),Object.entries(i.children).forEach(([n,r])=>{n!==ne&&(e=e.concat(t(r,n)))}),e}var to=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=L({token:i,factory:()=>new ur,providedIn:"root"})}}return i})(),ur=class{parse(t){let e=new ud(t);return new Ei(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){let e=`/${js(t.root,!0)}`,n=sE(t.queryParams),r=typeof t.fragment=="string"?`#${nE(t.fragment)}`:"";return`${e}${n}${r}`}},iE=new ur;function ja(i){return i.segments.map(t=>H_(t)).join("/")}function js(i,t){if(!i.hasChildren())return ja(i);if(t){let e=i.children[ne]?js(i.children[ne],!1):"",n=[];return Object.entries(i.children).forEach(([r,s])=>{r!==ne&&n.push(`${r}:${js(s,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}else{let e=tE(i,(n,r)=>r===ne?[js(i.children[ne],!1)]:[`${r}:${js(n,!1)}`]);return Object.keys(i.children).length===1&&i.children[ne]!=null?`${ja(i)}/${e[0]}`:`${ja(i)}/(${e.join("//")})`}}function W_(i){return encodeURIComponent(i).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Fa(i){return W_(i).replace(/%3B/gi,";")}function nE(i){return encodeURI(i)}function ld(i){return W_(i).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ba(i){return decodeURIComponent(i)}function x_(i){return Ba(i.replace(/\+/g,"%20"))}function H_(i){return`${ld(i.path)}${rE(i.parameters)}`}function rE(i){return Object.entries(i).map(([t,e])=>`;${ld(t)}=${ld(e)}`).join("")}function sE(i){let t=Object.entries(i).map(([e,n])=>Array.isArray(n)?n.map(r=>`${Fa(e)}=${Fa(r)}`).join("&"):`${Fa(e)}=${Fa(n)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}var oE=/^[^\/()?;#]+/;function nd(i){let t=i.match(oE);return t?t[0]:""}var aE=/^[^\/()?;=#]+/;function cE(i){let t=i.match(aE);return t?t[0]:""}var lE=/^[^=?&#]+/;function uE(i){let t=i.match(lE);return t?t[0]:""}var dE=/^[^&#]+/;function hE(i){let t=i.match(dE);return t?t[0]:""}var ud=class{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ye([],{}):new ye([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[ne]=new ye(t,e)),n}parseSegment(){let t=nd(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new ke(4009,!1);return this.capture(t),new wn(Ba(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let e=cE(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){let r=nd(this.remaining);r&&(n=r,this.capture(n))}t[Ba(e)]=Ba(n)}parseQueryParam(t){let e=uE(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){let o=hE(this.remaining);o&&(n=o,this.capture(n))}let r=x_(e),s=x_(n);if(t.hasOwnProperty(r)){let o=t[r];Array.isArray(o)||(o=[o],t[r]=o),o.push(s)}else t[r]=s}parseParens(t){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=nd(this.remaining),r=this.remaining[n.length];if(r!=="/"&&r!==")"&&r!==";")throw new ke(4010,!1);let s;n.indexOf(":")>-1?(s=n.slice(0,n.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=ne);let o=this.parseChildren();e[s]=Object.keys(o).length===1?o[ne]:new ye([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new ke(4011,!1)}};function K_(i){return i.segments.length>0?new ye([],{[ne]:i}):i}function Q_(i){let t={};for(let[n,r]of Object.entries(i.children)){let s=Q_(r);if(n===ne&&s.segments.length===0&&s.hasChildren())for(let[o,c]of Object.entries(s.children))t[o]=c;else(s.segments.length>0||s.hasChildren())&&(t[n]=s)}let e=new ye(i.segments,t);return mE(e)}function mE(i){if(i.numberOfChildren===1&&i.children[ne]){let t=i.children[ne];return new ye(i.segments.concat(t.segments),t.children)}return i}function En(i){return i instanceof Ei}function fE(i,t,e=null,n=null){let r=Y_(i);return X_(r,t,e,n)}function Y_(i){let t;function e(s){let o={};for(let l of s.children){let h=e(l);o[l.outlet]=h}let c=new ye(s.url,o);return s===i&&(t=c),c}let n=e(i.root),r=K_(n);return t??r}function X_(i,t,e,n){let r=i;for(;r.parent;)r=r.parent;if(t.length===0)return rd(r,r,r,e,n);let s=pE(t);if(s.toRoot())return rd(r,r,new ye([],{}),e,n);let o=gE(s,r,i),c=o.processChildren?$s(o.segmentGroup,o.index,s.commands):Z_(o.segmentGroup,o.index,s.commands);return rd(r,o.segmentGroup,c,e,n)}function za(i){return typeof i=="object"&&i!=null&&!i.outlets&&!i.segmentPath}function Ws(i){return typeof i=="object"&&i!=null&&i.outlets}function rd(i,t,e,n,r){let s={};n&&Object.entries(n).forEach(([l,h])=>{s[l]=Array.isArray(h)?h.map(d=>`${d}`):`${h}`});let o;i===t?o=e:o=J_(i,t,e);let c=K_(Q_(o));return new Ei(c,s,r)}function J_(i,t,e){let n={};return Object.entries(i.children).forEach(([r,s])=>{s===t?n[r]=e:n[r]=J_(s,t,e)}),new ye(i.segments,n)}var $a=class{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&za(n[0]))throw new ke(4003,!1);let r=n.find(Ws);if(r&&r!==B_(n))throw new ke(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function pE(i){if(typeof i[0]=="string"&&i.length===1&&i[0]==="/")return new $a(!0,0,i);let t=0,e=!1,n=i.reduce((r,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let c={};return Object.entries(s.outlets).forEach(([l,h])=>{c[l]=typeof h=="string"?h.split("/"):h}),[...r,{outlets:c}]}if(s.segmentPath)return[...r,s.segmentPath]}return typeof s!="string"?[...r,s]:o===0?(s.split("/").forEach((c,l)=>{l==0&&c==="."||(l==0&&c===""?e=!0:c===".."?t++:c!=""&&r.push(c))}),r):[...r,s]},[]);return new $a(e,t,n)}var or=class{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}};function gE(i,t,e){if(i.isAbsolute)return new or(t,!0,0);if(!e)return new or(t,!1,NaN);if(e.parent===null)return new or(e,!0,0);let n=za(i.commands[0])?0:1,r=e.segments.length-1+n;return _E(e,r,i.numberOfDoubleDots)}function _E(i,t,e){let n=i,r=t,s=e;for(;s>r;){if(s-=r,n=n.parent,!n)throw new ke(4005,!1);r=n.segments.length}return new or(n,!1,r-s)}function vE(i){return Ws(i[0])?i[0].outlets:{[ne]:i}}function Z_(i,t,e){if(i??=new ye([],{}),i.segments.length===0&&i.hasChildren())return $s(i,t,e);let n=yE(i,t,e),r=e.slice(n.commandIndex);if(n.match&&n.pathIndex<i.segments.length){let s=new ye(i.segments.slice(0,n.pathIndex),{});return s.children[ne]=new ye(i.segments.slice(n.pathIndex),i.children),$s(s,0,r)}else return n.match&&r.length===0?new ye(i.segments,{}):n.match&&!i.hasChildren()?dd(i,t,e):n.match?$s(i,0,r):dd(i,t,e)}function $s(i,t,e){if(e.length===0)return new ye(i.segments,{});{let n=vE(e),r={};if(Object.keys(n).some(s=>s!==ne)&&i.children[ne]&&i.numberOfChildren===1&&i.children[ne].segments.length===0){let s=$s(i.children[ne],t,e);return new ye(i.segments,s.children)}return Object.entries(n).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(r[s]=Z_(i.children[s],t,o))}),Object.entries(i.children).forEach(([s,o])=>{n[s]===void 0&&(r[s]=o)}),new ye(i.segments,r)}}function yE(i,t,e){let n=0,r=t,s={match:!1,pathIndex:0,commandIndex:0};for(;r<i.segments.length;){if(n>=e.length)return s;let o=i.segments[r],c=e[n];if(Ws(c))break;let l=`${c}`,h=n<e.length-1?e[n+1]:null;if(r>0&&l===void 0)break;if(l&&h&&typeof h=="object"&&h.outlets===void 0){if(!P_(l,h,o))return s;n+=2}else{if(!P_(l,{},o))return s;n++}r++}return{match:!0,pathIndex:r,commandIndex:n}}function dd(i,t,e){let n=i.segments.slice(0,t),r=0;for(;r<e.length;){let s=e[r];if(Ws(s)){let l=bE(s.outlets);return new ye(n,l)}if(r===0&&za(e[0])){let l=i.segments[t];n.push(new wn(l.path,M_(e[0]))),r++;continue}let o=Ws(s)?s.outlets[ne]:`${s}`,c=r<e.length-1?e[r+1]:null;o&&c&&za(c)?(n.push(new wn(o,M_(c))),r+=2):(n.push(new wn(o,{})),r++)}return new ye(n,{})}function bE(i){let t={};return Object.entries(i).forEach(([e,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(t[e]=dd(new ye([],{}),0,n))}),t}function M_(i){let t={};return Object.entries(i).forEach(([e,n])=>t[e]=`${n}`),t}function P_(i,t,e){return i==e.path&&ri(t,e.parameters)}var qs="imperative",Ye=function(i){return i[i.NavigationStart=0]="NavigationStart",i[i.NavigationEnd=1]="NavigationEnd",i[i.NavigationCancel=2]="NavigationCancel",i[i.NavigationError=3]="NavigationError",i[i.RoutesRecognized=4]="RoutesRecognized",i[i.ResolveStart=5]="ResolveStart",i[i.ResolveEnd=6]="ResolveEnd",i[i.GuardsCheckStart=7]="GuardsCheckStart",i[i.GuardsCheckEnd=8]="GuardsCheckEnd",i[i.RouteConfigLoadStart=9]="RouteConfigLoadStart",i[i.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",i[i.ChildActivationStart=11]="ChildActivationStart",i[i.ChildActivationEnd=12]="ChildActivationEnd",i[i.ActivationStart=13]="ActivationStart",i[i.ActivationEnd=14]="ActivationEnd",i[i.Scroll=15]="Scroll",i[i.NavigationSkipped=16]="NavigationSkipped",i}(Ye||{}),zt=class{constructor(t,e){this.id=t,this.url=e}},dr=class extends zt{constructor(t,e,n="imperative",r=null){super(t,e),this.type=Ye.NavigationStart,this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},si=class extends zt{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n,this.type=Ye.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},xt=function(i){return i[i.Redirect=0]="Redirect",i[i.SupersededByNewNavigation=1]="SupersededByNewNavigation",i[i.NoDataFromResolver=2]="NoDataFromResolver",i[i.GuardRejected=3]="GuardRejected",i}(xt||{}),qa=function(i){return i[i.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",i[i.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",i}(qa||{}),Ii=class extends zt{constructor(t,e,n,r){super(t,e),this.reason=n,this.code=r,this.type=Ye.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Wi=class extends zt{constructor(t,e,n,r){super(t,e),this.reason=n,this.code=r,this.type=Ye.NavigationSkipped}},Hs=class extends zt{constructor(t,e,n,r){super(t,e),this.error=n,this.target=r,this.type=Ye.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ga=class extends zt{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r,this.type=Ye.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},hd=class extends zt{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r,this.type=Ye.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},md=class extends zt{constructor(t,e,n,r,s){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=s,this.type=Ye.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},fd=class extends zt{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r,this.type=Ye.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},pd=class extends zt{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r,this.type=Ye.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},gd=class{constructor(t){this.route=t,this.type=Ye.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},_d=class{constructor(t){this.route=t,this.type=Ye.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},vd=class{constructor(t){this.snapshot=t,this.type=Ye.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},yd=class{constructor(t){this.snapshot=t,this.type=Ye.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},bd=class{constructor(t){this.snapshot=t,this.type=Ye.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},wd=class{constructor(t){this.snapshot=t,this.type=Ye.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Wa=class{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n,this.type=Ye.Scroll}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},Ks=class{},hr=class{constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}};function wE(i,t){return i.providers&&!i._injector&&(i._injector=Vu(i.providers,t,`Route: ${i.path}`)),i._injector??t}function Zt(i){return i.outlet||ne}function IE(i,t){let e=i.filter(n=>Zt(n)===t);return e.push(...i.filter(n=>Zt(n)!==t)),e}function io(i){if(!i)return null;if(i.routeConfig?._injector)return i.routeConfig._injector;for(let t=i.parent;t;t=t.parent){let e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var Id=class{get injector(){return io(this.route?.snapshot)??this.rootInjector}set injector(t){}constructor(t){this.rootInjector=t,this.outlet=null,this.route=null,this.children=new no(this.rootInjector),this.attachRef=null}},no=(()=>{class i{constructor(e){this.rootInjector=e,this.contexts=new Map}onChildOutletCreated(e,n){let r=this.getOrCreateContext(e);r.outlet=n,this.contexts.set(e,r)}onChildOutletDestroyed(e){let n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new Id(this.rootInjector),this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}static{this.\u0275fac=function(n){return new(n||i)(N(Jn))}}static{this.\u0275prov=L({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),Ha=class{constructor(t){this._root=t}get root(){return this._root.value}parent(t){let e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){let e=Ed(t,this._root);return e?e.children.map(n=>n.value):[]}firstChild(t){let e=Ed(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){let e=Td(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return Td(t,this._root).map(e=>e.value)}};function Ed(i,t){if(i===t.value)return t;for(let e of t.children){let n=Ed(i,e);if(n)return n}return null}function Td(i,t){if(i===t.value)return[t];for(let e of t.children){let n=Td(i,e);if(n.length)return n.unshift(t),n}return[]}var Dt=class{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}};function sr(i){let t={};return i&&i.children.forEach(e=>t[e.value.outlet]=e),t}var Ka=class extends Ha{constructor(t,e){super(t),this.snapshot=e,Pd(this,t)}toString(){return this.snapshot.toString()}};function ev(i){let t=EE(i),e=new _t([new wn("",{})]),n=new _t({}),r=new _t({}),s=new _t({}),o=new _t(""),c=new oi(e,n,s,o,r,ne,i,t.root);return c.snapshot=t.root,new Ka(new Dt(c,[]),t)}function EE(i){let t={},e={},n={},r="",s=new ar([],t,n,r,e,ne,i,null,{});return new Ya("",new Dt(s,[]))}var oi=class{constructor(t,e,n,r,s,o,c,l){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=n,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=c,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(G(h=>h[eo]))??j(void 0),this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(G(t=>lr(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(G(t=>lr(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Qa(i,t,e="emptyOnly"){let n,{routeConfig:r}=i;return t!==null&&(e==="always"||r?.path===""||!t.component&&!t.routeConfig?.loadComponent)?n={params:O(O({},t.params),i.params),data:O(O({},t.data),i.data),resolve:O(O(O(O({},i.data),t.data),r?.data),i._resolvedData)}:n={params:O({},i.params),data:O({},i.data),resolve:O(O({},i.data),i._resolvedData??{})},r&&iv(r)&&(n.resolve[eo]=r.title),n}var ar=class{get title(){return this.data?.[eo]}constructor(t,e,n,r,s,o,c,l,h){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=s,this.outlet=o,this.component=c,this.routeConfig=l,this._resolve=h}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=lr(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=lr(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(n=>n.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${e}')`}},Ya=class extends Ha{constructor(t,e){super(e),this.url=t,Pd(this,e)}toString(){return tv(this._root)}};function Pd(i,t){t.value._routerState=i,t.children.forEach(e=>Pd(i,e))}function tv(i){let t=i.children.length>0?` { ${i.children.map(tv).join(", ")} } `:"";return`${i.value}${t}`}function sd(i){if(i.snapshot){let t=i.snapshot,e=i._futureSnapshot;i.snapshot=e,ri(t.queryParams,e.queryParams)||i.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&i.fragmentSubject.next(e.fragment),ri(t.params,e.params)||i.paramsSubject.next(e.params),Y0(t.url,e.url)||i.urlSubject.next(e.url),ri(t.data,e.data)||i.dataSubject.next(e.data)}else i.snapshot=i._futureSnapshot,i.dataSubject.next(i._futureSnapshot.data)}function Ad(i,t){let e=ri(i.params,t.params)&&eE(i.url,t.url),n=!i.parent!=!t.parent;return e&&!n&&(!i.parent||Ad(i.parent,t.parent))}function iv(i){return typeof i.title=="string"||i.title===null}var Od=(()=>{class i{constructor(){this.activated=null,this._activatedRoute=null,this.name=ne,this.activateEvents=new Re,this.deactivateEvents=new Re,this.attachEvents=new Re,this.detachEvents=new Re,this.parentContexts=F(no),this.location=F(Nu),this.changeDetector=F(We),this.inputBinder=F(ec,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){let{firstChange:n,previousValue:r}=e.name;if(n)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ke(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ke(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ke(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,n){this.activated=e,this._activatedRoute=n,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,n){if(this.isActivated)throw new ke(4013,!1);this._activatedRoute=e;let r=this.location,o=e.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new Cd(e,c,r.injector);this.activated=r.createComponent(o,{index:r.length,injector:l,environmentInjector:n}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275dir=_e({type:i,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[qi]})}}return i})(),Cd=class i{__ngOutletInjector(t){return new i(this.route,this.childContexts,t)}constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===oi?this.route:t===no?this.childContexts:this.parent.get(t,e)}},ec=new z(""),O_=(()=>{class i{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:n}=e,r=Xn([n.queryParams,n.params,n.data]).pipe(At(([s,o,c],l)=>(c=O(O(O({},s),o),c),l===0?j(c):Promise.resolve(c)))).subscribe(s=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==n||n.component===null){this.unsubscribeFromRouteData(e);return}let o=Yg(n.component);if(!o){this.unsubscribeFromRouteData(e);return}for(let{templateName:c}of o.inputs)e.activatedComponentRef.setInput(c,s[c])});this.outletDataSubscriptions.set(e,r)}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=L({token:i,factory:i.\u0275fac})}}return i})();function TE(i,t,e){let n=Qs(i,t._root,e?e._root:void 0);return new Ka(n,t)}function Qs(i,t,e){if(e&&i.shouldReuseRoute(t.value,e.value.snapshot)){let n=e.value;n._futureSnapshot=t.value;let r=AE(i,t,e);return new Dt(n,r)}else{if(i.shouldAttach(t.value)){let s=i.retrieve(t.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(c=>Qs(i,c)),o}}let n=CE(t.value),r=t.children.map(s=>Qs(i,s));return new Dt(n,r)}}function AE(i,t,e){return t.children.map(n=>{for(let r of e.children)if(i.shouldReuseRoute(n.value,r.value.snapshot))return Qs(i,n,r);return Qs(i,n)})}function CE(i){return new oi(new _t(i.url),new _t(i.params),new _t(i.queryParams),new _t(i.fragment),new _t(i.data),i.outlet,i.component,i)}var Ys=class{constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}},nv="ngNavigationCancelingError";function Xa(i,t){let{redirectTo:e,navigationBehaviorOptions:n}=En(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=rv(!1,xt.Redirect);return r.url=e,r.navigationBehaviorOptions=n,r}function rv(i,t){let e=new Error(`NavigationCancelingError: ${i||""}`);return e[nv]=!0,e.cancellationCode=t,e}function SE(i){return sv(i)&&En(i.url)}function sv(i){return!!i&&i[nv]}var kE=(i,t,e,n)=>G(r=>(new Sd(t,r.targetRouterState,r.currentRouterState,e,n).activate(i),r)),Sd=class{constructor(t,e,n,r,s){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r,this.inputBindingEnabled=s}activate(t){let e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),sd(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){let r=sr(e);t.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,r[o],n),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,n)})}deactivateRoutes(t,e,n){let r=t.value,s=e?e.value:null;if(r===s)if(r.component){let o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,n);else s&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){let n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,s=sr(t);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);if(n&&n.outlet){let o=n.outlet.detach(),c=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:c})}}deactivateRouteAndOutlet(t,e){let n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,s=sr(t);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,r);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(t,e,n){let r=sr(e);t.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],n),this.forwardEvent(new wd(s.value.snapshot))}),t.children.length&&this.forwardEvent(new yd(t.value.snapshot))}activateRoutes(t,e,n){let r=t.value,s=e?e.value:null;if(sd(r),r===s)if(r.component){let o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,n);else if(r.component){let o=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let c=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(c.contexts),o.attachRef=c.componentRef,o.route=c.route.value,o.outlet&&o.outlet.attach(c.componentRef,c.route.value),sd(c.route.value),this.activateChildRoutes(t,null,o.children)}else o.attachRef=null,o.route=r,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(t,null,o.children)}else this.activateChildRoutes(t,null,n)}},Ja=class{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},cr=class{constructor(t,e){this.component=t,this.route=e}};function RE(i,t,e){let n=i._root,r=t?t._root:null;return Bs(n,r,e,[n.value])}function DE(i){let t=i.routeConfig?i.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:i,guards:t}}function fr(i,t){let e=Symbol(),n=t.get(i,e);return n===e?typeof i=="function"&&!Eg(i)?i:t.get(i):n}function Bs(i,t,e,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=sr(t);return i.children.forEach(o=>{xE(o,s[o.value.outlet],e,n.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,c])=>Gs(c,e.getContext(o),r)),r}function xE(i,t,e,n,r={canDeactivateChecks:[],canActivateChecks:[]}){let s=i.value,o=t?t.value:null,c=e?e.getContext(i.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let l=ME(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new Ja(n)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Bs(i,t,c?c.children:null,n,r):Bs(i,t,e,n,r),l&&c&&c.outlet&&c.outlet.isActivated&&r.canDeactivateChecks.push(new cr(c.outlet.component,o))}else o&&Gs(t,c,r),r.canActivateChecks.push(new Ja(n)),s.component?Bs(i,null,c?c.children:null,n,r):Bs(i,null,e,n,r);return r}function ME(i,t,e){if(typeof e=="function")return e(i,t);switch(e){case"pathParamsChange":return!In(i.url,t.url);case"pathParamsOrQueryParamsChange":return!In(i.url,t.url)||!ri(i.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ad(i,t)||!ri(i.queryParams,t.queryParams);case"paramsChange":default:return!Ad(i,t)}}function Gs(i,t,e){let n=sr(i),r=i.value;Object.entries(n).forEach(([s,o])=>{r.component?t?Gs(o,t.children.getContext(s),e):Gs(o,null,e):Gs(o,t,e)}),r.component?t&&t.outlet&&t.outlet.isActivated?e.canDeactivateChecks.push(new cr(t.outlet.component,r)):e.canDeactivateChecks.push(new cr(null,r)):e.canDeactivateChecks.push(new cr(null,r))}function ro(i){return typeof i=="function"}function PE(i){return typeof i=="boolean"}function OE(i){return i&&ro(i.canLoad)}function NE(i){return i&&ro(i.canActivate)}function VE(i){return i&&ro(i.canActivateChild)}function FE(i){return i&&ro(i.canDeactivate)}function LE(i){return i&&ro(i.canMatch)}function ov(i){return i instanceof bg||i?.name==="EmptyError"}var La=Symbol("INITIAL_VALUE");function mr(){return At(i=>Xn(i.map(t=>t.pipe(Tt(1),yi(La)))).pipe(G(t=>{for(let e of t)if(e!==!0){if(e===La)return La;if(e===!1||UE(e))return e}return!0}),Fe(t=>t!==La),Tt(1)))}function UE(i){return En(i)||i instanceof Ys}function jE(i,t){return Et(e=>{let{targetSnapshot:n,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=e;return o.length===0&&s.length===0?j(Ee(O({},e),{guardsResult:!0})):BE(o,n,r,i).pipe(Et(c=>c&&PE(c)?zE(n,s,i,t):j(c)),G(c=>Ee(O({},e),{guardsResult:c})))})}function BE(i,t,e,n){return et(i).pipe(Et(r=>HE(r.component,r.route,e,t,n)),$i(r=>r!==!0,!0))}function zE(i,t,e,n){return et(t).pipe(zi(r=>_a(qE(r.route.parent,n),$E(r.route,n),WE(i,r.path,e),GE(i,r.route,e))),$i(r=>r!==!0,!0))}function $E(i,t){return i!==null&&t&&t(new bd(i)),j(!0)}function qE(i,t){return i!==null&&t&&t(new vd(i)),j(!0)}function GE(i,t,e){let n=t.routeConfig?t.routeConfig.canActivate:null;if(!n||n.length===0)return j(!0);let r=n.map(s=>Au(()=>{let o=io(t)??e,c=fr(s,o),l=NE(c)?c.canActivate(t,i):Qt(o,()=>c(t,i));return Hi(l).pipe($i())}));return j(r).pipe(mr())}function WE(i,t,e){let n=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(o=>DE(o)).filter(o=>o!==null).map(o=>Au(()=>{let c=o.guards.map(l=>{let h=io(o.node)??e,d=fr(l,h),f=VE(d)?d.canActivateChild(n,i):Qt(h,()=>d(n,i));return Hi(f).pipe($i())});return j(c).pipe(mr())}));return j(s).pipe(mr())}function HE(i,t,e,n,r){let s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!s||s.length===0)return j(!0);let o=s.map(c=>{let l=io(t)??r,h=fr(c,l),d=FE(h)?h.canDeactivate(i,t,e,n):Qt(l,()=>h(i,t,e,n));return Hi(d).pipe($i())});return j(o).pipe(mr())}function KE(i,t,e,n){let r=t.canLoad;if(r===void 0||r.length===0)return j(!0);let s=r.map(o=>{let c=fr(o,i),l=OE(c)?c.canLoad(t,e):Qt(i,()=>c(t,e));return Hi(l)});return j(s).pipe(mr(),av(n))}function av(i){return vu(Me(t=>{if(typeof t!="boolean")throw Xa(i,t)}),G(t=>t===!0))}function QE(i,t,e,n){let r=t.canMatch;if(!r||r.length===0)return j(!0);let s=r.map(o=>{let c=fr(o,i),l=LE(c)?c.canMatch(t,e):Qt(i,()=>c(t,e));return Hi(l)});return j(s).pipe(mr(),av(n))}var Xs=class{constructor(t){this.segmentGroup=t||null}},Js=class extends Error{constructor(t){super(),this.urlTree=t}};function rr(i){return dn(new Xs(i))}function YE(i){return dn(new ke(4e3,!1))}function XE(i){return dn(rv(!1,xt.GuardRejected))}var kd=class{constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),r.numberOfChildren===0)return j(n);if(r.numberOfChildren>1||!r.children[ne])return YE(`${t.redirectTo}`);r=r.children[ne]}}applyRedirectCommands(t,e,n,r,s){if(typeof e!="string"){let c=e,{queryParams:l,fragment:h,routeConfig:d,url:f,outlet:p,params:_,data:C,title:x}=r,D=Qt(s,()=>c({params:_,data:C,queryParams:l,fragment:h,routeConfig:d,url:f,outlet:p,title:x}));if(D instanceof Ei)throw new Js(D);e=D}let o=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,n);if(e[0]==="/")throw new Js(o);return o}applyRedirectCreateUrlTree(t,e,n,r){let s=this.createSegmentGroup(t,e.root,n,r);return new Ei(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){let n={};return Object.entries(t).forEach(([r,s])=>{if(typeof s=="string"&&s[0]===":"){let c=s.substring(1);n[r]=e[c]}else n[r]=s}),n}createSegmentGroup(t,e,n,r){let s=this.createSegments(t,e.segments,n,r),o={};return Object.entries(e.children).forEach(([c,l])=>{o[c]=this.createSegmentGroup(t,l,n,r)}),new ye(s,o)}createSegments(t,e,n,r){return e.map(s=>s.path[0]===":"?this.findPosParam(t,s,r):this.findOrReturn(s,n))}findPosParam(t,e,n){let r=n[e.path.substring(1)];if(!r)throw new ke(4001,!1);return r}findOrReturn(t,e){let n=0;for(let r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}},Rd={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function JE(i,t,e,n,r){let s=cv(i,t,e);return s.matched?(n=wE(t,n),QE(n,t,e,r).pipe(G(o=>o===!0?s:O({},Rd)))):j(s)}function cv(i,t,e){if(t.path==="**")return ZE(e);if(t.path==="")return t.pathMatch==="full"&&(i.hasChildren()||e.length>0)?O({},Rd):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let r=(t.matcher||Q0)(e,i,t);if(!r)return O({},Rd);let s={};Object.entries(r.posParams??{}).forEach(([c,l])=>{s[c]=l.path});let o=r.consumed.length>0?O(O({},s),r.consumed[r.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function ZE(i){return{matched:!0,parameters:i.length>0?B_(i).parameters:{},consumedSegments:i,remainingSegments:[],positionalParamSegments:{}}}function N_(i,t,e,n){return e.length>0&&iT(i,e,n)?{segmentGroup:new ye(t,tT(n,new ye(e,i.children))),slicedSegments:[]}:e.length===0&&nT(i,e,n)?{segmentGroup:new ye(i.segments,eT(i,e,n,i.children)),slicedSegments:e}:{segmentGroup:new ye(i.segments,i.children),slicedSegments:e}}function eT(i,t,e,n){let r={};for(let s of e)if(tc(i,t,s)&&!n[Zt(s)]){let o=new ye([],{});r[Zt(s)]=o}return O(O({},n),r)}function tT(i,t){let e={};e[ne]=t;for(let n of i)if(n.path===""&&Zt(n)!==ne){let r=new ye([],{});e[Zt(n)]=r}return e}function iT(i,t,e){return e.some(n=>tc(i,t,n)&&Zt(n)!==ne)}function nT(i,t,e){return e.some(n=>tc(i,t,n))}function tc(i,t,e){return(i.hasChildren()||t.length>0)&&e.pathMatch==="full"?!1:e.path===""}function rT(i,t,e){return t.length===0&&!i.children[e]}var Dd=class{};function sT(i,t,e,n,r,s,o="emptyOnly"){return new xd(i,t,e,n,r,o,s).recognize()}var oT=31,xd=class{constructor(t,e,n,r,s,o,c){this.injector=t,this.configLoader=e,this.rootComponentType=n,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=c,this.applyRedirects=new kd(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(t){return new ke(4002,`'${t.segmentGroup}'`)}recognize(){let t=N_(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(G(({children:e,rootSnapshot:n})=>{let r=new Dt(n,e),s=new Ya("",r),o=fE(n,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(t){let e=new ar([],Object.freeze({}),Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ne,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,ne,e).pipe(G(n=>({children:n,rootSnapshot:e})),Bi(n=>{if(n instanceof Js)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof Xs?this.noMatchError(n):n}))}processSegmentGroup(t,e,n,r,s){return n.segments.length===0&&n.hasChildren()?this.processChildren(t,e,n,s):this.processSegment(t,e,n,n.segments,r,!0,s).pipe(G(o=>o instanceof Dt?[o]:[]))}processChildren(t,e,n,r){let s=[];for(let o of Object.keys(n.children))o==="primary"?s.unshift(o):s.push(o);return et(s).pipe(zi(o=>{let c=n.children[o],l=IE(e,o);return this.processSegmentGroup(t,l,c,o,r)}),Ru((o,c)=>(o.push(...c),o)),Su(null),wg(),Et(o=>{if(o===null)return rr(n);let c=lv(o);return aT(c),j(c)}))}processSegment(t,e,n,r,s,o,c){return et(e).pipe(zi(l=>this.processSegmentAgainstRoute(l._injector??t,e,l,n,r,s,o,c).pipe(Bi(h=>{if(h instanceof Xs)return j(null);throw h}))),$i(l=>!!l),Bi(l=>{if(ov(l))return rT(n,r,s)?j(new Dd):rr(n);throw l}))}processSegmentAgainstRoute(t,e,n,r,s,o,c,l){return Zt(n)!==o&&(o===ne||!tc(r,s,n))?rr(r):n.redirectTo===void 0?this.matchSegmentAgainstRoute(t,r,n,s,o,l):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(t,r,e,n,s,o,l):rr(r)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,s,o,c){let{matched:l,parameters:h,consumedSegments:d,positionalParamSegments:f,remainingSegments:p}=cv(e,r,s);if(!l)return rr(e);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>oT&&(this.allowRedirects=!1));let _=new ar(s,h,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,V_(r),Zt(r),r.component??r._loadedComponent??null,r,F_(r)),C=Qa(_,c,this.paramsInheritanceStrategy);_.params=Object.freeze(C.params),_.data=Object.freeze(C.data);let x=this.applyRedirects.applyRedirectCommands(d,r.redirectTo,f,_,t);return this.applyRedirects.lineralizeSegments(r,x).pipe(Et(D=>this.processSegment(t,n,e,D.concat(p),o,!1,c)))}matchSegmentAgainstRoute(t,e,n,r,s,o){let c=JE(e,n,r,t,this.urlSerializer);return n.path==="**"&&(e.children={}),c.pipe(At(l=>l.matched?(t=n._injector??t,this.getChildConfig(t,n,r).pipe(At(({routes:h})=>{let d=n._loadedInjector??t,{parameters:f,consumedSegments:p,remainingSegments:_}=l,C=new ar(p,f,Object.freeze(O({},this.urlTree.queryParams)),this.urlTree.fragment,V_(n),Zt(n),n.component??n._loadedComponent??null,n,F_(n)),x=Qa(C,o,this.paramsInheritanceStrategy);C.params=Object.freeze(x.params),C.data=Object.freeze(x.data);let{segmentGroup:D,slicedSegments:W}=N_(e,p,_,h);if(W.length===0&&D.hasChildren())return this.processChildren(d,h,D,C).pipe(G(K=>new Dt(C,K)));if(h.length===0&&W.length===0)return j(new Dt(C,[]));let Y=Zt(n)===s;return this.processSegment(d,h,D,W,Y?ne:s,!0,C).pipe(G(K=>new Dt(C,K instanceof Dt?[K]:[])))}))):rr(e)))}getChildConfig(t,e,n){return e.children?j({routes:e.children,injector:t}):e.loadChildren?e._loadedRoutes!==void 0?j({routes:e._loadedRoutes,injector:e._loadedInjector}):KE(t,e,n,this.urlSerializer).pipe(Et(r=>r?this.configLoader.loadChildren(t,e).pipe(Me(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):XE(e))):j({routes:[],injector:t})}};function aT(i){i.sort((t,e)=>t.value.outlet===ne?-1:e.value.outlet===ne?1:t.value.outlet.localeCompare(e.value.outlet))}function cT(i){let t=i.value.routeConfig;return t&&t.path===""}function lv(i){let t=[],e=new Set;for(let n of i){if(!cT(n)){t.push(n);continue}let r=t.find(s=>n.value.routeConfig===s.value.routeConfig);r!==void 0?(r.children.push(...n.children),e.add(r)):t.push(n)}for(let n of e){let r=lv(n.children);t.push(new Dt(n.value,r))}return t.filter(n=>!e.has(n))}function V_(i){return i.data||{}}function F_(i){return i.resolve||{}}function lT(i,t,e,n,r,s){return Et(o=>sT(i,t,e,n,o.extractedUrl,r,s).pipe(G(({state:c,tree:l})=>Ee(O({},o),{targetSnapshot:c,urlAfterRedirects:l}))))}function uT(i,t){return Et(e=>{let{targetSnapshot:n,guards:{canActivateChecks:r}}=e;if(!r.length)return j(e);let s=new Set(r.map(l=>l.route)),o=new Set;for(let l of s)if(!o.has(l))for(let h of uv(l))o.add(h);let c=0;return et(o).pipe(zi(l=>s.has(l)?dT(l,n,i,t):(l.data=Qa(l,l.parent,i).resolve,j(void 0))),Me(()=>c++),ku(1),Et(l=>c===o.size?j(e):ji))})}function uv(i){let t=i.children.map(e=>uv(e)).flat();return[i,...t]}function dT(i,t,e,n){let r=i.routeConfig,s=i._resolve;return r?.title!==void 0&&!iv(r)&&(s[eo]=r.title),hT(s,i,t,n).pipe(G(o=>(i._resolvedData=o,i.data=Qa(i,i.parent,e).resolve,null)))}function hT(i,t,e,n){let r=cd(i);if(r.length===0)return j({});let s={};return et(r).pipe(Et(o=>mT(i[o],t,e,n).pipe($i(),Me(c=>{if(c instanceof Ys)throw Xa(new ur,c);s[o]=c}))),ku(1),ys(s),Bi(o=>ov(o)?ji:dn(o)))}function mT(i,t,e,n){let r=io(t)??n,s=fr(i,r),o=s.resolve?s.resolve(t,e):Qt(r,()=>s(t,e));return Hi(o)}function od(i){return At(t=>{let e=i(t);return e?et(e).pipe(G(()=>t)):j(t)})}var dv=(()=>{class i{buildTitle(e){let n,r=e.root;for(;r!==void 0;)n=this.getResolvedTitleForRoute(r)??n,r=r.children.find(s=>s.outlet===ne);return n}getResolvedTitleForRoute(e){return e.data[eo]}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=L({token:i,factory:()=>F(fT),providedIn:"root"})}}return i})(),fT=(()=>{class i extends dv{constructor(e){super(),this.title=e}updateTitle(e){let n=this.buildTitle(e);n!==void 0&&this.title.setTitle(n)}static{this.\u0275fac=function(n){return new(n||i)(N(S_))}}static{this.\u0275prov=L({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),so=new z("",{providedIn:"root",factory:()=>({})}),pT=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=X({type:i,selectors:[["ng-component"]],standalone:!0,features:[J],decls:1,vars:0,template:function(n,r){n&1&&we(0,"router-outlet")},dependencies:[Od],encapsulation:2})}}return i})();function Nd(i){let t=i.children&&i.children.map(Nd),e=t?Ee(O({},i),{children:t}):O({},i);return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==ne&&(e.component=pT),e}var Zs=new z(""),Vd=(()=>{class i{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=F(Ra)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return j(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let n=Hi(e.loadComponent()).pipe(G(hv),Me(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),mn(()=>{this.componentLoaders.delete(e)})),r=new bu(n,()=>new pe).pipe(yu());return this.componentLoaders.set(e,r),r}loadChildren(e,n){if(this.childrenLoaders.get(n))return this.childrenLoaders.get(n);if(n._loadedRoutes)return j({routes:n._loadedRoutes,injector:n._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(n);let s=gT(n,this.compiler,e,this.onLoadEndListener).pipe(mn(()=>{this.childrenLoaders.delete(n)})),o=new bu(s,()=>new pe).pipe(yu());return this.childrenLoaders.set(n,o),o}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=L({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function gT(i,t,e,n){return Hi(i.loadChildren()).pipe(G(hv),Et(r=>r instanceof Fg||Array.isArray(r)?j(r):et(t.compileModuleAsync(r))),G(r=>{n&&n(i);let s,o,c=!1;return Array.isArray(r)?(o=r,c=!0):(s=r.create(e).injector,o=s.get(Zs,[],{optional:!0,self:!0}).flat()),{routes:o.map(Nd),injector:s}}))}function _T(i){return i&&typeof i=="object"&&"default"in i}function hv(i){return _T(i)?i.default:i}var Fd=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=L({token:i,factory:()=>F(vT),providedIn:"root"})}}return i})(),vT=(()=>{class i{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=L({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),mv=new z(""),fv=new z("");function yT(i,t,e){let n=i.get(fv),r=i.get(le);return i.get(ee).runOutsideAngular(()=>{if(!r.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,new Promise(h=>setTimeout(h));let s,o=new Promise(h=>{s=h}),c=r.startViewTransition(()=>(s(),bT(i))),{onViewTransitionCreated:l}=n;return l&&Qt(i,()=>l({transition:c,from:t,to:e})),o})}function bT(i){return new Promise(t=>{gn({read:()=>setTimeout(t)},{injector:i})})}var wT=new z(""),Ld=(()=>{class i{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new pe,this.transitionAbortSubject=new pe,this.configLoader=F(Vd),this.environmentInjector=F(Jn),this.urlSerializer=F(to),this.rootContexts=F(no),this.location=F(Ps),this.inputBindingEnabled=F(ec,{optional:!0})!==null,this.titleStrategy=F(dv),this.options=F(so,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=F(Fd),this.createViewTransition=F(mv,{optional:!0}),this.navigationErrorHandler=F(wT,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>j(void 0),this.rootComponentType=null;let e=r=>this.events.next(new gd(r)),n=r=>this.events.next(new _d(r));this.configLoader.onLoadEndListener=n,this.configLoader.onLoadStartListener=e}complete(){this.transitions?.complete()}handleNavigationRequest(e){let n=++this.navigationId;this.transitions?.next(Ee(O(O({},this.transitions.value),e),{id:n}))}setupNavigations(e,n,r){return this.transitions=new _t({id:0,currentUrlTree:n,currentRawUrl:n,extractedUrl:this.urlHandlingStrategy.extract(n),urlAfterRedirects:this.urlHandlingStrategy.extract(n),rawUrl:n,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:qs,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Fe(s=>s.id!==0),G(s=>Ee(O({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),At(s=>{let o=!1,c=!1;return j(s).pipe(At(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",xt.SupersededByNewNavigation),ji;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?Ee(O({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let h=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=l.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!h&&d!=="reload"){let f="";return this.events.next(new Wi(l.id,this.urlSerializer.serialize(l.rawUrl),f,qa.IgnoredSameUrlNavigation)),l.resolve(!1),ji}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return j(l).pipe(At(f=>{let p=this.transitions?.getValue();return this.events.next(new dr(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),p!==this.transitions?.getValue()?ji:Promise.resolve(f)}),lT(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),Me(f=>{s.targetSnapshot=f.targetSnapshot,s.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation=Ee(O({},this.currentNavigation),{finalUrl:f.urlAfterRedirects});let p=new Ga(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(p)}));if(h&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:f,extractedUrl:p,source:_,restoredState:C,extras:x}=l,D=new dr(f,this.urlSerializer.serialize(p),_,C);this.events.next(D);let W=ev(this.rootComponentType).snapshot;return this.currentTransition=s=Ee(O({},l),{targetSnapshot:W,urlAfterRedirects:p,extras:Ee(O({},x),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=p,j(s)}else{let f="";return this.events.next(new Wi(l.id,this.urlSerializer.serialize(l.extractedUrl),f,qa.IgnoredByUrlHandlingStrategy)),l.resolve(!1),ji}}),Me(l=>{let h=new hd(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),G(l=>(this.currentTransition=s=Ee(O({},l),{guards:RE(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),jE(this.environmentInjector,l=>this.events.next(l)),Me(l=>{if(s.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw Xa(this.urlSerializer,l.guardsResult);let h=new md(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(h)}),Fe(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",xt.GuardRejected),!1)),od(l=>{if(l.guards.canActivateChecks.length)return j(l).pipe(Me(h=>{let d=new fd(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(d)}),At(h=>{let d=!1;return j(h).pipe(uT(this.paramsInheritanceStrategy,this.environmentInjector),Me({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(h,"",xt.NoDataFromResolver)}}))}),Me(h=>{let d=new pd(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(d)}))}),od(l=>{let h=d=>{let f=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(d.routeConfig).pipe(Me(p=>{d.component=p}),G(()=>{})));for(let p of d.children)f.push(...h(p));return f};return Xn(h(l.targetSnapshot.root)).pipe(Su(null),Tt(1))}),od(()=>this.afterPreactivation()),At(()=>{let{currentSnapshot:l,targetSnapshot:h}=s,d=this.createViewTransition?.(this.environmentInjector,l.root,h.root);return d?et(d).pipe(G(()=>s)):j(s)}),G(l=>{let h=TE(e.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=Ee(O({},l),{targetRouterState:h}),this.currentNavigation.targetRouterState=h,s}),Me(()=>{this.events.next(new Ks)}),kE(this.rootContexts,e.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Tt(1),Me({next:l=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new si(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{o=!0}}),Ge(this.transitionAbortSubject.pipe(Me(l=>{throw l}))),mn(()=>{!o&&!c&&this.cancelNavigationTransition(s,"",xt.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Bi(l=>{if(c=!0,sv(l))this.events.next(new Ii(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),SE(l)?this.events.next(new hr(l.url,l.navigationBehaviorOptions)):s.resolve(!1);else{let h=new Hs(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0);try{let d=Qt(this.environmentInjector,()=>this.navigationErrorHandler?.(h));if(d instanceof Ys){let{message:f,cancellationCode:p}=Xa(this.urlSerializer,d);this.events.next(new Ii(s.id,this.urlSerializer.serialize(s.extractedUrl),f,p)),this.events.next(new hr(d.redirectTo,d.navigationBehaviorOptions))}else{this.events.next(h);let f=e.errorHandler(l);s.resolve(!!f)}}catch(d){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(d)}}return ji}))}))}cancelNavigationTransition(e,n,r){let s=new Ii(e.id,this.urlSerializer.serialize(e.extractedUrl),n,r);this.events.next(s),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),n=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==n?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=L({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function IT(i){return i!==qs}var ET=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=L({token:i,factory:()=>F(TT),providedIn:"root"})}}return i})(),Md=class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}},TT=(()=>{class i extends Md{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Lt(i)))(r||i)}})()}static{this.\u0275prov=L({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),pv=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=L({token:i,factory:()=>F(AT),providedIn:"root"})}}return i})(),AT=(()=>{class i extends pv{constructor(){super(...arguments),this.location=F(Ps),this.urlSerializer=F(to),this.options=F(so,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=F(Fd),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Ei,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=ev(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(n=>{n.type==="popstate"&&e(n.url,n.state)})}handleRouterEvent(e,n){if(e instanceof dr)this.stateMemento=this.createStateMemento();else if(e instanceof Wi)this.rawUrlTree=n.initialUrl;else if(e instanceof Ga){if(this.urlUpdateStrategy==="eager"&&!n.extras.skipLocationChange){let r=this.urlHandlingStrategy.merge(n.finalUrl,n.initialUrl);this.setBrowserUrl(n.targetBrowserUrl??r,n)}}else e instanceof Ks?(this.currentUrlTree=n.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(n.finalUrl,n.initialUrl),this.routerState=n.targetRouterState,this.urlUpdateStrategy==="deferred"&&!n.extras.skipLocationChange&&this.setBrowserUrl(n.targetBrowserUrl??this.rawUrlTree,n)):e instanceof Ii&&(e.code===xt.GuardRejected||e.code===xt.NoDataFromResolver)?this.restoreHistory(n):e instanceof Hs?this.restoreHistory(n,!0):e instanceof si&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,n){let r=e instanceof Ei?this.urlSerializer.serialize(e):e;if(this.location.isCurrentPathEqualTo(r)||n.extras.replaceUrl){let s=this.browserPageId,o=O(O({},n.extras.state),this.generateNgRouterState(n.id,s));this.location.replaceState(r,"",o)}else{let s=O(O({},n.extras.state),this.generateNgRouterState(n.id,this.browserPageId+1));this.location.go(r,"",s)}}restoreHistory(e,n=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,s=this.currentPageId-r;s!==0?this.location.historyGo(s):this.currentUrlTree===e.finalUrl&&s===0&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(n&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,n){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:n}:{navigationId:e}}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Lt(i)))(r||i)}})()}static{this.\u0275prov=L({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),zs=function(i){return i[i.COMPLETE=0]="COMPLETE",i[i.FAILED=1]="FAILED",i[i.REDIRECTING=2]="REDIRECTING",i}(zs||{});function gv(i,t){i.events.pipe(Fe(e=>e instanceof si||e instanceof Ii||e instanceof Hs||e instanceof Wi),G(e=>e instanceof si||e instanceof Wi?zs.COMPLETE:(e instanceof Ii?e.code===xt.Redirect||e.code===xt.SupersededByNewNavigation:!1)?zs.REDIRECTING:zs.FAILED),Fe(e=>e!==zs.REDIRECTING),Tt(1)).subscribe(()=>{t()})}function CT(i){throw i}var ST={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},kT={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Mt=(()=>{class i{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=F(Sa),this.stateManager=F(pv),this.options=F(so,{optional:!0})||{},this.pendingTasks=F(Mu),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=F(Ld),this.urlSerializer=F(to),this.location=F(Ps),this.urlHandlingStrategy=F(Fd),this._events=new pe,this.errorHandler=this.options.errorHandler||CT,this.navigated=!1,this.routeReuseStrategy=F(ET),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=F(Zs,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!F(ec,{optional:!0}),this.eventsSubscription=new Ui,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(n=>{try{let r=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(r!==null&&s!==null){if(this.stateManager.handleRouterEvent(n,s),n instanceof Ii&&n.code!==xt.Redirect&&n.code!==xt.SupersededByNewNavigation)this.navigated=!0;else if(n instanceof si)this.navigated=!0;else if(n instanceof hr){let o=n.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(n.url,r.currentRawUrl),l=O({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||IT(r.source)},o);this.scheduleNavigation(c,qs,null,l,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}DT(n)&&this._events.next(n)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),qs,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,n)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",n)},0)})}navigateToSyncWithBrowser(e,n,r){let s={replaceUrl:!0},o=r?.navigationId?r:null;if(r){let l=O({},r);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let c=this.parseUrl(e);this.scheduleNavigation(c,n,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(Nd),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,n={}){let{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:c,preserveFragment:l}=n,h=l?this.currentUrlTree.fragment:o,d=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":d=O(O({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}d!==null&&(d=this.removeEmptyProps(d));let f;try{let p=r?r.snapshot:this.routerState.snapshot.root;f=Y_(p)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),f=this.currentUrlTree.root}return X_(f,e,d,h??null)}navigateByUrl(e,n={skipLocationChange:!1}){let r=En(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,qs,null,n)}navigate(e,n={skipLocationChange:!1}){return RT(e),this.navigateByUrl(this.createUrlTree(e,n),n)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,n){let r;if(n===!0?r=O({},ST):n===!1?r=O({},kT):r=n,En(e))return D_(this.currentUrlTree,e,r);let s=this.parseUrl(e);return D_(this.currentUrlTree,s,r)}removeEmptyProps(e){return Object.entries(e).reduce((n,[r,s])=>(s!=null&&(n[r]=s),n),{})}scheduleNavigation(e,n,r,s,o){if(this.disposed)return Promise.resolve(!1);let c,l,h;o?(c=o.resolve,l=o.reject,h=o.promise):h=new Promise((f,p)=>{c=f,l=p});let d=this.pendingTasks.add();return gv(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:n,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:s,resolve:c,reject:l,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(f=>Promise.reject(f))}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=L({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function RT(i){for(let t=0;t<i.length;t++)if(i[t]==null)throw new ke(4008,!1)}function DT(i){return!(i instanceof Ks)&&!(i instanceof hr)}var ic=(()=>{class i{constructor(e,n,r,s,o,c){this.router=e,this.route=n,this.tabIndexAttribute=r,this.renderer=s,this.el=o,this.locationStrategy=c,this.href=null,this.onChanges=new pe,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let l=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=e.events.subscribe(h=>{h instanceof si&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(En(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,n,r,s,o){let c=this.urlTree;if(c===null||this.isAnchorElement&&(e!==0||n||r||s||o||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.href=e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;let n=this.href===null?null:Ng(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(e,n){let r=this.renderer,s=this.el.nativeElement;n!==null?r.setAttribute(s,e,n):r.removeAttribute(s,e)}get urlTree(){return this.routerLinkInput===null?null:En(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(n){return new(n||i)(R(Mt),R(oi),Ia("tabindex"),R(As),R(de),R(Ms))}}static{this.\u0275dir=_e({type:i,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(n,r){n&1&&lt("click",function(o){return r.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),n&2&&it("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Qe],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Qe],replaceUrl:[2,"replaceUrl","replaceUrl",Qe],routerLink:"routerLink"},standalone:!0,features:[Ut,qi]})}}return i})();var Za=class{};var xT=(()=>{class i{constructor(e,n,r,s,o){this.router=e,this.injector=r,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Fe(e=>e instanceof si),zi(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,n){let r=[];for(let s of n){s.providers&&!s._injector&&(s._injector=Vu(s.providers,e,`Route: ${s.path}`));let o=s._injector??e,c=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(c,s.children??s._loadedRoutes))}return et(r).pipe(Tu())}preloadConfig(e,n){return this.preloadingStrategy.preload(n,()=>{let r;n.loadChildren&&n.canLoad===void 0?r=this.loader.loadChildren(e,n):r=j(null);let s=r.pipe(Et(o=>o===null?j(void 0):(n._loadedRoutes=o.routes,n._loadedInjector=o.injector,this.processRoutes(o.injector??e,o.routes))));if(n.loadComponent&&!n._loadedComponent){let o=this.loader.loadComponent(n);return et([s,o]).pipe(Tu())}else return s})}static{this.\u0275fac=function(n){return new(n||i)(N(Mt),N(Ra),N(Jn),N(Za),N(Vd))}}static{this.\u0275prov=L({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),_v=new z(""),MT=(()=>{class i{constructor(e,n,r,s,o={}){this.urlSerializer=e,this.transitions=n,this.viewportScroller=r,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof dr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof si?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof Wi&&e.code===qa.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Wa&&(e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,n){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Wa(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,n))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(n){Ta()}}static{this.\u0275prov=L({token:i,factory:i.\u0275fac})}}return i})();function vv(i,...t){return Kt([{provide:Zs,multi:!0,useValue:i},[],{provide:oi,useFactory:yv,deps:[Mt]},{provide:Ds,multi:!0,useFactory:bv},t.map(e=>e.\u0275providers)])}function yv(i){return i.routerState.root}function oo(i,t){return{\u0275kind:i,\u0275providers:t}}function bv(){let i=F(Ct);return t=>{let e=i.get(xs);if(t!==e.components[0])return;let n=i.get(Mt),r=i.get(wv);i.get(Ud)===1&&n.initialNavigation(),i.get(Iv,null,Du.Optional)?.setUpPreloading(),i.get(_v,null,Du.Optional)?.init(),n.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var wv=new z("",{factory:()=>new pe}),Ud=new z("",{providedIn:"root",factory:()=>1});function PT(){return oo(2,[{provide:Ud,useValue:0},{provide:Fu,multi:!0,deps:[Ct],useFactory:t=>{let e=t.get(Zg,Promise.resolve());return()=>e.then(()=>new Promise(n=>{let r=t.get(Mt),s=t.get(wv);gv(r,()=>{n(!0)}),t.get(Ld).afterPreactivation=()=>(n(!0),s.closed?j(void 0):s),r.initialNavigation()}))}}])}function OT(){return oo(3,[{provide:Fu,multi:!0,useFactory:()=>{let t=F(Mt);return()=>{t.setUpLocationChangeListener()}}},{provide:Ud,useValue:2}])}var Iv=new z("");function NT(i){return oo(0,[{provide:Iv,useExisting:xT},{provide:Za,useExisting:i}])}function VT(){return oo(8,[O_,{provide:ec,useExisting:O_}])}function FT(i){let t=[{provide:mv,useValue:yT},{provide:fv,useValue:O({skipNextTransition:!!i?.skipInitialTransition},i)}];return oo(9,t)}var L_=new z("ROUTER_FORROOT_GUARD"),LT=[Ps,{provide:to,useClass:ur},Mt,no,{provide:oi,useFactory:yv,deps:[Mt]},Vd,[]],jd=(()=>{class i{constructor(e){}static forRoot(e,n){return{ngModule:i,providers:[LT,[],{provide:Zs,multi:!0,useValue:e},{provide:L_,useFactory:zT,deps:[[Mt,new Ft,new xu]]},{provide:so,useValue:n||{}},n?.useHash?jT():BT(),UT(),n?.preloadingStrategy?NT(n.preloadingStrategy).\u0275providers:[],n?.initialNavigation?$T(n):[],n?.bindToComponentInputs?VT().\u0275providers:[],n?.enableViewTransitions?FT().\u0275providers:[],qT()]}}static forChild(e){return{ngModule:i,providers:[{provide:Zs,multi:!0,useValue:e}]}}static{this.\u0275fac=function(n){return new(n||i)(N(L_,8))}}static{this.\u0275mod=se({type:i})}static{this.\u0275inj=re({})}}return i})();function UT(){return{provide:_v,useFactory:()=>{let i=F(n_),t=F(ee),e=F(so),n=F(Ld),r=F(to);return e.scrollOffset&&i.setOffset(e.scrollOffset),new MT(r,n,i,t,e)}}}function jT(){return{provide:Ms,useClass:t_}}function BT(){return{provide:Ms,useClass:e_}}function zT(i){return"guarded"}function $T(i){return[i.initialNavigation==="disabled"?OT().\u0275providers:[],i.initialNavigation==="enabledBlocking"?PT().\u0275providers:[]]}var U_=new z("");function qT(){return[{provide:U_,useFactory:bv},{provide:Ds,multi:!0,useExisting:U_}]}var $d;try{$d=typeof Intl<"u"&&Intl.v8BreakIterator}catch{$d=!1}var De=(()=>{class i{constructor(e){this._platformId=e,this.isBrowser=this._platformId?xa(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||$d)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(n){return new(n||i)(N(St))}}static{this.\u0275prov=L({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var ao;function GT(){if(ao==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>ao=!0}))}finally{ao=ao||!1}return ao}function pr(i){return GT()?i:!!i.capture}var ei=function(i){return i[i.NORMAL=0]="NORMAL",i[i.NEGATED=1]="NEGATED",i[i.INVERTED=2]="INVERTED",i}(ei||{}),nc,Tn;function Ev(){if(Tn==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return Tn=!1,Tn;if("scrollBehavior"in document.documentElement.style)Tn=!0;else{let i=Element.prototype.scrollTo;i?Tn=!/\{\s*\[native code\]\s*\}/.test(i.toString()):Tn=!1}}return Tn}function gr(){if(typeof document!="object"||!document)return ei.NORMAL;if(nc==null){let i=document.createElement("div"),t=i.style;i.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";let e=document.createElement("div"),n=e.style;n.width="2px",n.height="1px",i.appendChild(e),document.body.appendChild(i),nc=ei.NORMAL,i.scrollLeft===0&&(i.scrollLeft=1,nc=i.scrollLeft===0?ei.NEGATED:ei.INVERTED),i.remove()}return nc}var zd;function WT(){if(zd==null){let i=typeof document<"u"?document.head:null;zd=!!(i&&(i.createShadowRoot||i.attachShadow))}return zd}function Tv(i){if(WT()){let t=i.getRootNode?i.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function Ki(i){return i.composedPath?i.composedPath()[0]:i.target}function Av(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Cv(i,...t){return t.length?t.some(e=>i[e]):i.altKey||i.shiftKey||i.ctrlKey||i.metaKey}function yt(i){return i!=null&&`${i}`!="false"}function Ti(i,t=0){return HT(i)?Number(i):arguments.length===2?t:0}function HT(i){return!isNaN(parseFloat(i))&&!isNaN(Number(i))}function qd(i){return Array.isArray(i)?i:[i]}function ti(i){return i instanceof de?i.nativeElement:i}function KT(i){if(i.type==="characterData"&&i.target instanceof Comment)return!0;if(i.type==="childList"){for(let t=0;t<i.addedNodes.length;t++)if(!(i.addedNodes[t]instanceof Comment))return!1;for(let t=0;t<i.removedNodes.length;t++)if(!(i.removedNodes[t]instanceof Comment))return!1;return!0}return!1}var Sv=(()=>{class i{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275prov=L({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),QT=(()=>{class i{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map,this._ngZone=F(ee)}ngOnDestroy(){this._observedElements.forEach((e,n)=>this._cleanupObserver(n))}observe(e){let n=ti(e);return new It(r=>{let o=this._observeElement(n).pipe(G(c=>c.filter(l=>!KT(l))),Fe(c=>!!c.length)).subscribe(c=>{this._ngZone.run(()=>{r.next(c)})});return()=>{o.unsubscribe(),this._unobserveElement(n)}})}_observeElement(e){return this._ngZone.runOutsideAngular(()=>{if(this._observedElements.has(e))this._observedElements.get(e).count++;else{let n=new pe,r=this._mutationObserverFactory.create(s=>n.next(s));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:n,count:1})}return this._observedElements.get(e).stream})}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){let{observer:n,stream:r}=this._observedElements.get(e);n&&n.disconnect(),r.complete(),this._observedElements.delete(e)}}static{this.\u0275fac=function(n){return new(n||i)(N(Sv))}}static{this.\u0275prov=L({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),kv=(()=>{class i{get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=Ti(e),this._subscribe()}constructor(e,n){this._contentObserver=e,this._elementRef=n,this.event=new Re,this._disabled=!1,this._currentSubscription=null}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();let e=this._contentObserver.observe(this._elementRef);this._currentSubscription=(this.debounce?e.pipe(hn(this.debounce)):e).subscribe(this.event)}_unsubscribe(){this._currentSubscription?.unsubscribe()}static{this.\u0275fac=function(n){return new(n||i)(R(QT),R(de))}}static{this.\u0275dir=_e({type:i,selectors:[["","cdkObserveContent",""]],inputs:{disabled:[2,"cdkObserveContentDisabled","disabled",Qe],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"],standalone:!0,features:[Ut]})}}return i})(),Rv=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=se({type:i})}static{this.\u0275inj=re({providers:[Sv]})}}return i})();var Dv=new Set,Cn,YT=(()=>{class i{constructor(e,n){this._platform=e,this._nonce=n,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):JT}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&XT(e,this._nonce),this._matchMedia(e)}static{this.\u0275fac=function(n){return new(n||i)(N(De),N(Es,8))}}static{this.\u0275prov=L({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function XT(i,t){if(!Dv.has(i))try{Cn||(Cn=document.createElement("style"),t&&Cn.setAttribute("nonce",t),Cn.setAttribute("type","text/css"),document.head.appendChild(Cn)),Cn.sheet&&(Cn.sheet.insertRule(`@media ${i} {body{ }}`,0),Dv.add(i))}catch(e){console.error(e)}}function JT(i){return{matches:i==="all"||i==="",media:i,addListener:()=>{},removeListener:()=>{}}}var Mv=(()=>{class i{constructor(e,n){this._mediaMatcher=e,this._zone=n,this._queries=new Map,this._destroySubject=new pe}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return xv(qd(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let r=xv(qd(e)).map(o=>this._registerQuery(o).observable),s=Xn(r);return s=_a(s.pipe(Tt(1)),s.pipe(wa(1),hn(0))),s.pipe(G(o=>{let c={matches:!1,breakpoints:{}};return o.forEach(({matches:l,query:h})=>{c.matches=c.matches||l,c.breakpoints[h]=l}),c}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);let n=this._mediaMatcher.matchMedia(e),s={observable:new It(o=>{let c=l=>this._zone.run(()=>o.next(l));return n.addListener(c),()=>{n.removeListener(c)}}).pipe(yi(n),G(({matches:o})=>({query:e,matches:o})),Ge(this._destroySubject)),mql:n};return this._queries.set(e,s),s}static{this.\u0275fac=function(n){return new(n||i)(N(YT),N(ee))}}static{this.\u0275prov=L({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function xv(i){return i.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}var Hd=(()=>{class i{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return eA(e)&&getComputedStyle(e).visibility==="visible"}isTabbable(e){if(!this._platform.isBrowser)return!1;let n=ZT(cA(e));if(n&&(Pv(n)===-1||!this.isVisible(n)))return!1;let r=e.nodeName.toLowerCase(),s=Pv(e);return e.hasAttribute("contenteditable")?s!==-1:r==="iframe"||r==="object"||this._platform.WEBKIT&&this._platform.IOS&&!oA(e)?!1:r==="audio"?e.hasAttribute("controls")?s!==-1:!1:r==="video"?s===-1?!1:s!==null?!0:this._platform.FIREFOX||e.hasAttribute("controls"):e.tabIndex>=0}isFocusable(e,n){return aA(e)&&!this.isDisabled(e)&&(n?.ignoreVisibility||this.isVisible(e))}static{this.\u0275fac=function(n){return new(n||i)(N(De))}}static{this.\u0275prov=L({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function ZT(i){try{return i.frameElement}catch{return null}}function eA(i){return!!(i.offsetWidth||i.offsetHeight||typeof i.getClientRects=="function"&&i.getClientRects().length)}function tA(i){let t=i.nodeName.toLowerCase();return t==="input"||t==="select"||t==="button"||t==="textarea"}function iA(i){return rA(i)&&i.type=="hidden"}function nA(i){return sA(i)&&i.hasAttribute("href")}function rA(i){return i.nodeName.toLowerCase()=="input"}function sA(i){return i.nodeName.toLowerCase()=="a"}function Vv(i){if(!i.hasAttribute("tabindex")||i.tabIndex===void 0)return!1;let t=i.getAttribute("tabindex");return!!(t&&!isNaN(parseInt(t,10)))}function Pv(i){if(!Vv(i))return null;let t=parseInt(i.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}function oA(i){let t=i.nodeName.toLowerCase(),e=t==="input"&&i.type;return e==="text"||e==="password"||t==="select"||t==="textarea"}function aA(i){return iA(i)?!1:tA(i)||nA(i)||i.hasAttribute("contenteditable")||Vv(i)}function cA(i){return i.ownerDocument&&i.ownerDocument.defaultView||window}var Wd=class{get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}constructor(t,e,n,r,s=!1,o){this._element=t,this._checker=e,this._ngZone=n,this._document=r,this._injector=o,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}destroy(){let t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){let e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return t=="start"?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){let e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){let n=this._getFirstTabbableElement(e);return n?.focus(t),!!n}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){let e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){let e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children;for(let n=0;n<e.length;n++){let r=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let e=t.children;for(let n=e.length-1;n>=0;n--){let r=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(r)return r}return null}_createAnchor(){let t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._injector?gn(t,{injector:this._injector}):setTimeout(t)}},Fv=(()=>{class i{constructor(e,n,r){this._checker=e,this._ngZone=n,this._injector=F(Ct),this._document=r}create(e,n=!1){return new Wd(e,this._checker,this._ngZone,this._document,n,this._injector)}static{this.\u0275fac=function(n){return new(n||i)(N(Hd),N(ee),N(le))}}static{this.\u0275prov=L({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function Kd(i){return i.buttons===0||i.detail===0}function Qd(i){let t=i.touches&&i.touches[0]||i.changedTouches&&i.changedTouches[0];return!!t&&t.identifier===-1&&(t.radiusX==null||t.radiusX===1)&&(t.radiusY==null||t.radiusY===1)}var lA=new z("cdk-input-modality-detector-options"),uA={ignoreKeys:[18,17,224,91,16]},Lv=650,_r=pr({passive:!0,capture:!0}),dA=(()=>{class i{get mostRecentModality(){return this._modality.value}constructor(e,n,r,s){this._platform=e,this._mostRecentTarget=null,this._modality=new _t(null),this._lastTouchMs=0,this._onKeydown=o=>{this._options?.ignoreKeys?.some(c=>c===o.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Ki(o))},this._onMousedown=o=>{Date.now()-this._lastTouchMs<Lv||(this._modality.next(Kd(o)?"keyboard":"mouse"),this._mostRecentTarget=Ki(o))},this._onTouchstart=o=>{if(Qd(o)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Ki(o)},this._options=O(O({},uA),s),this.modalityDetected=this._modality.pipe(wa(1)),this.modalityChanged=this.modalityDetected.pipe(ba()),e.isBrowser&&n.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,_r),r.addEventListener("mousedown",this._onMousedown,_r),r.addEventListener("touchstart",this._onTouchstart,_r)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,_r),document.removeEventListener("mousedown",this._onMousedown,_r),document.removeEventListener("touchstart",this._onTouchstart,_r))}static{this.\u0275fac=function(n){return new(n||i)(N(De),N(ee),N(le),N(lA,8))}}static{this.\u0275prov=L({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var sc=function(i){return i[i.IMMEDIATE=0]="IMMEDIATE",i[i.EVENTUAL=1]="EVENTUAL",i}(sc||{}),hA=new z("cdk-focus-monitor-default-options"),rc=pr({passive:!0,capture:!0}),Uv=(()=>{class i{constructor(e,n,r,s,o){this._ngZone=e,this._platform=n,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new pe,this._rootNodeFocusAndBlurListener=c=>{let l=Ki(c);for(let h=l;h;h=h.parentElement)c.type==="focus"?this._onFocus(c,h):this._onBlur(c,h)},this._document=s,this._detectionMode=o?.detectionMode||sc.IMMEDIATE}monitor(e,n=!1){let r=ti(e);if(!this._platform.isBrowser||r.nodeType!==1)return j();let s=Tv(r)||this._getDocument(),o=this._elementInfo.get(r);if(o)return n&&(o.checkChildren=!0),o.subject;let c={checkChildren:n,subject:new pe,rootNode:s};return this._elementInfo.set(r,c),this._registerGlobalListeners(c),c.subject}stopMonitoring(e){let n=ti(e),r=this._elementInfo.get(n);r&&(r.subject.complete(),this._setClasses(n),this._elementInfo.delete(n),this._removeGlobalListeners(r))}focusVia(e,n,r){let s=ti(e),o=this._getDocument().activeElement;s===o?this._getClosestElementsInfo(s).forEach(([c,l])=>this._originChanged(c,n,l)):(this._setOrigin(n),typeof s.focus=="function"&&s.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,n)=>this.stopMonitoring(n))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return this._detectionMode===sc.EVENTUAL||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,n){e.classList.toggle("cdk-focused",!!n),e.classList.toggle("cdk-touch-focused",n==="touch"),e.classList.toggle("cdk-keyboard-focused",n==="keyboard"),e.classList.toggle("cdk-mouse-focused",n==="mouse"),e.classList.toggle("cdk-program-focused",n==="program")}_setOrigin(e,n=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=e,this._originFromTouchInteraction=e==="touch"&&n,this._detectionMode===sc.IMMEDIATE){clearTimeout(this._originTimeoutId);let r=this._originFromTouchInteraction?Lv:1;this._originTimeoutId=setTimeout(()=>this._origin=null,r)}})}_onFocus(e,n){let r=this._elementInfo.get(n),s=Ki(e);!r||!r.checkChildren&&n!==s||this._originChanged(n,this._getFocusOrigin(s),r)}_onBlur(e,n){let r=this._elementInfo.get(n);!r||r.checkChildren&&e.relatedTarget instanceof Node&&n.contains(e.relatedTarget)||(this._setClasses(n),this._emitOrigin(r,null))}_emitOrigin(e,n){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(n))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;let n=e.rootNode,r=this._rootNodeFocusListenerCount.get(n)||0;r||this._ngZone.runOutsideAngular(()=>{n.addEventListener("focus",this._rootNodeFocusAndBlurListener,rc),n.addEventListener("blur",this._rootNodeFocusAndBlurListener,rc)}),this._rootNodeFocusListenerCount.set(n,r+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Ge(this._stopInputModalityDetector)).subscribe(s=>{this._setOrigin(s,!0)}))}_removeGlobalListeners(e){let n=e.rootNode;if(this._rootNodeFocusListenerCount.has(n)){let r=this._rootNodeFocusListenerCount.get(n);r>1?this._rootNodeFocusListenerCount.set(n,r-1):(n.removeEventListener("focus",this._rootNodeFocusAndBlurListener,rc),n.removeEventListener("blur",this._rootNodeFocusAndBlurListener,rc),this._rootNodeFocusListenerCount.delete(n))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,n,r){this._setClasses(e,n),this._emitOrigin(r,n),this._lastFocusOrigin=n}_getClosestElementsInfo(e){let n=[];return this._elementInfo.forEach((r,s)=>{(s===e||r.checkChildren&&s.contains(e))&&n.push([s,r])}),n}_isLastInteractionFromInputLabel(e){let{_mostRecentTarget:n,mostRecentModality:r}=this._inputModalityDetector;if(r!=="mouse"||!n||n===e||e.nodeName!=="INPUT"&&e.nodeName!=="TEXTAREA"||e.disabled)return!1;let s=e.labels;if(s){for(let o=0;o<s.length;o++)if(s[o].contains(n))return!0}return!1}static{this.\u0275fac=function(n){return new(n||i)(N(ee),N(De),N(dA),N(le,8),N(hA,8))}}static{this.\u0275prov=L({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var Sn=function(i){return i[i.NONE=0]="NONE",i[i.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",i[i.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",i}(Sn||{}),Ov="cdk-high-contrast-black-on-white",Nv="cdk-high-contrast-white-on-black",Gd="cdk-high-contrast-active",jv=(()=>{class i{constructor(e,n){this._platform=e,this._document=n,this._breakpointSubscription=F(Mv).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Sn.NONE;let e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);let n=this._document.defaultView||window,r=n&&n.getComputedStyle?n.getComputedStyle(e):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Sn.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Sn.BLACK_ON_WHITE}return Sn.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let e=this._document.body.classList;e.remove(Gd,Ov,Nv),this._hasCheckedHighContrastMode=!0;let n=this.getHighContrastMode();n===Sn.BLACK_ON_WHITE?e.add(Gd,Ov):n===Sn.WHITE_ON_BLACK&&e.add(Gd,Nv)}}static{this.\u0275fac=function(n){return new(n||i)(N(De),N(le))}}static{this.\u0275prov=L({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var mA=new z("cdk-dir-doc",{providedIn:"root",factory:fA});function fA(){return F(le)}var pA=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function gA(i){let t=i?.toLowerCase()||"";return t==="auto"&&typeof navigator<"u"&&navigator?.language?pA.test(navigator.language)?"rtl":"ltr":t==="rtl"?"rtl":"ltr"}var vr=(()=>{class i{constructor(e){if(this.value="ltr",this.change=new Re,e){let n=e.body?e.body.dir:null,r=e.documentElement?e.documentElement.dir:null;this.value=gA(n||r||"ltr")}}ngOnDestroy(){this.change.complete()}static{this.\u0275fac=function(n){return new(n||i)(N(mA,8))}}static{this.\u0275prov=L({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var Yd=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=se({type:i})}static{this.\u0275inj=re({})}}return i})();function _A(){return!0}var vA=new z("mat-sanity-checks",{providedIn:"root",factory:_A}),Le=(()=>{class i{constructor(e,n,r){this._sanityChecks=n,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return Av()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[e]}static{this.\u0275fac=function(n){return new(n||i)(N(jv),N(vA,8),N(le))}}static{this.\u0275mod=se({type:i})}static{this.\u0275inj=re({imports:[Yd,Yd]})}}return i})();var pt=function(i){return i[i.FADING_IN=0]="FADING_IN",i[i.VISIBLE=1]="VISIBLE",i[i.FADING_OUT=2]="FADING_OUT",i[i.HIDDEN=3]="HIDDEN",i}(pt||{}),Jd=class{constructor(t,e,n,r=!1){this._renderer=t,this.element=e,this.config=n,this._animationForciblyDisabledThroughCss=r,this.state=pt.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},zv=pr({passive:!0,capture:!0}),Zd=class{constructor(){this._events=new Map,this._delegateEventHandler=t=>{let e=Ki(t);e&&this._events.get(t.type)?.forEach((n,r)=>{(r===e||r.contains(e))&&n.forEach(s=>s.handleEvent(t))})}}addHandler(t,e,n,r){let s=this._events.get(e);if(s){let o=s.get(n);o?o.add(r):s.set(n,new Set([r]))}else this._events.set(e,new Map([[n,new Set([r])]])),t.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,zv)})}removeHandler(t,e,n){let r=this._events.get(t);if(!r)return;let s=r.get(e);s&&(s.delete(n),s.size===0&&r.delete(e),r.size===0&&(this._events.delete(t),document.removeEventListener(t,this._delegateEventHandler,zv)))}},$v={enterDuration:225,exitDuration:150},yA=800,qv=pr({passive:!0,capture:!0}),Gv=["mousedown","touchstart"],Wv=["mouseup","mouseleave","touchend","touchcancel"],co=class i{static{this._eventManager=new Zd}constructor(t,e,n,r){this._target=t,this._ngZone=e,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=ti(n))}fadeInRipple(t,e,n={}){let r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s=O(O({},$v),n.animation);n.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);let o=n.radius||bA(t,e,r),c=t-r.left,l=e-r.top,h=s.enterDuration,d=document.createElement("div");d.classList.add("mat-ripple-element"),d.style.left=`${c-o}px`,d.style.top=`${l-o}px`,d.style.height=`${o*2}px`,d.style.width=`${o*2}px`,n.color!=null&&(d.style.backgroundColor=n.color),d.style.transitionDuration=`${h}ms`,this._containerElement.appendChild(d);let f=window.getComputedStyle(d),p=f.transitionProperty,_=f.transitionDuration,C=p==="none"||_==="0s"||_==="0s, 0s"||r.width===0&&r.height===0,x=new Jd(this,d,n,C);d.style.transform="scale3d(1, 1, 1)",x.state=pt.FADING_IN,n.persistent||(this._mostRecentTransientRipple=x);let D=null;return!C&&(h||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let W=()=>{D&&(D.fallbackTimer=null),clearTimeout(K),this._finishRippleTransition(x)},Y=()=>this._destroyRipple(x),K=setTimeout(Y,h+100);d.addEventListener("transitionend",W),d.addEventListener("transitioncancel",Y),D={onTransitionEnd:W,onTransitionCancel:Y,fallbackTimer:K}}),this._activeRipples.set(x,D),(C||!h)&&this._finishRippleTransition(x),x}fadeOutRipple(t){if(t.state===pt.FADING_OUT||t.state===pt.HIDDEN)return;let e=t.element,n=O(O({},$v),t.config.animation);e.style.transitionDuration=`${n.exitDuration}ms`,e.style.opacity="0",t.state=pt.FADING_OUT,(t._animationForciblyDisabledThroughCss||!n.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){let e=ti(t);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,Gv.forEach(n=>{i._eventManager.addHandler(this._ngZone,n,e,this)}))}handleEvent(t){t.type==="mousedown"?this._onMousedown(t):t.type==="touchstart"?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{Wv.forEach(e=>{this._triggerElement.addEventListener(e,this,qv)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){t.state===pt.FADING_IN?this._startFadeOutTransition(t):t.state===pt.FADING_OUT&&this._destroyRipple(t)}_startFadeOutTransition(t){let e=t===this._mostRecentTransientRipple,{persistent:n}=t.config;t.state=pt.VISIBLE,!n&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){let e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=pt.HIDDEN,e!==null&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel),e.fallbackTimer!==null&&clearTimeout(e.fallbackTimer)),t.element.remove()}_onMousedown(t){let e=Kd(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+yA;!this._target.rippleDisabled&&!e&&!n&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!Qd(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let e=t.changedTouches;if(e)for(let n=0;n<e.length;n++)this.fadeInRipple(e[n].clientX,e[n].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{let e=t.state===pt.VISIBLE||t.config.terminateOnPointerUp&&t.state===pt.FADING_IN;!t.config.persistent&&e&&t.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let t=this._triggerElement;t&&(Gv.forEach(e=>i._eventManager.removeHandler(e,t,this)),this._pointerUpEventsRegistered&&(Wv.forEach(e=>t.removeEventListener(e,this,qv)),this._pointerUpEventsRegistered=!1))}};function bA(i,t,e){let n=Math.max(Math.abs(i-e.left),Math.abs(i-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(n*n+r*r)}var yr=new z("mat-ripple-global-options"),eh=(()=>{class i{get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}constructor(e,n,r,s,o){this._elementRef=e,this._animationMode=o,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=s||{},this._rippleRenderer=new co(this,n,e,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:O(O(O({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,n=0,r){return typeof e=="number"?this._rippleRenderer.fadeInRipple(e,n,O(O({},this.rippleConfig),r)):this._rippleRenderer.fadeInRipple(0,0,O(O({},this.rippleConfig),e))}static{this.\u0275fac=function(n){return new(n||i)(R(de),R(ee),R(De),R(yr,8),R(Yt,8))}}static{this.\u0275dir=_e({type:i,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(n,r){n&2&&Pe("mat-ripple-unbounded",r.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0})}}return i})(),oc=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=se({type:i})}static{this.\u0275inj=re({imports:[Le,Le]})}}return i})();var Hv=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=se({type:i})}static{this.\u0275inj=re({imports:[Le]})}}return i})();var wA=["*",[["mat-toolbar-row"]]],IA=["*","mat-toolbar-row"],EA=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275dir=_e({type:i,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"],standalone:!0})}}return i})(),ac=(()=>{class i{constructor(e,n,r){this._elementRef=e,this._platform=n,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length}static{this.\u0275fac=function(n){return new(n||i)(R(de),R(De),R(le))}}static{this.\u0275cmp=X({type:i,selectors:[["mat-toolbar"]],contentQueries:function(n,r,s){if(n&1&&nt(s,EA,5),n&2){let o;Te(o=Ae())&&(r._toolbarRows=o)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(n,r){n&2&&(vn(r.color?"mat-"+r.color:""),Pe("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",r._toolbarRows.length===0))},inputs:{color:"color"},exportAs:["matToolbar"],standalone:!0,features:[J],ngContentSelectors:IA,decls:2,vars:0,template:function(n,r){n&1&&(Be(wA),he(0),he(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color, var(--mat-app-surface));color:var(--mat-toolbar-container-text-color, var(--mat-app-on-surface))}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font, var(--mat-app-title-large-font));font-size:var(--mat-toolbar-title-text-size, var(--mat-app-title-large-size));line-height:var(--mat-toolbar-title-text-line-height, var(--mat-app-title-large-line-height));font-weight:var(--mat-toolbar-title-text-weight, var(--mat-app-title-large-weight));letter-spacing:var(--mat-toolbar-title-text-tracking, var(--mat-app-title-large-tracking));margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color:var(--mat-toolbar-container-text-color, var(--mat-app-on-surface));--mdc-outlined-button-label-text-color:var(--mat-toolbar-container-text-color, var(--mat-app-on-surface))}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}}return i})();var bt=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=se({type:i})}static{this.\u0275inj=re({imports:[Le,Le]})}}return i})();var TA=["*"],cc;function AA(){if(cc===void 0&&(cc=null,typeof window<"u")){let i=window;i.trustedTypes!==void 0&&(cc=i.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return cc}function lo(i){return AA()?.createHTML(i)||i}function Qv(i){return Error(`Unable to find icon with the name "${i}"`)}function CA(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}function Yv(i){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${i}".`)}function Xv(i){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${i}".`)}var Ai=class{constructor(t,e,n){this.url=t,this.svgText=e,this.options=n}},SA=(()=>{class i{constructor(e,n,r,s){this._httpClient=e,this._sanitizer=n,this._errorHandler=s,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(e,n,r){return this.addSvgIconInNamespace("",e,n,r)}addSvgIconLiteral(e,n,r){return this.addSvgIconLiteralInNamespace("",e,n,r)}addSvgIconInNamespace(e,n,r,s){return this._addSvgIconConfig(e,n,new Ai(r,null,s))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,n,r,s){let o=this._sanitizer.sanitize(kt.HTML,r);if(!o)throw Xv(r);let c=lo(o);return this._addSvgIconConfig(e,n,new Ai("",c,s))}addSvgIconSet(e,n){return this.addSvgIconSetInNamespace("",e,n)}addSvgIconSetLiteral(e,n){return this.addSvgIconSetLiteralInNamespace("",e,n)}addSvgIconSetInNamespace(e,n,r){return this._addSvgIconSetConfig(e,new Ai(n,null,r))}addSvgIconSetLiteralInNamespace(e,n,r){let s=this._sanitizer.sanitize(kt.HTML,n);if(!s)throw Xv(n);let o=lo(s);return this._addSvgIconSetConfig(e,new Ai("",o,r))}registerFontClassAlias(e,n=e){return this._fontCssClassesByAlias.set(e,n),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){let n=this._sanitizer.sanitize(kt.RESOURCE_URL,e);if(!n)throw Yv(e);let r=this._cachedIconsByUrl.get(n);return r?j(lc(r)):this._loadSvgIconFromConfig(new Ai(e,null)).pipe(Me(s=>this._cachedIconsByUrl.set(n,s)),G(s=>lc(s)))}getNamedSvgIcon(e,n=""){let r=Jv(n,e),s=this._svgIconConfigs.get(r);if(s)return this._getSvgFromConfig(s);if(s=this._getIconConfigFromResolvers(n,e),s)return this._svgIconConfigs.set(r,s),this._getSvgFromConfig(s);let o=this._iconSetConfigs.get(n);return o?this._getSvgFromIconSetConfigs(e,o):dn(Qv(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?j(lc(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(G(n=>lc(n)))}_getSvgFromIconSetConfigs(e,n){let r=this._extractIconWithNameFromAnySet(e,n);if(r)return j(r);let s=n.filter(o=>!o.svgText).map(o=>this._loadSvgIconSetFromConfig(o).pipe(Bi(c=>{let h=`Loading icon set URL: ${this._sanitizer.sanitize(kt.RESOURCE_URL,o.url)} failed: ${c.message}`;return this._errorHandler.handleError(new Error(h)),j(null)})));return va(s).pipe(G(()=>{let o=this._extractIconWithNameFromAnySet(e,n);if(!o)throw Qv(e);return o}))}_extractIconWithNameFromAnySet(e,n){for(let r=n.length-1;r>=0;r--){let s=n[r];if(s.svgText&&s.svgText.toString().indexOf(e)>-1){let o=this._svgElementFromConfig(s),c=this._extractSvgIconFromSet(o,e,s.options);if(c)return c}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(Me(n=>e.svgText=n),G(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?j(null):this._fetchIcon(e).pipe(Me(n=>e.svgText=n))}_extractSvgIconFromSet(e,n,r){let s=e.querySelector(`[id="${n}"]`);if(!s)return null;let o=s.cloneNode(!0);if(o.removeAttribute("id"),o.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(o,r);if(o.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(o),r);let c=this._svgElementFromString(lo("<svg></svg>"));return c.appendChild(o),this._setSvgAttributes(c,r)}_svgElementFromString(e){let n=this._document.createElement("DIV");n.innerHTML=e;let r=n.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){let n=this._svgElementFromString(lo("<svg></svg>")),r=e.attributes;for(let s=0;s<r.length;s++){let{name:o,value:c}=r[s];o!=="id"&&n.setAttribute(o,c)}for(let s=0;s<e.childNodes.length;s++)e.childNodes[s].nodeType===this._document.ELEMENT_NODE&&n.appendChild(e.childNodes[s].cloneNode(!0));return n}_setSvgAttributes(e,n){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),n&&n.viewBox&&e.setAttribute("viewBox",n.viewBox),e}_fetchIcon(e){let{url:n,options:r}=e,s=r?.withCredentials??!1;if(!this._httpClient)throw CA();if(n==null)throw Error(`Cannot fetch icon from URL "${n}".`);let o=this._sanitizer.sanitize(kt.RESOURCE_URL,n);if(!o)throw Yv(n);let c=this._inProgressUrlFetches.get(o);if(c)return c;let l=this._httpClient.get(o,{responseType:"text",withCredentials:s}).pipe(G(h=>lo(h)),mn(()=>this._inProgressUrlFetches.delete(o)),Ig());return this._inProgressUrlFetches.set(o,l),l}_addSvgIconConfig(e,n,r){return this._svgIconConfigs.set(Jv(e,n),r),this}_addSvgIconSetConfig(e,n){let r=this._iconSetConfigs.get(e);return r?r.push(n):this._iconSetConfigs.set(e,[n]),this}_svgElementFromConfig(e){if(!e.svgElement){let n=this._svgElementFromString(e.svgText);this._setSvgAttributes(n,e.options),e.svgElement=n}return e.svgElement}_getIconConfigFromResolvers(e,n){for(let r=0;r<this._resolvers.length;r++){let s=this._resolvers[r](n,e);if(s)return kA(s)?new Ai(s.url,null,s.options):new Ai(s,null)}}static{this.\u0275fac=function(n){return new(n||i)(N(v_,8),N(id),N(le,8),N(fn))}}static{this.\u0275prov=L({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();function lc(i){return i.cloneNode(!0)}function Jv(i,t){return i+":"+t}function kA(i){return!!(i.url&&i.options)}var RA=new z("MAT_ICON_DEFAULT_OPTIONS"),DA=new z("mat-icon-location",{providedIn:"root",factory:xA});function xA(){let i=F(le),t=i?i.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}var Zv=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],MA=Zv.map(i=>`[${i}]`).join(", "),PA=/^url\(['"]?#(.*?)['"]?\)$/,ey=(()=>{class i{get color(){return this._color||this._defaultColor}set color(e){this._color=e}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){let n=this._cleanupFontValue(e);n!==this._fontSet&&(this._fontSet=n,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){let n=this._cleanupFontValue(e);n!==this._fontIcon&&(this._fontIcon=n,this._updateFontIconClasses())}constructor(e,n,r,s,o,c){this._elementRef=e,this._iconRegistry=n,this._location=s,this._errorHandler=o,this.inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Ui.EMPTY,c&&(c.color&&(this.color=this._defaultColor=c.color),c.fontSet&&(this.fontSet=c.fontSet)),r||e.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];let n=e.split(":");switch(n.length){case 1:return["",n[0]];case 2:return n;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let e=this._elementsWithExternalReferences;if(e&&e.size){let n=this._location.getPathname();n!==this._previousPath&&(this._previousPath=n,this._prependPathToReferences(n))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();let n=this._location.getPathname();this._previousPath=n,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(n),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){let e=this._elementRef.nativeElement,n=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();n--;){let r=e.childNodes[n];(r.nodeType!==1||r.nodeName.toLowerCase()==="svg")&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let e=this._elementRef.nativeElement,n=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),n.forEach(r=>e.classList.add(r)),this._previousFontSetClass=n,this.fontIcon!==this._previousFontIconClass&&!n.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return typeof e=="string"?e.trim().split(" ")[0]:e}_prependPathToReferences(e){let n=this._elementsWithExternalReferences;n&&n.forEach((r,s)=>{r.forEach(o=>{s.setAttribute(o.name,`url('${e}#${o.value}')`)})})}_cacheChildrenWithExternalReferences(e){let n=e.querySelectorAll(MA),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let s=0;s<n.length;s++)Zv.forEach(o=>{let c=n[s],l=c.getAttribute(o),h=l?l.match(PA):null;if(h){let d=r.get(c);d||(d=[],r.set(c,d)),d.push({name:o,value:h[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){let[n,r]=this._splitIconName(e);n&&(this._svgNamespace=n),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,n).pipe(Tt(1)).subscribe(s=>this._setSvgElement(s),s=>{let o=`Error retrieving icon ${n}:${r}! ${s.message}`;this._errorHandler.handleError(new Error(o))})}}static{this.\u0275fac=function(n){return new(n||i)(R(de),R(SA),Ia("aria-hidden"),R(DA),R(fn),R(RA,8))}}static{this.\u0275cmp=X({type:i,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(n,r){n&2&&(it("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),vn(r.color?"mat-"+r.color:""),Pe("mat-icon-inline",r.inline)("mat-icon-no-color",r.color!=="primary"&&r.color!=="accent"&&r.color!=="warn"))},inputs:{color:"color",inline:[2,"inline","inline",Qe],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],standalone:!0,features:[Ut,J],ngContentSelectors:TA,decls:1,vars:0,template:function(n,r){n&1&&(Be(),he(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}}return i})(),$t=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=se({type:i})}static{this.\u0275inj=re({imports:[Le,Le]})}}return i})();var ty=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=se({type:i})}static{this.\u0275inj=re({imports:[Le,Le]})}}return i})();var ly=(()=>{class i{constructor(e,n){this._renderer=e,this._elementRef=n,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,n){this._renderer.setProperty(this._elementRef.nativeElement,e,n)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static{this.\u0275fac=function(n){return new(n||i)(R(As),R(de))}}static{this.\u0275dir=_e({type:i})}}return i})(),NA=(()=>{class i extends ly{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Lt(i)))(r||i)}})()}static{this.\u0275dir=_e({type:i,features:[tt]})}}return i})(),fc=new z("");var VA={provide:fc,useExisting:bi(()=>pc),multi:!0};function FA(){let i=nr()?nr().getUserAgent():"";return/android (\d+)/.test(i.toLowerCase())}var LA=new z(""),pc=(()=>{class i extends ly{constructor(e,n,r){super(e,n),this._compositionMode=r,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!FA())}writeValue(e){let n=e??"";this.setProperty("value",n)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static{this.\u0275fac=function(n){return new(n||i)(R(As),R(de),R(LA,8))}}static{this.\u0275dir=_e({type:i,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){n&1&&lt("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[rt([VA]),tt]})}}return i})();var UA=new z(""),jA=new z("");function uy(i){return i!=null}function dy(i){return ka(i)?et(i):i}function hy(i){let t={};return i.forEach(e=>{t=e!=null?O(O({},t),e):t}),Object.keys(t).length===0?null:t}function my(i,t){return t.map(e=>e(i))}function BA(i){return!i.validate}function fy(i){return i.map(t=>BA(t)?t:e=>t.validate(e))}function zA(i){if(!i)return null;let t=i.filter(uy);return t.length==0?null:function(e){return hy(my(e,t))}}function py(i){return i!=null?zA(fy(i)):null}function $A(i){if(!i)return null;let t=i.filter(uy);return t.length==0?null:function(e){let n=my(e,t).map(dy);return va(n).pipe(G(hy))}}function gy(i){return i!=null?$A(fy(i)):null}function iy(i,t){return i===null?[t]:Array.isArray(i)?[...i,t]:[i,t]}function qA(i){return i._rawValidators}function GA(i){return i._rawAsyncValidators}function th(i){return i?Array.isArray(i)?i:[i]:[]}function dc(i,t){return Array.isArray(i)?i.includes(t):i===t}function ny(i,t){let e=th(t);return th(i).forEach(r=>{dc(e,r)||e.push(r)}),e}function ry(i,t){return th(t).filter(e=>!dc(i,e))}var hc=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=py(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=gy(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},ih=class extends hc{get formDirective(){return null}get path(){return null}},po=class extends hc{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},nh=class{constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},WA={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},vN=Ee(O({},WA),{"[class.ng-submitted]":"isSubmitted"}),_y=(()=>{class i extends nh{constructor(e){super(e)}static{this.\u0275fac=function(n){return new(n||i)(R(po,2))}}static{this.\u0275dir=_e({type:i,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){n&2&&Pe("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[tt]})}}return i})();var uo="VALID",uc="INVALID",br="PENDING",ho="DISABLED",Ir=class{},mc=class extends Ir{constructor(t,e){super(),this.value=t,this.source=e}},mo=class extends Ir{constructor(t,e){super(),this.pristine=t,this.source=e}},fo=class extends Ir{constructor(t,e){super(),this.touched=t,this.source=e}},wr=class extends Ir{constructor(t,e){super(),this.status=t,this.source=e}};function HA(i){return(gc(i)?i.validators:i)||null}function KA(i){return Array.isArray(i)?py(i):i||null}function QA(i,t){return(gc(t)?t.asyncValidators:i)||null}function YA(i){return Array.isArray(i)?gy(i):i||null}function gc(i){return i!=null&&!Array.isArray(i)&&typeof i=="object"}var rh=class{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Da(()=>this.statusReactive()),this.statusReactive=pn(void 0),this._pristine=Da(()=>this.pristineReactive()),this.pristineReactive=pn(!0),this._touched=Da(()=>this.touchedReactive()),this.touchedReactive=pn(!1),this._events=new pe,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return yn(this.statusReactive)}set status(t){yn(()=>this.statusReactive.set(t))}get valid(){return this.status===uo}get invalid(){return this.status===uc}get pending(){return this.status==br}get disabled(){return this.status===ho}get enabled(){return this.status!==ho}get pristine(){return yn(this.pristineReactive)}set pristine(t){yn(()=>this.pristineReactive.set(t))}get dirty(){return!this.pristine}get touched(){return yn(this.touchedReactive)}set touched(t){yn(()=>this.touchedReactive.set(t))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(ny(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(ny(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(ry(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(ry(t,this._rawAsyncValidators))}hasValidator(t){return dc(this._rawValidators,t)}hasAsyncValidator(t){return dc(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let e=this.touched===!1;this.touched=!0;let n=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(Ee(O({},t),{sourceControl:n})),e&&t.emitEvent!==!1&&this._events.next(new fo(!0,n))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let n=t.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:n})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n),e&&t.emitEvent!==!1&&this._events.next(new fo(!1,n))}markAsDirty(t={}){let e=this.pristine===!0;this.pristine=!1;let n=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(Ee(O({},t),{sourceControl:n})),e&&t.emitEvent!==!1&&this._events.next(new mo(!1,n))}markAsPristine(t={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let n=t.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),e&&t.emitEvent!==!1&&this._events.next(new mo(!0,n))}markAsPending(t={}){this.status=br;let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new wr(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(Ee(O({},t),{sourceControl:e}))}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=ho,this.errors=null,this._forEachChild(r=>{r.disable(Ee(O({},t),{onlySelf:!0}))}),this._updateValue();let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new mc(this.value,n)),this._events.next(new wr(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Ee(O({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=uo,this._forEachChild(n=>{n.enable(Ee(O({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Ee(O({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let n=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===uo||this.status===br)&&this._runAsyncValidator(n,t.emitEvent)}let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new mc(this.value,e)),this._events.next(new wr(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(Ee(O({},t),{sourceControl:e}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ho:uo}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=br,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let n=dy(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((n,r)=>n&&n._find(r),this)}getError(t,e){let n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,n){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||n)&&this._events.next(new wr(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,n)}_initObservables(){this.valueChanges=new Re,this.statusChanges=new Re}_calculateStatus(){return this._allControlsDisabled()?ho:this.errors?uc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(br)?br:this._anyControlsHaveStatus(uc)?uc:uo}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){let n=!this._anyControlsDirty(),r=this.pristine!==n;this.pristine=n,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),r&&this._events.next(new mo(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new fo(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){gc(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=KA(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=YA(this._rawAsyncValidators)}};var vy=new z("CallSetDisabledState",{providedIn:"root",factory:()=>sh}),sh="always";function XA(i,t){return[...t.path,i]}function JA(i,t,e=sh){eC(i,t),t.valueAccessor.writeValue(i.value),(i.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(i.disabled),tC(i,t),nC(i,t),iC(i,t),ZA(i,t)}function sy(i,t){i.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function ZA(i,t){if(t.valueAccessor.setDisabledState){let e=n=>{t.valueAccessor.setDisabledState(n)};i.registerOnDisabledChange(e),t._registerOnDestroy(()=>{i._unregisterOnDisabledChange(e)})}}function eC(i,t){let e=qA(i);t.validator!==null?i.setValidators(iy(e,t.validator)):typeof e=="function"&&i.setValidators([e]);let n=GA(i);t.asyncValidator!==null?i.setAsyncValidators(iy(n,t.asyncValidator)):typeof n=="function"&&i.setAsyncValidators([n]);let r=()=>i.updateValueAndValidity();sy(t._rawValidators,r),sy(t._rawAsyncValidators,r)}function tC(i,t){t.valueAccessor.registerOnChange(e=>{i._pendingValue=e,i._pendingChange=!0,i._pendingDirty=!0,i.updateOn==="change"&&yy(i,t)})}function iC(i,t){t.valueAccessor.registerOnTouched(()=>{i._pendingTouched=!0,i.updateOn==="blur"&&i._pendingChange&&yy(i,t),i.updateOn!=="submit"&&i.markAsTouched()})}function yy(i,t){i._pendingDirty&&i.markAsDirty(),i.setValue(i._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1}function nC(i,t){let e=(n,r)=>{t.valueAccessor.writeValue(n),r&&t.viewToModelUpdate(n)};i.registerOnChange(e),t._registerOnDestroy(()=>{i._unregisterOnChange(e)})}function rC(i,t){if(!i.hasOwnProperty("model"))return!1;let e=i.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function sC(i){return Object.getPrototypeOf(i.constructor)===NA}function oC(i,t){if(!t)return null;Array.isArray(t);let e,n,r;return t.forEach(s=>{s.constructor===pc?e=s:sC(s)?n=s:r=s}),r||n||e||null}function oy(i,t){let e=i.indexOf(t);e>-1&&i.splice(e,1)}function ay(i){return typeof i=="object"&&i!==null&&Object.keys(i).length===2&&"value"in i&&"disabled"in i}var aC=class extends rh{constructor(t=null,e,n){super(HA(e),QA(n,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),gc(e)&&(e.nonNullable||e.initialValueIsDefault)&&(ay(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(n=>n(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){oy(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){oy(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){ay(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var cC={provide:po,useExisting:bi(()=>oh)},cy=Promise.resolve(),oh=(()=>{class i extends po{constructor(e,n,r,s,o,c){super(),this._changeDetectorRef=o,this.callSetDisabledState=c,this.control=new aC,this._registered=!1,this.name="",this.update=new Re,this._parent=e,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=oC(this,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let n=e.name.previousValue;this.formDirective.removeControl({name:n,path:this._getPath(n)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),rC(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){JA(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){cy.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let n=e.isDisabled.currentValue,r=n!==0&&Qe(n);cy.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?XA(e,this._parent):[e]}static{this.\u0275fac=function(n){return new(n||i)(R(ih,9),R(UA,10),R(jA,10),R(fc,10),R(We,8),R(vy,8))}}static{this.\u0275dir=_e({type:i,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[rt([cC]),tt,qi]})}}return i})();var lC=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=se({type:i})}static{this.\u0275inj=re({})}}return i})();var by=(()=>{class i{static withConfig(e){return{ngModule:i,providers:[{provide:vy,useValue:e.callSetDisabledState??sh}]}}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=se({type:i})}static{this.\u0275inj=re({imports:[lC]})}}return i})();var dC=["*"],hC='.mdc-list{margin:0;padding:8px 0;list-style-type:none}.mdc-list:focus{outline:none}.mdc-list-item{display:flex;position:relative;justify-content:flex-start;overflow:hidden;padding:0;align-items:stretch;cursor:pointer;padding-left:16px;padding-right:16px;background-color:var(--mdc-list-list-item-container-color);border-radius:var(--mdc-list-list-item-container-shape, var(--mat-app-corner-none))}.mdc-list-item.mdc-list-item--selected{background-color:var(--mdc-list-list-item-selected-container-color)}.mdc-list-item:focus{outline:0}.mdc-list-item.mdc-list-item--disabled{cursor:auto}.mdc-list-item.mdc-list-item--with-one-line{height:var(--mdc-list-list-item-one-line-container-height)}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__start{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-one-line .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-two-lines{height:var(--mdc-list-list-item-two-line-container-height)}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-two-lines .mdc-list-item__end{align-self:center;margin-top:0}.mdc-list-item.mdc-list-item--with-three-lines{height:var(--mdc-list-list-item-three-line-container-height)}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__start{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:16px}.mdc-list-item.mdc-list-item--selected::before,.mdc-list-item.mdc-list-item--selected:focus::before,.mdc-list-item:not(.mdc-list-item--selected):focus::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.cdk-high-contrast-active .mdc-list-item.mdc-list-item--selected::before,.cdk-high-contrast-active .mdc-list-item.mdc-list-item--selected:focus::before,.cdk-high-contrast-active .mdc-list-item:not(.mdc-list-item--selected):focus::before{border-color:CanvasText}.mdc-list-item.mdc-list-item--selected:focus::before,.mdc-list-item.mdc-list-item--selected::before{border-width:3px;border-style:double}a.mdc-list-item{color:inherit;text-decoration:none}.mdc-list-item__start{fill:currentColor;flex-shrink:0;pointer-events:none}.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-leading-icon-color, var(--mat-app-on-surface-variant));width:var(--mdc-list-list-item-leading-icon-size);height:var(--mdc-list-list-item-leading-icon-size);margin-left:16px;margin-right:32px}[dir=rtl] .mdc-list-item--with-leading-icon .mdc-list-item__start{margin-left:32px;margin-right:16px}.mdc-list-item--with-leading-icon:hover .mdc-list-item__start{color:var(--mdc-list-list-item-hover-leading-icon-color)}.mdc-list-item--with-leading-avatar .mdc-list-item__start{width:var(--mdc-list-list-item-leading-avatar-size);height:var(--mdc-list-list-item-leading-avatar-size);margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item--with-leading-avatar .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-avatar .mdc-list-item__start{margin-left:16px;margin-right:16px;border-radius:50%}.mdc-list-item__end{flex-shrink:0;pointer-events:none}.mdc-list-item--with-trailing-meta .mdc-list-item__end{font-family:var(--mdc-list-list-item-trailing-supporting-text-font, var(--mat-app-label-small-font));line-height:var(--mdc-list-list-item-trailing-supporting-text-line-height, var(--mat-app-label-small-line-height));font-size:var(--mdc-list-list-item-trailing-supporting-text-size, var(--mat-app-label-small-size));font-weight:var(--mdc-list-list-item-trailing-supporting-text-weight, var(--mat-app-label-small-weight));letter-spacing:var(--mdc-list-list-item-trailing-supporting-text-tracking, var(--mat-app-label-small-tracking))}.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-icon-color, var(--mat-app-on-surface-variant));width:var(--mdc-list-list-item-trailing-icon-size);height:var(--mdc-list-list-item-trailing-icon-size)}.mdc-list-item--with-trailing-icon:hover .mdc-list-item__end{color:var(--mdc-list-list-item-hover-trailing-icon-color)}.mdc-list-item.mdc-list-item--with-trailing-meta .mdc-list-item__end{color:var(--mdc-list-list-item-trailing-supporting-text-color, var(--mat-app-on-surface-variant))}.mdc-list-item--selected.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-selected-trailing-icon-color, var(--mat-app-primary))}.mdc-list-item__content{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;align-self:center;flex:1;pointer-events:none}.mdc-list-item--with-two-lines .mdc-list-item__content,.mdc-list-item--with-three-lines .mdc-list-item__content{align-self:stretch}.mdc-list-item__primary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;color:var(--mdc-list-list-item-label-text-color, var(--mat-app-on-surface));font-family:var(--mdc-list-list-item-label-text-font, var(--mat-app-body-large-font));line-height:var(--mdc-list-list-item-label-text-line-height, var(--mat-app-body-large-line-height));font-size:var(--mdc-list-list-item-label-text-size, var(--mat-app-body-large-size));font-weight:var(--mdc-list-list-item-label-text-weight, var(--mat-app-body-large-weight));letter-spacing:var(--mdc-list-list-item-label-text-tracking, var(--mat-app-body-large-tracking))}.mdc-list-item:hover .mdc-list-item__primary-text{color:var(--mdc-list-list-item-hover-label-text-color, var(--mat-app-on-surface))}.mdc-list-item:focus .mdc-list-item__primary-text{color:var(--mdc-list-list-item-focus-label-text-color, var(--mat-app-on-surface))}.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-three-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-three-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item__secondary-text{text-overflow:ellipsis;white-space:nowrap;overflow:hidden;display:block;margin-top:0;color:var(--mdc-list-list-item-supporting-text-color, var(--mat-app-on-surface-variant));font-family:var(--mdc-list-list-item-supporting-text-font, var(--mat-app-body-medium-font));line-height:var(--mdc-list-list-item-supporting-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mdc-list-list-item-supporting-text-size, var(--mat-app-body-medium-size));font-weight:var(--mdc-list-list-item-supporting-text-weight, var(--mat-app-body-medium-weight));letter-spacing:var(--mdc-list-list-item-supporting-text-tracking, var(--mat-app-body-medium-tracking))}.mdc-list-item__secondary-text::before{display:inline-block;width:0;height:20px;content:"";vertical-align:0}.mdc-list-item--with-three-lines .mdc-list-item__secondary-text{white-space:normal;line-height:20px}.mdc-list-item--with-overline .mdc-list-item__secondary-text{white-space:nowrap;line-height:auto}.mdc-list-item--with-leading-radio.mdc-list-item,.mdc-list-item--with-leading-checkbox.mdc-list-item,.mdc-list-item--with-leading-icon.mdc-list-item,.mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:0;padding-right:16px}[dir=rtl] .mdc-list-item--with-leading-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-checkbox.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-leading-avatar.mdc-list-item{padding-left:16px;padding-right:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text{display:block;margin-top:0;line-height:normal;margin-bottom:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines .mdc-list-item__primary-text::after{display:inline-block;width:0;height:20px;content:"";vertical-align:-20px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end{display:block;margin-top:0;line-height:normal}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-icon.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before,.mdc-list-item--with-leading-avatar.mdc-list-item--with-two-lines.mdc-list-item--with-trailing-meta .mdc-list-item__end::before{display:inline-block;width:0;height:32px;content:"";vertical-align:0}.mdc-list-item--with-trailing-icon.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-icon.mdc-list-item{padding-left:0;padding-right:0}.mdc-list-item--with-trailing-icon .mdc-list-item__end{margin-left:16px;margin-right:16px}.mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-meta.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-meta .mdc-list-item__end{-webkit-user-select:none;user-select:none;margin-left:28px;margin-right:16px}[dir=rtl] .mdc-list-item--with-trailing-meta .mdc-list-item__end{margin-left:16px;margin-right:28px}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end{display:block;line-height:normal;align-self:flex-start;margin-top:0}.mdc-list-item--with-trailing-meta.mdc-list-item--with-three-lines .mdc-list-item__end::before,.mdc-list-item--with-trailing-meta.mdc-list-item--with-two-lines .mdc-list-item__end::before{display:inline-block;width:0;height:28px;content:"";vertical-align:0}.mdc-list-item--with-leading-radio .mdc-list-item__start,.mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:8px;margin-right:24px}[dir=rtl] .mdc-list-item--with-leading-radio .mdc-list-item__start,[dir=rtl] .mdc-list-item--with-leading-checkbox .mdc-list-item__start{margin-left:24px;margin-right:8px}.mdc-list-item--with-leading-radio.mdc-list-item--with-two-lines .mdc-list-item__start,.mdc-list-item--with-leading-checkbox.mdc-list-item--with-two-lines .mdc-list-item__start{align-self:flex-start;margin-top:8px}.mdc-list-item--with-trailing-radio.mdc-list-item,.mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:16px;padding-right:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item{padding-left:0;padding-right:16px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-left:0}[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-radio.mdc-list-item--with-leading-avatar,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-icon,[dir=rtl] .mdc-list-item--with-trailing-checkbox.mdc-list-item--with-leading-avatar{padding-right:0}.mdc-list-item--with-trailing-radio .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:24px;margin-right:8px}[dir=rtl] .mdc-list-item--with-trailing-radio .mdc-list-item__end,[dir=rtl] .mdc-list-item--with-trailing-checkbox .mdc-list-item__end{margin-left:8px;margin-right:24px}.mdc-list-item--with-trailing-radio.mdc-list-item--with-three-lines .mdc-list-item__end,.mdc-list-item--with-trailing-checkbox.mdc-list-item--with-three-lines .mdc-list-item__end{align-self:flex-start;margin-top:8px}.mdc-list-group__subheader{margin:.75rem 16px}.mdc-list-item--disabled .mdc-list-item__start,.mdc-list-item--disabled .mdc-list-item__content,.mdc-list-item--disabled .mdc-list-item__end{opacity:1}.mdc-list-item--disabled .mdc-list-item__primary-text,.mdc-list-item--disabled .mdc-list-item__secondary-text{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--disabled.mdc-list-item--with-leading-icon .mdc-list-item__start{color:var(--mdc-list-list-item-disabled-leading-icon-color, var(--mat-app-on-surface));opacity:var(--mdc-list-list-item-disabled-leading-icon-opacity)}.mdc-list-item--disabled.mdc-list-item--with-trailing-icon .mdc-list-item__end{color:var(--mdc-list-list-item-disabled-trailing-icon-color, var(--mat-app-on-surface));opacity:var(--mdc-list-list-item-disabled-trailing-icon-opacity)}.mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing,[dir=rtl] .mat-mdc-list-item.mat-mdc-list-item-both-leading-and-trailing{padding-left:0;padding-right:0}.mdc-list-item.mdc-list-item--disabled .mdc-list-item__primary-text{color:var(--mdc-list-list-item-disabled-label-text-color, var(--mat-app-on-surface))}.mdc-list-item:hover::before{background-color:var(--mdc-list-list-item-hover-state-layer-color, var(--mat-app-on-surface));opacity:var(--mdc-list-list-item-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity))}.mdc-list-item.mdc-list-item--disabled::before{background-color:var(--mdc-list-list-item-disabled-state-layer-color, var(--mat-app-on-surface));opacity:var(--mdc-list-list-item-disabled-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mdc-list-item:focus::before{background-color:var(--mdc-list-list-item-focus-state-layer-color, var(--mat-app-on-surface));opacity:var(--mdc-list-list-item-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity))}.mdc-list-item--disabled .mdc-radio,.mdc-list-item--disabled .mdc-checkbox{opacity:var(--mdc-list-list-item-disabled-label-text-opacity)}.mdc-list-item--with-leading-avatar .mat-mdc-list-item-avatar{border-radius:var(--mdc-list-list-item-leading-avatar-shape, var(--mat-app-corner-full));background-color:var(--mdc-list-list-item-leading-avatar-color, var(--mat-app-primary-container))}.mat-mdc-list-item-icon{font-size:var(--mdc-list-list-item-leading-icon-size)}.cdk-high-contrast-active a.mdc-list-item--activated::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active a.mdc-list-item--activated [dir=rtl]::after{right:auto;left:16px}.mat-mdc-list-base{display:block}.mat-mdc-list-base .mdc-list-item__start,.mat-mdc-list-base .mdc-list-item__end,.mat-mdc-list-base .mdc-list-item__content{pointer-events:auto}.mat-mdc-list-item,.mat-mdc-list-option{width:100%;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-list-item:not(.mat-mdc-list-item-interactive),.mat-mdc-list-option:not(.mat-mdc-list-item-interactive){cursor:default}.mat-mdc-list-item .mat-divider-inset,.mat-mdc-list-option .mat-divider-inset{position:absolute;left:0;right:0;bottom:0}.mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,.mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-left:72px}[dir=rtl] .mat-mdc-list-item .mat-mdc-list-item-avatar~.mat-divider-inset,[dir=rtl] .mat-mdc-list-option .mat-mdc-list-item-avatar~.mat-divider-inset{margin-right:72px}.mat-mdc-list-item-interactive::before{top:0;left:0;right:0;bottom:0;position:absolute;content:"";opacity:0;pointer-events:none}.mat-mdc-list-item>.mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-mdc-list-item:focus>.mat-mdc-focus-indicator::before{content:""}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-line.mdc-list-item__secondary-text{white-space:nowrap;line-height:normal}.mat-mdc-list-item.mdc-list-item--with-three-lines .mat-mdc-list-item-unscoped-content.mdc-list-item__secondary-text{display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:2}mat-action-list button{background:none;color:inherit;border:none;font:inherit;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:start}mat-action-list button::-moz-focus-inner{border:0}.mdc-list-item--with-leading-icon .mdc-list-item__start{margin-inline-start:var(--mat-list-list-item-leading-icon-start-space);margin-inline-end:var(--mat-list-list-item-leading-icon-end-space)}.mat-mdc-nav-list .mat-mdc-list-item{border-radius:var(--mat-list-active-indicator-shape, var(--mat-app-corner-full));--mat-mdc-focus-indicator-border-radius:var(--mat-list-active-indicator-shape, var(--mat-app-corner-full))}.mat-mdc-nav-list .mat-mdc-list-item.mdc-list-item--activated{background-color:var(--mat-list-active-indicator-color, var(--mat-app-secondary-container))}',mC=["unscopedContent"],fC=["text"],pC=[[["","matListItemAvatar",""],["","matListItemIcon",""]],[["","matListItemTitle",""]],[["","matListItemLine",""]],"*",[["","matListItemMeta",""]],[["mat-divider"]]],gC=["[matListItemAvatar],[matListItemIcon]","[matListItemTitle]","[matListItemLine]","*","[matListItemMeta]","mat-divider"];var _C=new z("ListOption"),vC=(()=>{class i{constructor(e){this._elementRef=e}static{this.\u0275fac=function(n){return new(n||i)(R(de))}}static{this.\u0275dir=_e({type:i,selectors:[["","matListItemTitle",""]],hostAttrs:[1,"mat-mdc-list-item-title","mdc-list-item__primary-text"],standalone:!0})}}return i})(),yC=(()=>{class i{constructor(e){this._elementRef=e}static{this.\u0275fac=function(n){return new(n||i)(R(de))}}static{this.\u0275dir=_e({type:i,selectors:[["","matListItemLine",""]],hostAttrs:[1,"mat-mdc-list-item-line","mdc-list-item__secondary-text"],standalone:!0})}}return i})(),bC=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275dir=_e({type:i,selectors:[["","matListItemMeta",""]],hostAttrs:[1,"mat-mdc-list-item-meta","mdc-list-item__end"],standalone:!0})}}return i})(),wy=(()=>{class i{constructor(e){this._listOption=e}_isAlignedAtStart(){return!this._listOption||this._listOption?._getTogglePosition()==="after"}static{this.\u0275fac=function(n){return new(n||i)(R(_C,8))}}static{this.\u0275dir=_e({type:i,hostVars:4,hostBindings:function(n,r){n&2&&Pe("mdc-list-item__start",r._isAlignedAtStart())("mdc-list-item__end",!r._isAlignedAtStart())},standalone:!0})}}return i})(),wC=(()=>{class i extends wy{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Lt(i)))(r||i)}})()}static{this.\u0275dir=_e({type:i,selectors:[["","matListItemAvatar",""]],hostAttrs:[1,"mat-mdc-list-item-avatar"],standalone:!0,features:[tt]})}}return i})(),IC=(()=>{class i extends wy{static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Lt(i)))(r||i)}})()}static{this.\u0275dir=_e({type:i,selectors:[["","matListItemIcon",""]],hostAttrs:[1,"mat-mdc-list-item-icon"],standalone:!0,features:[tt]})}}return i})(),EC=new z("MAT_LIST_CONFIG"),_c=(()=>{class i{constructor(){this._isNonInteractive=!0,this._disableRipple=!1,this._disabled=!1,this._defaultOptions=F(EC,{optional:!0})}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=yt(e)}get disabled(){return this._disabled}set disabled(e){this._disabled=yt(e)}static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275dir=_e({type:i,hostVars:1,hostBindings:function(n,r){n&2&&it("aria-disabled",r.disabled)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},standalone:!0})}}return i})(),TC=(()=>{class i{set lines(e){this._explicitLines=Ti(e,null),this._updateItemLines(!1)}get disableRipple(){return this.disabled||this._disableRipple||this._noopAnimations||!!this._listBase?.disableRipple}set disableRipple(e){this._disableRipple=yt(e)}get disabled(){return this._disabled||!!this._listBase?.disabled}set disabled(e){this._disabled=yt(e)}get rippleDisabled(){return this.disableRipple||!!this.rippleConfig.disabled}constructor(e,n,r,s,o,c){this._elementRef=e,this._ngZone=n,this._listBase=r,this._platform=s,this._explicitLines=null,this._disableRipple=!1,this._disabled=!1,this._subscriptions=new Ui,this._rippleRenderer=null,this._hasUnscopedTextContent=!1,this.rippleConfig=o||{},this._hostElement=this._elementRef.nativeElement,this._isButtonElement=this._hostElement.nodeName.toLowerCase()==="button",this._noopAnimations=c==="NoopAnimations",r&&!r._isNonInteractive&&this._initInteractiveListItem(),this._isButtonElement&&!this._hostElement.hasAttribute("type")&&this._hostElement.setAttribute("type","button")}ngAfterViewInit(){this._monitorProjectedLinesAndTitle(),this._updateItemLines(!0)}ngOnDestroy(){this._subscriptions.unsubscribe(),this._rippleRenderer!==null&&this._rippleRenderer._removeTriggerEvents()}_hasIconOrAvatar(){return!!(this._avatars.length||this._icons.length)}_initInteractiveListItem(){this._hostElement.classList.add("mat-mdc-list-item-interactive"),this._rippleRenderer=new co(this,this._ngZone,this._hostElement,this._platform),this._rippleRenderer.setupTriggerEvents(this._hostElement)}_monitorProjectedLinesAndTitle(){this._ngZone.runOutsideAngular(()=>{this._subscriptions.add(ya(this._lines.changes,this._titles.changes).subscribe(()=>this._updateItemLines(!1)))})}_updateItemLines(e){if(!this._lines||!this._titles||!this._unscopedContent)return;e&&this._checkDomForUnscopedTextContent();let n=this._explicitLines??this._inferLinesFromContent(),r=this._unscopedContent.nativeElement;if(this._hostElement.classList.toggle("mat-mdc-list-item-single-line",n<=1),this._hostElement.classList.toggle("mdc-list-item--with-one-line",n<=1),this._hostElement.classList.toggle("mdc-list-item--with-two-lines",n===2),this._hostElement.classList.toggle("mdc-list-item--with-three-lines",n===3),this._hasUnscopedTextContent){let s=this._titles.length===0&&n===1;r.classList.toggle("mdc-list-item__primary-text",s),r.classList.toggle("mdc-list-item__secondary-text",!s)}else r.classList.remove("mdc-list-item__primary-text"),r.classList.remove("mdc-list-item__secondary-text")}_inferLinesFromContent(){let e=this._titles.length+this._lines.length;return this._hasUnscopedTextContent&&(e+=1),e}_checkDomForUnscopedTextContent(){this._hasUnscopedTextContent=Array.from(this._unscopedContent.nativeElement.childNodes).filter(e=>e.nodeType!==e.COMMENT_NODE).some(e=>!!(e.textContent&&e.textContent.trim()))}static{this.\u0275fac=function(n){return new(n||i)(R(de),R(ee),R(_c,8),R(De),R(yr,8),R(Yt,8))}}static{this.\u0275dir=_e({type:i,contentQueries:function(n,r,s){if(n&1&&(nt(s,wC,4),nt(s,IC,4)),n&2){let o;Te(o=Ae())&&(r._avatars=o),Te(o=Ae())&&(r._icons=o)}},hostVars:4,hostBindings:function(n,r){n&2&&(it("aria-disabled",r.disabled)("disabled",r._isButtonElement&&r.disabled||null),Pe("mdc-list-item--disabled",r.disabled))},inputs:{lines:"lines",disableRipple:"disableRipple",disabled:"disabled"},standalone:!0})}}return i})();var Iy=(()=>{class i extends TC{get activated(){return this._activated}set activated(e){this._activated=yt(e)}constructor(e,n,r,s,o,c){super(e,n,r,s,o,c),this._activated=!1}_getAriaCurrent(){return this._hostElement.nodeName==="A"&&this._activated?"page":null}_hasBothLeadingAndTrailing(){return this._meta.length!==0&&(this._avatars.length!==0||this._icons.length!==0)}static{this.\u0275fac=function(n){return new(n||i)(R(de),R(ee),R(_c,8),R(De),R(yr,8),R(Yt,8))}}static{this.\u0275cmp=X({type:i,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(n,r,s){if(n&1&&(nt(s,yC,5),nt(s,vC,5),nt(s,bC,5)),n&2){let o;Te(o=Ae())&&(r._lines=o),Te(o=Ae())&&(r._titles=o),Te(o=Ae())&&(r._meta=o)}},viewQuery:function(n,r){if(n&1&&(vt(mC,5),vt(fC,5)),n&2){let s;Te(s=Ae())&&(r._unscopedContent=s.first),Te(s=Ae())&&(r._itemText=s.first)}},hostAttrs:[1,"mat-mdc-list-item","mdc-list-item"],hostVars:13,hostBindings:function(n,r){n&2&&(it("aria-current",r._getAriaCurrent()),Pe("mdc-list-item--activated",r.activated)("mdc-list-item--with-leading-avatar",r._avatars.length!==0)("mdc-list-item--with-leading-icon",r._icons.length!==0)("mdc-list-item--with-trailing-meta",r._meta.length!==0)("mat-mdc-list-item-both-leading-and-trailing",r._hasBothLeadingAndTrailing())("_mat-animation-noopable",r._noopAnimations))},inputs:{activated:"activated"},exportAs:["matListItem"],standalone:!0,features:[tt,J],ngContentSelectors:gC,decls:10,vars:0,consts:[["unscopedContent",""],[1,"mdc-list-item__content"],[1,"mat-mdc-list-item-unscoped-content",3,"cdkObserveContent"],[1,"mat-mdc-focus-indicator"]],template:function(n,r){if(n&1){let s=Rs();Be(pC),he(0),B(1,"span",1),he(2,1),he(3,2),B(4,"span",2,0),lt("cdkObserveContent",function(){return ws(s),Is(r._updateItemLines(!0))}),he(6,3),$()(),he(7,4),he(8,5),we(9,"div",3)}},dependencies:[kv],encapsulation:2,changeDetection:0})}}return i})();var Ey=(()=>{class i extends _c{constructor(){super(...arguments),this._isNonInteractive=!1}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Lt(i)))(r||i)}})()}static{this.\u0275cmp=X({type:i,selectors:[["mat-nav-list"]],hostAttrs:["role","navigation",1,"mat-mdc-nav-list","mat-mdc-list-base","mdc-list"],exportAs:["matNavList"],standalone:!0,features:[rt([{provide:_c,useExisting:i}]),tt,J],ngContentSelectors:dC,decls:1,vars:0,template:function(n,r){n&1&&(Be(),he(0))},styles:[hC],encapsulation:2,changeDetection:0})}}return i})();var vc=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=se({type:i})}static{this.\u0275inj=re({imports:[Rv,Jt,Le,oc,Hv,ty]})}}return i})();var SC=20,yc=(()=>{class i{constructor(e,n,r){this._ngZone=e,this._platform=n,this._scrolled=new pe,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){let n=this.scrollContainers.get(e);n&&(n.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=SC){return this._platform.isBrowser?new It(n=>{this._globalSubscription||this._addGlobalListener();let r=e>0?this._scrolled.pipe(Cu(e)).subscribe(n):this._scrolled.subscribe(n);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):j()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,n)=>this.deregister(n)),this._scrolled.complete()}ancestorScrolled(e,n){let r=this.getAncestorScrollContainers(e);return this.scrolled(n).pipe(Fe(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(e){let n=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,e)&&n.push(s)}),n}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,n){let r=ti(n),s=e.getElementRef().nativeElement;do if(r==s)return!0;while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let e=this._getWindow();return vs(e.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static{this.\u0275fac=function(n){return new(n||i)(N(ee),N(De),N(le,8))}}static{this.\u0275prov=L({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),Er=(()=>{class i{constructor(e,n,r,s){this.elementRef=e,this.scrollDispatcher=n,this.ngZone=r,this.dir=s,this._destroyed=new pe,this._elementScrolled=new It(o=>this.ngZone.runOutsideAngular(()=>vs(this.elementRef.nativeElement,"scroll").pipe(Ge(this._destroyed)).subscribe(o)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){let n=this.elementRef.nativeElement,r=this.dir&&this.dir.value=="rtl";e.left==null&&(e.left=r?e.end:e.start),e.right==null&&(e.right=r?e.start:e.end),e.bottom!=null&&(e.top=n.scrollHeight-n.clientHeight-e.bottom),r&&gr()!=ei.NORMAL?(e.left!=null&&(e.right=n.scrollWidth-n.clientWidth-e.left),gr()==ei.INVERTED?e.left=e.right:gr()==ei.NEGATED&&(e.left=e.right?-e.right:e.right)):e.right!=null&&(e.left=n.scrollWidth-n.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){let n=this.elementRef.nativeElement;Ev()?n.scrollTo(e):(e.top!=null&&(n.scrollTop=e.top),e.left!=null&&(n.scrollLeft=e.left))}measureScrollOffset(e){let n="left",r="right",s=this.elementRef.nativeElement;if(e=="top")return s.scrollTop;if(e=="bottom")return s.scrollHeight-s.clientHeight-s.scrollTop;let o=this.dir&&this.dir.value=="rtl";return e=="start"?e=o?r:n:e=="end"&&(e=o?n:r),o&&gr()==ei.INVERTED?e==n?s.scrollWidth-s.clientWidth-s.scrollLeft:s.scrollLeft:o&&gr()==ei.NEGATED?e==n?s.scrollLeft+s.scrollWidth-s.clientWidth:-s.scrollLeft:e==n?s.scrollLeft:s.scrollWidth-s.clientWidth-s.scrollLeft}static{this.\u0275fac=function(n){return new(n||i)(R(de),R(yc),R(ee),R(vr,8))}}static{this.\u0275dir=_e({type:i,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0})}}return i})(),kC=20,Ty=(()=>{class i{constructor(e,n,r){this._platform=e,this._change=new pe,this._changeListener=s=>{this._change.next(s)},this._document=r,n.runOutsideAngular(()=>{if(e.isBrowser){let s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){let e=this.getViewportScrollPosition(),{width:n,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+n,height:r,width:n}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let e=this._document,n=this._getWindow(),r=e.documentElement,s=r.getBoundingClientRect(),o=-s.top||e.body.scrollTop||n.scrollY||r.scrollTop||0,c=-s.left||e.body.scrollLeft||n.scrollX||r.scrollLeft||0;return{top:o,left:c}}change(e=kC){return e>0?this._change.pipe(Cu(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static{this.\u0275fac=function(n){return new(n||i)(N(De),N(ee),N(le,8))}}static{this.\u0275prov=L({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var ah=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=se({type:i})}static{this.\u0275inj=re({})}}return i})();var Ic=["*"],xC=["content"],MC=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],PC=["mat-drawer","mat-drawer-content","*"];function OC(i,t){if(i&1){let e=Rs();B(0,"div",1),lt("click",function(){ws(e);let r=Rt();return Is(r._onBackdropClicked())}),$()}if(i&2){let e=Rt();Pe("mat-drawer-shown",e._isShowingBackdrop())}}function NC(i,t){i&1&&(B(0,"mat-drawer-content"),he(1,2),$())}var VC=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],FC=["mat-sidenav","mat-sidenav-content","*"];function LC(i,t){if(i&1){let e=Rs();B(0,"div",1),lt("click",function(){ws(e);let r=Rt();return Is(r._onBackdropClicked())}),$()}if(i&2){let e=Rt();Pe("mat-drawer-shown",e._isShowingBackdrop())}}function UC(i,t){i&1&&(B(0,"mat-sidenav-content"),he(1,2),$())}var jC='.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color, var(--mat-app-on-background));background-color:var(--mat-sidenav-content-background-color, var(--mat-app-background));box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color, var(--mat-app-on-surface-variant));box-shadow:var(--mat-sidenav-container-elevation-shadow);background-color:var(--mat-sidenav-container-background-color, var(--mat-app-surface));border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));width:var(--mat-sidenav-container-width);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}',Ay={transformDrawer:s_("transform",[Bu("open, open-instant",ju({transform:"none",visibility:"visible"})),Bu("void",ju({"box-shadow":"none",visibility:"hidden"})),zu("void => open-instant",Uu("0ms")),zu("void <=> open, open-instant => void",Uu("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])};var BC=new z("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:zC}),ch=new z("MAT_DRAWER_CONTAINER");function zC(){return!1}var bc=(()=>{class i extends Er{constructor(e,n,r,s,o){super(r,s,o),this._changeDetectorRef=e,this._container=n}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}static{this.\u0275fac=function(n){return new(n||i)(R(We),R(bi(()=>Sy)),R(de),R(yc),R(ee))}}static{this.\u0275cmp=X({type:i,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(n,r){n&2&&_n("margin-left",r._container._contentMargins.left,"px")("margin-right",r._container._contentMargins.right,"px")},standalone:!0,features:[rt([{provide:Er,useExisting:i}]),tt,J],ngContentSelectors:Ic,decls:1,vars:0,template:function(n,r){n&1&&(Be(),he(0))},encapsulation:2,changeDetection:0})}}return i})(),Cy=(()=>{class i{get position(){return this._position}set position(e){e=e==="end"?"end":"start",e!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=yt(e)}get autoFocus(){let e=this._autoFocus;return e??(this.mode==="side"?"dialog":"first-tabbable")}set autoFocus(e){(e==="true"||e==="false"||e==null)&&(e=yt(e)),this._autoFocus=e}get opened(){return this._opened}set opened(e){this.toggle(yt(e))}constructor(e,n,r,s,o,c,l,h){this._elementRef=e,this._focusTrapFactory=n,this._focusMonitor=r,this._platform=s,this._ngZone=o,this._interactivityChecker=c,this._doc=l,this._container=h,this._focusTrap=null,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new pe,this._animationEnd=new pe,this._animationState="void",this.openedChange=new Re(!0),this._openedStream=this.openedChange.pipe(Fe(d=>d),G(()=>{})),this.openedStart=this._animationStarted.pipe(Fe(d=>d.fromState!==d.toState&&d.toState.indexOf("open")===0),ys(void 0)),this._closedStream=this.openedChange.pipe(Fe(d=>!d),G(()=>{})),this.closedStart=this._animationStarted.pipe(Fe(d=>d.fromState!==d.toState&&d.toState==="void"),ys(void 0)),this._destroyed=new pe,this.onPositionChanged=new Re,this._modeChanged=new pe,this._injector=F(Ct),this._changeDetectorRef=F(We),this.openedChange.pipe(Ge(this._destroyed)).subscribe(d=>{d?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{vs(this._elementRef.nativeElement,"keydown").pipe(Fe(d=>d.keyCode===27&&!this.disableClose&&!Cv(d)),Ge(this._destroyed)).subscribe(d=>this._ngZone.run(()=>{this.close(),d.stopPropagation(),d.preventDefault()}))}),this._animationEnd.subscribe(d=>{let{fromState:f,toState:p}=d;(p.indexOf("open")===0&&f==="void"||p==="void"&&f.indexOf("open")===0)&&this.openedChange.emit(this._opened)})}_forceFocus(e,n){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(n)}_focusByCssSelector(e,n){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,n)}_takeFocus(){if(!this._focusTrap)return;let e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":gn(()=>{!this._focusTrap.focusInitialElement()&&typeof e.focus=="function"&&e.focus()},{injector:this._injector});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus);break}}_restoreFocus(e){this.autoFocus!=="dialog"&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){let e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._position==="end"&&this._updatePositionInParent("end"),this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState())}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap?.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,n){e&&n&&(this._openedVia=n);let r=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),r}_setOpen(e,n,r){return this._opened=e,e?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",n&&this._restoreFocus(r)),this._changeDetectorRef.markForCheck(),this._updateFocusTrapState(),new Promise(s=>{this.openedChange.pipe(Tt(1)).subscribe(o=>s(o?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=!!this._container?.hasBackdrop&&this.opened)}_updatePositionInParent(e){if(!this._platform.isBrowser)return;let n=this._elementRef.nativeElement,r=n.parentNode;e==="end"?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),r.insertBefore(this._anchor,n)),r.appendChild(n)):this._anchor&&this._anchor.parentNode.insertBefore(n,this._anchor)}static{this.\u0275fac=function(n){return new(n||i)(R(de),R(Fv),R(Uv),R(De),R(ee),R(Hd),R(le,8),R(ch,8))}}static{this.\u0275cmp=X({type:i,selectors:[["mat-drawer"]],viewQuery:function(n,r){if(n&1&&vt(xC,5),n&2){let s;Te(s=Ae())&&(r._content=s.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(n,r){n&1&&jg("@transform.start",function(o){return r._animationStarted.next(o)})("@transform.done",function(o){return r._animationEnd.next(o)}),n&2&&(Ug("@transform",r._animationState),it("align",null),Pe("mat-drawer-end",r.position==="end")("mat-drawer-over",r.mode==="over")("mat-drawer-push",r.mode==="push")("mat-drawer-side",r.mode==="side")("mat-drawer-opened",r.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],standalone:!0,features:[J],ngContentSelectors:Ic,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(n,r){n&1&&(Be(),B(0,"div",1,0),he(2),$())},dependencies:[Er],encapsulation:2,data:{animation:[Ay.transformDrawer]},changeDetection:0})}}return i})(),Sy=(()=>{class i{get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=yt(e)}get hasBackdrop(){return this._drawerHasBackdrop(this._start)||this._drawerHasBackdrop(this._end)}set hasBackdrop(e){this._backdropOverride=e==null?null:yt(e)}get scrollable(){return this._userContent||this._content}constructor(e,n,r,s,o,c=!1,l){this._dir=e,this._element=n,this._ngZone=r,this._changeDetectorRef=s,this._animationMode=l,this._drawers=new Pu,this.backdropClick=new Re,this._destroyed=new pe,this._doCheckSubject=new pe,this._contentMargins={left:null,right:null},this._contentMarginChanges=new pe,this._injector=F(Ct),e&&e.change.pipe(Ge(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),o.change().pipe(Ge(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=c}ngAfterContentInit(){this._allDrawers.changes.pipe(yi(this._allDrawers),Ge(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(n=>!n._container||n._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(yi(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(hn(10),Ge(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,n=0;if(this._left&&this._left.opened){if(this._left.mode=="side")e+=this._left._getWidth();else if(this._left.mode=="push"){let r=this._left._getWidth();e+=r,n-=r}}if(this._right&&this._right.opened){if(this._right.mode=="side")n+=this._right._getWidth();else if(this._right.mode=="push"){let r=this._right._getWidth();n+=r,e-=r}}e=e||null,n=n||null,(e!==this._contentMargins.left||n!==this._contentMargins.right)&&(this._contentMargins={left:e,right:n},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(Fe(n=>n.fromState!==n.toState),Ge(this._drawers.changes)).subscribe(n=>{n.toState!=="open-instant"&&this._animationMode!=="NoopAnimations"&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),e.mode!=="side"&&e.openedChange.pipe(Ge(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){e&&e.onPositionChanged.pipe(Ge(this._drawers.changes)).subscribe(()=>{gn(()=>{this._validateDrawers()},{injector:this._injector,phase:Lg.Read})})}_watchDrawerMode(e){e&&e._modeChanged.pipe(Ge(ya(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){let n=this._element.nativeElement.classList,r="mat-drawer-container-has-open";e?n.add(r):n.remove(r)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{e.position=="end"?(this._end!=null,this._end=e):(this._start!=null,this._start=e)}),this._right=this._left=null,this._dir&&this._dir.value==="rtl"?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&this._start.mode!="over"||this._isDrawerOpen(this._end)&&this._end.mode!="over"}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._drawerHasBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._drawerHasBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._drawerHasBackdrop(this._end)}_isDrawerOpen(e){return e!=null&&e.opened}_drawerHasBackdrop(e){return this._backdropOverride==null?!!e&&e.mode!=="side":this._backdropOverride}static{this.\u0275fac=function(n){return new(n||i)(R(vr,8),R(de),R(ee),R(We),R(Ty),R(BC),R(Yt,8))}}static{this.\u0275cmp=X({type:i,selectors:[["mat-drawer-container"]],contentQueries:function(n,r,s){if(n&1&&(nt(s,bc,5),nt(s,Cy,5)),n&2){let o;Te(o=Ae())&&(r._content=o.first),Te(o=Ae())&&(r._allDrawers=o)}},viewQuery:function(n,r){if(n&1&&vt(bc,5),n&2){let s;Te(s=Ae())&&(r._userContent=s.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(n,r){n&2&&Pe("mat-drawer-container-explicit-backdrop",r._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],standalone:!0,features:[rt([{provide:ch,useExisting:i}]),J],ngContentSelectors:PC,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(n,r){n&1&&(Be(MC),jt(0,OC,1,2,"div",0),he(1),he(2,1),jt(3,NC,2,0,"mat-drawer-content")),n&2&&(Bt(r.hasBackdrop?0:-1),Oe(3),Bt(r._content?-1:3))},dependencies:[bc],styles:['.mat-drawer-container{position:relative;z-index:1;color:var(--mat-sidenav-content-text-color, var(--mat-app-on-background));background-color:var(--mat-sidenav-content-background-color, var(--mat-app-background));box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible;background-color:var(--mat-sidenav-scrim-color)}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;color:var(--mat-sidenav-container-text-color, var(--mat-app-on-surface-variant));box-shadow:var(--mat-sidenav-container-elevation-shadow);background-color:var(--mat-sidenav-container-background-color, var(--mat-app-surface));border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));width:var(--mat-sidenav-container-width);display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0);border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-top-right-radius:0;border-bottom-right-radius:0}[dir=rtl] .mat-drawer{border-top-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-left-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-top-right-radius:0;border-bottom-right-radius:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{border-top-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-bottom-right-radius:var(--mat-sidenav-container-shape, var(--mat-app-corner-large));border-top-left-radius:0;border-bottom-left-radius:0;left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-side{box-shadow:none;border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid}.mat-drawer-side.mat-drawer-end{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side{border-left-color:var(--mat-sidenav-container-divider-color);border-left-width:1px;border-left-style:solid;border-right:none}[dir=rtl] .mat-drawer-side.mat-drawer-end{border-right-color:var(--mat-sidenav-container-divider-color);border-right-width:1px;border-right-style:solid;border-left:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0})}}return i})(),wc=(()=>{class i extends bc{constructor(e,n,r,s,o){super(e,n,r,s,o)}static{this.\u0275fac=function(n){return new(n||i)(R(We),R(bi(()=>uh)),R(de),R(yc),R(ee))}}static{this.\u0275cmp=X({type:i,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(n,r){n&2&&_n("margin-left",r._container._contentMargins.left,"px")("margin-right",r._container._contentMargins.right,"px")},standalone:!0,features:[rt([{provide:Er,useExisting:i}]),tt,J],ngContentSelectors:Ic,decls:1,vars:0,template:function(n,r){n&1&&(Be(),he(0))},encapsulation:2,changeDetection:0})}}return i})(),lh=(()=>{class i extends Cy{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(e){this._fixedInViewport=yt(e)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(e){this._fixedTopGap=Ti(e)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(e){this._fixedBottomGap=Ti(e)}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Lt(i)))(r||i)}})()}static{this.\u0275cmp=X({type:i,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(n,r){n&2&&(it("align",null),_n("top",r.fixedInViewport?r.fixedTopGap:null,"px")("bottom",r.fixedInViewport?r.fixedBottomGap:null,"px"),Pe("mat-drawer-end",r.position==="end")("mat-drawer-over",r.mode==="over")("mat-drawer-push",r.mode==="push")("mat-drawer-side",r.mode==="side")("mat-drawer-opened",r.opened)("mat-sidenav-fixed",r.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],standalone:!0,features:[tt,J],ngContentSelectors:Ic,decls:3,vars:0,consts:[["content",""],["cdkScrollable","",1,"mat-drawer-inner-container"]],template:function(n,r){n&1&&(Be(),B(0,"div",1,0),he(2),$())},dependencies:[Er],encapsulation:2,data:{animation:[Ay.transformDrawer]},changeDetection:0})}}return i})(),uh=(()=>{class i extends Sy{constructor(){super(...arguments),this._allDrawers=void 0,this._content=void 0}static{this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Lt(i)))(r||i)}})()}static{this.\u0275cmp=X({type:i,selectors:[["mat-sidenav-container"]],contentQueries:function(n,r,s){if(n&1&&(nt(s,wc,5),nt(s,lh,5)),n&2){let o;Te(o=Ae())&&(r._content=o.first),Te(o=Ae())&&(r._allDrawers=o)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(n,r){n&2&&Pe("mat-drawer-container-explicit-backdrop",r._backdropOverride)},exportAs:["matSidenavContainer"],standalone:!0,features:[rt([{provide:ch,useExisting:i}]),tt,J],ngContentSelectors:FC,decls:4,vars:2,consts:[[1,"mat-drawer-backdrop",3,"mat-drawer-shown"],[1,"mat-drawer-backdrop",3,"click"]],template:function(n,r){n&1&&(Be(VC),jt(0,LC,1,2,"div",0),he(1),he(2,1),jt(3,UC,2,0,"mat-sidenav-content")),n&2&&(Bt(r.hasBackdrop?0:-1),Oe(3),Bt(r._content?-1:3))},dependencies:[wc],styles:[jC],encapsulation:2,changeDetection:0})}}return i})(),Ec=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=se({type:i})}static{this.\u0275inj=re({imports:[Le,ah,ah,Le]})}}return i})();var qC=["*"];var GC=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],WC=["[mat-card-avatar], [matCardAvatar]",`mat-card-title, mat-card-subtitle,
      [mat-card-title], [mat-card-subtitle],
      [matCardTitle], [matCardSubtitle]`,"*"],HC=new z("MAT_CARD_CONFIG"),ky=(()=>{class i{constructor(e){this.appearance=e?.appearance||"raised"}static{this.\u0275fac=function(n){return new(n||i)(R(HC,8))}}static{this.\u0275cmp=X({type:i,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(n,r){n&2&&Pe("mat-mdc-card-outlined",r.appearance==="outlined")("mdc-card--outlined",r.appearance==="outlined")},inputs:{appearance:"appearance"},exportAs:["matCard"],standalone:!0,features:[J],ngContentSelectors:qC,decls:1,vars:0,template:function(n,r){n&1&&(Be(),he(0))},styles:['.mat-mdc-card{display:flex;flex-direction:column;box-sizing:border-box;position:relative;border-style:solid;border-width:0;background-color:var(--mdc-elevated-card-container-color, var(--mat-app-surface-container-low));border-color:var(--mdc-elevated-card-container-color, var(--mat-app-surface-container-low));border-radius:var(--mdc-elevated-card-container-shape, var(--mat-app-corner-medium));box-shadow:var(--mdc-elevated-card-container-elevation, var(--mat-app-level1))}.mat-mdc-card::after{position:absolute;top:0;left:0;width:100%;height:100%;border:solid 1px rgba(0,0,0,0);content:"";display:block;pointer-events:none;box-sizing:border-box;border-radius:var(--mdc-elevated-card-container-shape, var(--mat-app-corner-medium))}.mat-mdc-card-outlined{background-color:var(--mdc-outlined-card-container-color, var(--mat-app-surface));border-radius:var(--mdc-outlined-card-container-shape, var(--mat-app-corner-medium));border-width:var(--mdc-outlined-card-outline-width);border-color:var(--mdc-outlined-card-outline-color, var(--mat-app-outline-variant));box-shadow:var(--mdc-outlined-card-container-elevation, var(--mat-app-level0))}.mat-mdc-card-outlined::after{border:none}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mat-mdc-card-actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font, var(--mat-app-title-large-font));line-height:var(--mat-card-title-text-line-height, var(--mat-app-title-large-line-height));font-size:var(--mat-card-title-text-size, var(--mat-app-title-large-size));letter-spacing:var(--mat-card-title-text-tracking, var(--mat-app-title-large-tracking));font-weight:var(--mat-card-title-text-weight, var(--mat-app-title-large-weight))}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color, var(--mat-app-on-surface));font-family:var(--mat-card-subtitle-text-font, var(--mat-app-title-medium-font));line-height:var(--mat-card-subtitle-text-line-height, var(--mat-app-title-medium-line-height));font-size:var(--mat-card-subtitle-text-size, var(--mat-app-title-medium-size));letter-spacing:var(--mat-card-subtitle-text-tracking, var(--mat-app-title-medium-tracking));font-weight:var(--mat-card-subtitle-text-weight, var(--mat-app-title-medium-weight))}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}}return i})();var Ry=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275cmp=X({type:i,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],standalone:!0,features:[J],ngContentSelectors:WC,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(n,r){n&1&&(Be(GC),he(0),B(1,"div",0),he(2,1),$(),he(3,2))},encapsulation:2,changeDetection:0})}}return i})();var Dy=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=se({type:i})}static{this.\u0275inj=re({imports:[Le,Jt,Le]})}}return i})();var QC=i=>["/artists",i],Tc=class i{topTracks=Ag.required();static \u0275fac=function(e){return new(e||i)};static \u0275cmp=X({type:i,selectors:[["app-music-card"]],inputs:{topTracks:[1,"topTracks"]},standalone:!0,features:[J],decls:5,vars:4,consts:[[3,"routerLink"],["alt","cover art"]],template:function(e,n){e&1&&(B(0,"a",0)(1,"mat-card"),we(2,"img",1),B(3,"mat-card-header"),Ce(4),$()()()),e&2&&(Xt("routerLink",qg(2,QC,n.topTracks())),Oe(4),tr(n.topTracks()))},dependencies:[Dy,ky,Ry,ic],styles:["mat-card[_ngcontent-%COMP%]{width:100%}a[_ngcontent-%COMP%]{text-decoration:none}"]})};var Py=d0(My());var ai=class i{constructor(t){this.platformId=t;if(this.spotifyWebApi=new Py.default,this.isBrowser=xa(this.platformId),this.isBrowser){let e=window.location.hash.substring(1),r=new URLSearchParams(e).get("access_token");r?(this.spotifyWebApi.setAccessToken(r),localStorage.setItem("spotify_access_token",r),window.history.replaceState(null,"",window.location.pathname)):console.warn("No access token found in URL. User may need to log in.")}}spotifyWebApi;isBrowser;getAccessToken(){if(!this.isBrowser)throw new Error("Cannot authenticate outside of a browser environment.");let t="eb64fd7b14bb4b68992e0cf779a78070",e="http://localhost:4200/",n=["user-read-private","user-read-email","user-library-read","user-library-modify","user-top-read","user-follow-read","user-follow-modify","user-read-playback-state","user-read-currently-playing","user-modify-playback-state","user-read-recently-played","user-read-currently-playing","playlist-read-private","playlist-read-collaborative","playlist-modify-public","playlist-modify-private","ugc-image-upload"].join(" "),r=`https://accounts.spotify.com/authorize?response_type=token&client_id=${t}&scope=${encodeURIComponent(n)}&redirect_uri=${encodeURIComponent(e)}`;window.location.href=r}isLoggedIn(){return this.isBrowser?!!localStorage.getItem("spotify_access_token"):!1}ensureLoggedIn(){if(!this.isLoggedIn())throw console.warn("User is not logged in. Redirecting to login."),this.getAccessToken(),new Error("User not logged in")}getAlbum(t,e){return this.ensureLoggedIn(),this.spotifyWebApi.getAlbum(t,e).then(n=>n.name).catch(n=>(console.error("Error fetching album:",n),Promise.reject("Error fetching album")))}getAlbumTracks(t,e){return this.ensureLoggedIn(),this.spotifyWebApi.getAlbumTracks(t,e).then(n=>n.items.map(r=>r.name)).catch(n=>(console.error("Error fetching album tracks:",n),Promise.reject("Error fetching album tracks")))}getUsersSavedAlbums(){return this.ensureLoggedIn(),this.spotifyWebApi.getMySavedAlbums({limit:10}).then(t=>t.items.map(e=>e.album.name)).catch(t=>(console.error("Error fetching saved albums:",t),Promise.reject("Error fetching saved albums")))}addToSavedAlbums(t,e){return this.ensureLoggedIn(),this.spotifyWebApi.addToMySavedAlbums(t,e).then(()=>{console.log(`Successfully added one or more albums to the current user's Your Music library: ${t.join(", ")}`)}).catch(n=>{throw console.error("Error adding album to users music library:",n),n})}removeFromSavedAlbums(t,e){return this.ensureLoggedIn(),this.spotifyWebApi.removeFromMySavedAlbums(t,e).then(()=>{console.log(`Successfully removed one or more albums from the current user's your music library: ${t.join(", ")}`)}).catch(n=>{throw console.error("Error removing one or more albums from users music library:",n),n})}getCurrentPlaybackState(t){return this.ensureLoggedIn(),this.spotifyWebApi.getMyCurrentPlaybackState(t).then(e=>e).catch(e=>{throw console.error("Error fetching playback state:",e),e})}getMyCurrentPlayingTrack(){return this.ensureLoggedIn(),this.spotifyWebApi.getMyCurrentPlayingTrack().then(t=>t).catch(t=>{throw console.error("Error fetching current playing track:",t),t})}play(t){return this.ensureLoggedIn(),this.spotifyWebApi.play(t).then(()=>console.log("Playback started")).catch(e=>{throw console.error("Error starting playback:",e),e})}queue(t,e){return this.ensureLoggedIn(),this.spotifyWebApi.queue(t,e).then(()=>console.log(`Added to queue: ${t}`)).catch(n=>{throw console.error("Error adding to queue:",n),n})}pause(t){return this.ensureLoggedIn(),this.spotifyWebApi.pause(t).then(()=>console.log("Playback paused")).catch(e=>{throw console.error("Error pausing playback:",e),e})}skipToNextTrack(t){return this.ensureLoggedIn(),this.spotifyWebApi.skipToNext(t).then(()=>console.log("Skipped to next track")).catch(e=>{throw console.error("Error skipping to next track:",e),e})}skipToPreviousTrack(t){return this.ensureLoggedIn(),this.spotifyWebApi.skipToPrevious(t).then(()=>console.log("Skipped to previous track")).catch(e=>{throw console.error("Error skipping to previous track:",e),e})}setVolume(t){return this.ensureLoggedIn(),this.spotifyWebApi.setVolume(t).then(()=>console.log(`Volume set to ${t}%`)).catch(e=>{throw console.error("Error setting volume:",e),e})}getSearchRequest(t,e){return this.ensureLoggedIn(),this.spotifyWebApi.search(t,["album","artist","playlist","track"],e).then(n=>{let r=[];return(n.artists?.items||[]).forEach(h=>{h?.name&&r.push({type:"artist",name:h.name})}),(n.tracks?.items||[]).forEach(h=>{let d=h?.name||"Unknown Track",f=h?.artists?.[0]?.name||"Unknown Artist";r.push({type:"track",name:`${d} by ${f}`})}),(n.albums?.items||[]).forEach(h=>{let d=h?.name||"Unknown Album",f=h?.artists?.[0]?.name||"Unknown Artist";r.push({type:"album",name:`${d} by ${f}`})}),(n.playlists?.items||[]).forEach(h=>{h?.name&&r.push({type:"playlist",name:`${h.name} (Playlist)`})}),r.slice(0,10)}).catch(n=>(console.error("Error fetching search results:",n),Promise.reject("Error fetching search results")))}getUsersSavedTracks(){return this.ensureLoggedIn(),this.spotifyWebApi.getMySavedTracks().then(t=>t.items.map(e=>e.track.name)).catch(t=>(console.error("Error fetching saved tracks:",t),Promise.reject("Error fetching saved tracks")))}addToUsersSavedTracks(t,e){return this.ensureLoggedIn(),this.spotifyWebApi.addToMySavedTracks(t,e).then(()=>{console.log(`Tracks successfully added to saved tracks: ${t.join(", ")}`)}).catch(n=>{throw console.error("Error adding tracks to saved tracks:",n),n})}removeFromUsersSavedTracks(t,e){return this.ensureLoggedIn(),this.spotifyWebApi.addToMySavedTracks(t,e).then(()=>{console.log(`Tracks successfully removed from saved tracks: ${t.join(", ")}`)}).catch(n=>{throw console.error("Error removing tracks from saved tracks:",n),n})}getUserName(){this.ensureLoggedIn();let t=localStorage.getItem("spotify_access_token");return this.spotifyWebApi.setAccessToken(t),this.spotifyWebApi.getMe().then(e=>e.display_name||"").catch(e=>(console.error("Error fetching user name:",e),e.status===401&&(console.log("Access token expired. Redirecting to login."),this.getAccessToken()),""))}getUsersTopArtists(){return this.ensureLoggedIn(),this.spotifyWebApi.getMyTopArtists({limit:6}).then(t=>t.items.map(e=>e.name)).catch(t=>(console.error("Error fetching user top artists:",t),[]))}getUsersTopTracks(){return this.ensureLoggedIn(),this.spotifyWebApi.getMyTopTracks({limit:6}).then(t=>t.items.map(e=>e.name)).catch(t=>(console.error("Error fetching user top tracks:",t),[]))}getUsersRecentlyPlayedTracks(){return this.ensureLoggedIn(),this.spotifyWebApi.getMyRecentlyPlayedTracks().then(t=>t.items.map(e=>e.track.name)).catch(t=>(console.error("Error fetching user recently played tracks:",t),[]))}static \u0275fac=function(e){return new(e||i)(N(St))};static \u0275prov=L({token:i,factory:i.\u0275fac,providedIn:"root"})};function YC(i,t){if(i&1&&(B(0,"div",2),we(1,"app-music-card",4),$()),i&2){let e=t.$implicit;Oe(),Xt("topTracks",e)}}function XC(i,t){if(i&1&&(B(0,"div",2),we(1,"app-music-card",4),$()),i&2){let e=t.$implicit;Oe(),Xt("topTracks",e)}}var Sc=class i{constructor(t){this.spotifyService=t}userName="";usersTopArtists=[];usersTopTracks=[];usersRecentlyPlayedTracks=[];currentPlayingTrack="";ngOnInit(){this.spotifyService.isLoggedIn()&&(this.spotifyService.getUserName().then(t=>this.userName=t),this.spotifyService.getUsersTopArtists().then(t=>this.usersTopArtists=t),this.spotifyService.getUsersTopTracks().then(t=>this.usersTopTracks=t),this.spotifyService.getUsersRecentlyPlayedTracks().then(t=>this.usersRecentlyPlayedTracks=t),this.spotifyService.getMyCurrentPlayingTrack().then(t=>{t&&t.item?this.currentPlayingTrack=`${t.item.name} by ${t.item.artists.map(e=>e.name).join(", ")}`:this.currentPlayingTrack="No track currently playing."}).catch(t=>{console.error("Error fetching current playing track:",t),this.currentPlayingTrack="Error fetching current playing track."}))}static \u0275fac=function(e){return new(e||i)(R(ai))};static \u0275cmp=X({type:i,selectors:[["app-home"]],standalone:!0,features:[J],decls:12,vars:0,consts:[[1,"userTracks"],[1,"grid-container"],[1,"grid-item"],[1,"topArtists"],[3,"topTracks"]],template:function(e,n){e&1&&(B(0,"div",0)(1,"p"),Ce(2,"User's Top Tracks"),$(),B(3,"div",1),Ss(4,YC,2,1,"div",2,Cs),$()(),B(6,"div",3)(7,"p"),Ce(8,"User's Top Artists"),$(),B(9,"div",1),Ss(10,XC,2,1,"div",2,Cs),$()()),e&2&&(Oe(4),ks(n.usersTopTracks),Oe(6),ks(n.usersTopArtists))},dependencies:[bt,Ec,$t,Jt,vc,Tc],styles:[".grid-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);grid-gap:25px}.topArtists[_ngcontent-%COMP%]{margin-top:25px}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;margin:0}.wholePage[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column}.sidenav-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:row}mat-sidenav[_ngcontent-%COMP%]{width:200px;border:3px solid red}mat-sidenav-content[_ngcontent-%COMP%]{flex:1;padding:16px;border:3px solid blue}#topToolBar[_ngcontent-%COMP%]{border:2px solid green}#playback[_ngcontent-%COMP%]{border:2px solid orange}.mat-list-item[_ngcontent-%COMP%]{display:flex;align-items:center}.mat-list-item[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{margin-right:8px;font-size:24px;color:currentColor}"]})};var kc=class i{static \u0275fac=function(e){return new(e||i)};static \u0275cmp=X({type:i,selectors:[["app-search"]],standalone:!0,features:[J],decls:2,vars:0,template:function(e,n){e&1&&(B(0,"p"),Ce(1,"search page works!"),$())},dependencies:[bt,$t]})};var Rc=class i{static \u0275fac=function(e){return new(e||i)};static \u0275cmp=X({type:i,selectors:[["app-listen"]],standalone:!0,features:[J],decls:6,vars:0,template:function(e,n){e&1&&(B(0,"p"),Ce(1,"Listen page works!"),$(),B(2,"p"),Ce(3,"Trying out MusixMatch API"),$(),B(4,"p"),Ce(5,"Song: Tu Boda by Fuerza Regida"),$())},dependencies:[bt,$t,Jt]})};var Dc=class i{static \u0275fac=function(e){return new(e||i)};static \u0275cmp=X({type:i,selectors:[["app-profile"]],standalone:!0,features:[J],decls:2,vars:0,template:function(e,n){e&1&&(B(0,"p"),Ce(1,"profile works!"),$())},dependencies:[bt,$t,Jt]})};var xc=class i{constructor(t){this.spotifyService=t}loginToSpotify(){this.spotifyService.getAccessToken()}static \u0275fac=function(e){return new(e||i)(R(ai))};static \u0275cmp=X({type:i,selectors:[["app-login"]],standalone:!0,features:[J],decls:4,vars:0,consts:[[3,"click"]],template:function(e,n){e&1&&(B(0,"h1"),Ce(1,"Welcome to [enter app name]!"),$(),B(2,"button",0),lt("click",function(){return n.loginToSpotify()}),Ce(3,"Login with spotify"),$())}})};var Mc=class i{constructor(t){this.route=t}topTracks="";ngOnInit(){this.route.queryParams.subscribe(t=>{this.topTracks=t.topTracks??"",console.log("Top tracks:",this.topTracks)})}static \u0275fac=function(e){return new(e||i)(R(oi))};static \u0275cmp=X({type:i,selectors:[["app-artist-page"]],standalone:!0,features:[J],decls:2,vars:1,template:function(e,n){e&1&&(B(0,"p"),Ce(1),$()),e&2&&(Oe(),tr(n.topTracks))}})};var Qi=class i{constructor(t,e){this.spotifyService=t;this.router=e}canActivate(){return this.spotifyService.isLoggedIn()?!0:(this.router.navigate(["/login"]),!1)}static \u0275fac=function(e){return new(e||i)(N(ai),N(Mt))};static \u0275prov=L({token:i,factory:i.\u0275fac,providedIn:"root"})};var dh=[{path:"login",component:xc},{path:"",component:Sc,canActivate:[Qi]},{path:"search",component:kc,canActivate:[Qi]},{path:"listen",component:Rc,canActivate:[Qi]},{path:"artists/:trackOrArtist",component:Mc,canActivate:[Qi]},{path:"profile",component:Dc,canActivate:[Qi]},{path:"**",redirectTo:"login"}],Oy=class i{static \u0275fac=function(e){return new(e||i)};static \u0275mod=se({type:i});static \u0275inj=re({imports:[jd.forRoot(dh),jd]})};var JC="@",ZC=(()=>{class i{constructor(e,n,r,s,o){this.doc=e,this.delegate=n,this.zone=r,this.animationType=s,this.moduleImpl=o,this._rendererFactoryPromise=null,this.scheduler=F(Vg,{optional:!0}),this.loadingSchedulerFn=F(eS,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){let e=()=>this.moduleImpl??import("./chunk-DNKGBQJ2.js").then(r=>r),n;return this.loadingSchedulerFn?n=this.loadingSchedulerFn(e):n=e(),n.catch(r=>{throw new ke(5300,!1)}).then(({\u0275createEngine:r,\u0275AnimationRendererFactory:s})=>{this._engine=r(this.animationType,this.doc);let o=new s(this.delegate,this._engine,this.zone);return this.delegate=o,o})}createRenderer(e,n){let r=this.delegate.createRenderer(e,n);if(r.\u0275type===0)return r;typeof r.throwOnSyntheticProps=="boolean"&&(r.throwOnSyntheticProps=!1);let s=new hh(r);return n?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(o=>{let c=o.createRenderer(e,n);s.use(c),this.scheduler?.notify(10)}).catch(o=>{s.use(r)}),s}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static{this.\u0275fac=function(n){Ta()}}static{this.\u0275prov=L({token:i,factory:i.\u0275fac})}}return i})(),hh=class{constructor(t){this.delegate=t,this.replay=[],this.\u0275type=1}use(t){if(this.delegate=t,this.replay!==null){for(let e of this.replay)e(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,e){this.delegate.appendChild(t,e)}insertBefore(t,e,n,r){this.delegate.insertBefore(t,e,n,r)}removeChild(t,e,n){this.delegate.removeChild(t,e,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){this.shouldReplay(e)&&this.replay.push(r=>r.setProperty(t,e,n)),this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.shouldReplay(e)&&this.replay.push(r=>r.listen(t,e,n)),this.delegate.listen(t,e,n)}shouldReplay(t){return this.replay!==null&&t.startsWith(JC)}},eS=new z("");function mh(i="animations"){return Ca("NgAsyncAnimations"),Kt([{provide:Aa,useFactory:(t,e,n)=>new ZC(t,e,n,i),deps:[le,Na,ee]},{provide:Yt,useValue:i==="noop"?"NoopAnimations":"BrowserAnimations"}])}var Vy=function(i){let t=[],e=0;for(let n=0;n<i.length;n++){let r=i.charCodeAt(n);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=r&63|128):(r&64512)===55296&&n+1<i.length&&(i.charCodeAt(n+1)&64512)===56320?(r=65536+((r&1023)<<10)+(i.charCodeAt(++n)&1023),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=r&63|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=r&63|128)}return t},tS=function(i){let t=[],e=0,n=0;for(;e<i.length;){let r=i[e++];if(r<128)t[n++]=String.fromCharCode(r);else if(r>191&&r<224){let s=i[e++];t[n++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){let s=i[e++],o=i[e++],c=i[e++],l=((r&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;t[n++]=String.fromCharCode(55296+(l>>10)),t[n++]=String.fromCharCode(56320+(l&1023))}else{let s=i[e++],o=i[e++];t[n++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return t.join("")},Fy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();let e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let r=0;r<i.length;r+=3){let s=i[r],o=r+1<i.length,c=o?i[r+1]:0,l=r+2<i.length,h=l?i[r+2]:0,d=s>>2,f=(s&3)<<4|c>>4,p=(c&15)<<2|h>>6,_=h&63;l||(_=64,o||(p=64)),n.push(e[d],e[f],e[p],e[_])}return n.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(Vy(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):tS(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();let e=t?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let r=0;r<i.length;){let s=e[i.charAt(r++)],c=r<i.length?e[i.charAt(r)]:0;++r;let h=r<i.length?e[i.charAt(r)]:64;++r;let f=r<i.length?e[i.charAt(r)]:64;if(++r,s==null||c==null||h==null||f==null)throw new ph;let p=s<<2|c>>4;if(n.push(p),h!==64){let _=c<<4&240|h>>2;if(n.push(_),f!==64){let C=h<<6&192|f;n.push(C)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}},ph=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},iS=function(i){let t=Vy(i);return Fy.encodeByteArray(t,!0)},go=function(i){return iS(i).replace(/\./g,"")},_h=function(i){try{return Fy.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function nS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var rS=()=>nS().__FIREBASE_DEFAULTS__,sS=()=>{if(typeof process>"u"||typeof process.env>"u")return;let i=process.env.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},oS=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let t=i&&_h(i[1]);return t&&JSON.parse(t)},Oc=()=>{try{return rS()||sS()||oS()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},Ly=i=>{var t,e;return(e=(t=Oc())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[i]},Uy=i=>{let t=Ly(i);if(!t)return;let e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);let n=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),n]:[t.substring(0,e),n]},vh=()=>{var i;return(i=Oc())===null||i===void 0?void 0:i.config},jy=i=>{var t;return(t=Oc())===null||t===void 0?void 0:t[`_${i}`]};var Pc=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,n)=>{e?this.reject(e):this.resolve(n),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,n))}}};function By(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let e={alg:"none",type:"JWT"},n=t||"demo-project",r=i.iat||0,s=i.sub||i.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},i);return[go(JSON.stringify(e)),go(JSON.stringify(o)),""].join(".")}function Pt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function zy(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pt())}function aS(){var i;let t=(i=Oc())===null||i===void 0?void 0:i.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $y(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function qy(){let i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function Gy(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Wy(){return!aS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yh(){try{return typeof indexedDB=="object"}catch{return!1}}function Hy(){return new Promise((i,t)=>{try{let e=!0,n="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(n);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(n),i(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{var s;t(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(e){t(e)}})}var cS="FirebaseError",qt=class i extends Error{constructor(t,e,n){super(e),this.code=t,this.customData=n,this.name=cS,Object.setPrototypeOf(this,i.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Si.prototype.create)}},Si=class{constructor(t,e,n){this.service=t,this.serviceName=e,this.errors=n}create(t,...e){let n=e[0]||{},r=`${this.service}/${t}`,s=this.errors[t],o=s?lS(s,n):"Error",c=`${this.serviceName}: ${o} (${r}).`;return new qt(r,c,n)}};function lS(i,t){return i.replace(uS,(e,n)=>{let r=t[n];return r!=null?String(r):`<${n}?>`})}var uS=/\{\$([^}]+)}/g;function Tr(i,t){if(i===t)return!0;let e=Object.keys(i),n=Object.keys(t);for(let r of e){if(!n.includes(r))return!1;let s=i[r],o=t[r];if(Ny(s)&&Ny(o)){if(!Tr(s,o))return!1}else if(s!==o)return!1}for(let r of n)if(!e.includes(r))return!1;return!0}function Ny(i){return i!==null&&typeof i=="object"}function bh(i){let t=[];for(let[e,n]of Object.entries(i))Array.isArray(n)?n.forEach(r=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n));return t.length?"&"+t.join("&"):""}function Ky(i,t){let e=new gh(i,t);return e.subscribe.bind(e)}var gh=class{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(n=>{this.error(n)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,n){let r;if(t===void 0&&e===void 0&&n===void 0)throw new Error("Missing Observer.");dS(t,["next","error","complete"])?r=t:r={next:t,error:e,complete:n},r.next===void 0&&(r.next=fh),r.error===void 0&&(r.error=fh),r.complete===void 0&&(r.complete=fh);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function dS(i,t){if(typeof i!="object"||i===null)return!1;for(let e of t)if(e in i&&typeof i[e]=="function")return!0;return!1}function fh(){}var TV=4*60*60*1e3;function gt(i){return i&&i._delegate?i._delegate:i}var Gt=class{constructor(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}};var kn="[DEFAULT]";var wh=class{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){let e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){let n=new Pc;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{let r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;let n=this.normalizeInstanceIdentifier(t?.identifier),r=(e=t?.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(mS(t))try{this.getOrInitializeService({instanceIdentifier:kn})}catch{}for(let[e,n]of this.instancesDeferred.entries()){let r=this.normalizeInstanceIdentifier(e);try{let s=this.getOrInitializeService({instanceIdentifier:r});n.resolve(s)}catch{}}}}clearInstance(t=kn){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}delete(){return S(this,null,function*(){let t=Array.from(this.instances.values());yield Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])})}isComponentSet(){return this.component!=null}isInitialized(t=kn){return this.instances.has(t)}getOptions(t=kn){return this.instancesOptions.get(t)||{}}initialize(t={}){let{options:e={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:n,options:e});for(let[s,o]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(s);n===c&&o.resolve(r)}return r}onInit(t,e){var n;let r=this.normalizeInstanceIdentifier(e),s=(n=this.onInitCallbacks.get(r))!==null&&n!==void 0?n:new Set;s.add(t),this.onInitCallbacks.set(r,s);let o=this.instances.get(r);return o&&t(o,r),()=>{s.delete(t)}}invokeOnInitCallbacks(t,e){let n=this.onInitCallbacks.get(e);if(n)for(let r of n)try{r(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:hS(t),options:e}),this.instances.set(t,n),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch{}return n||null}normalizeInstanceIdentifier(t=kn){return this.component?this.component.multipleInstances?t:kn:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function hS(i){return i===kn?void 0:i}function mS(i){return i.instantiationMode==="EAGER"}var Nc=class{constructor(t){this.name=t,this.providers=new Map}addComponent(t){let e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);let e=new wh(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}};var fS=[],oe=function(i){return i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT",i}(oe||{}),pS={debug:oe.DEBUG,verbose:oe.VERBOSE,info:oe.INFO,warn:oe.WARN,error:oe.ERROR,silent:oe.SILENT},gS=oe.INFO,_S={[oe.DEBUG]:"log",[oe.VERBOSE]:"log",[oe.INFO]:"info",[oe.WARN]:"warn",[oe.ERROR]:"error"},vS=(i,t,...e)=>{if(t<i.logLevel)return;let n=new Date().toISOString(),r=_S[t];if(r)console[r](`[${n}]  ${i.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)},Yi=class{constructor(t){this.name=t,this._logLevel=gS,this._logHandler=vS,this._userLogHandler=null,fS.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in oe))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?pS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,oe.DEBUG,...t),this._logHandler(this,oe.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,oe.VERBOSE,...t),this._logHandler(this,oe.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,oe.INFO,...t),this._logHandler(this,oe.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,oe.WARN,...t),this._logHandler(this,oe.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,oe.ERROR,...t),this._logHandler(this,oe.ERROR,...t)}};var yS=(i,t)=>t.some(e=>i instanceof e),Qy,Yy;function bS(){return Qy||(Qy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wS(){return Yy||(Yy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Xy=new WeakMap,Eh=new WeakMap,Jy=new WeakMap,Ih=new WeakMap,Ah=new WeakMap;function IS(i){let t=new Promise((e,n)=>{let r=()=>{i.removeEventListener("success",s),i.removeEventListener("error",o)},s=()=>{e(ci(i.result)),r()},o=()=>{n(i.error),r()};i.addEventListener("success",s),i.addEventListener("error",o)});return t.then(e=>{e instanceof IDBCursor&&Xy.set(e,i)}).catch(()=>{}),Ah.set(t,i),t}function ES(i){if(Eh.has(i))return;let t=new Promise((e,n)=>{let r=()=>{i.removeEventListener("complete",s),i.removeEventListener("error",o),i.removeEventListener("abort",o)},s=()=>{e(),r()},o=()=>{n(i.error||new DOMException("AbortError","AbortError")),r()};i.addEventListener("complete",s),i.addEventListener("error",o),i.addEventListener("abort",o)});Eh.set(i,t)}var Th={get(i,t,e){if(i instanceof IDBTransaction){if(t==="done")return Eh.get(i);if(t==="objectStoreNames")return i.objectStoreNames||Jy.get(i);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return ci(i[t])},set(i,t,e){return i[t]=e,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function Zy(i){Th=i(Th)}function TS(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){let n=i.call(Vc(this),t,...e);return Jy.set(n,t.sort?t.sort():[t]),ci(n)}:wS().includes(i)?function(...t){return i.apply(Vc(this),t),ci(Xy.get(this))}:function(...t){return ci(i.apply(Vc(this),t))}}function AS(i){return typeof i=="function"?TS(i):(i instanceof IDBTransaction&&ES(i),yS(i,bS())?new Proxy(i,Th):i)}function ci(i){if(i instanceof IDBRequest)return IS(i);if(Ih.has(i))return Ih.get(i);let t=AS(i);return t!==i&&(Ih.set(i,t),Ah.set(t,i)),t}var Vc=i=>Ah.get(i);function tb(i,t,{blocked:e,upgrade:n,blocking:r,terminated:s}={}){let o=indexedDB.open(i,t),c=ci(o);return n&&o.addEventListener("upgradeneeded",l=>{n(ci(o.result),l.oldVersion,l.newVersion,ci(o.transaction),l)}),e&&o.addEventListener("blocked",l=>e(l.oldVersion,l.newVersion,l)),c.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",h=>r(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}var CS=["get","getKey","getAll","getAllKeys","count"],SS=["put","add","delete","clear"],Ch=new Map;function eb(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(Ch.get(t))return Ch.get(t);let e=t.replace(/FromIndex$/,""),n=t!==e,r=SS.includes(e);if(!(e in(n?IDBIndex:IDBObjectStore).prototype)||!(r||CS.includes(e)))return;let s=function(o,...c){return S(this,null,function*(){let l=this.transaction(o,r?"readwrite":"readonly"),h=l.store;return n&&(h=h.index(c.shift())),(yield Promise.all([h[e](...c),r&&l.done]))[0]})};return Ch.set(t,s),s}Zy(i=>Ee(O({},i),{get:(t,e,n)=>eb(t,e)||i.get(t,e,n),has:(t,e)=>!!eb(t,e)||i.has(t,e)}));var kh=class{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(kS(e)){let n=e.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(e=>e).join(" ")}};function kS(i){let t=i.getComponent();return t?.type==="VERSION"}var Rh="@firebase/app",ib="0.10.13";var ki=new Yi("@firebase/app"),RS="@firebase/app-compat",DS="@firebase/analytics-compat",xS="@firebase/analytics",MS="@firebase/app-check-compat",PS="@firebase/app-check",OS="@firebase/auth",NS="@firebase/auth-compat",VS="@firebase/database",FS="@firebase/data-connect",LS="@firebase/database-compat",US="@firebase/functions",jS="@firebase/functions-compat",BS="@firebase/installations",zS="@firebase/installations-compat",$S="@firebase/messaging",qS="@firebase/messaging-compat",GS="@firebase/performance",WS="@firebase/performance-compat",HS="@firebase/remote-config",KS="@firebase/remote-config-compat",QS="@firebase/storage",YS="@firebase/storage-compat",XS="@firebase/firestore",JS="@firebase/vertexai-preview",ZS="@firebase/firestore-compat",ek="firebase",tk="10.14.1";var Dh="[DEFAULT]",ik={[Rh]:"fire-core",[RS]:"fire-core-compat",[xS]:"fire-analytics",[DS]:"fire-analytics-compat",[PS]:"fire-app-check",[MS]:"fire-app-check-compat",[OS]:"fire-auth",[NS]:"fire-auth-compat",[VS]:"fire-rtdb",[FS]:"fire-data-connect",[LS]:"fire-rtdb-compat",[US]:"fire-fn",[jS]:"fire-fn-compat",[BS]:"fire-iid",[zS]:"fire-iid-compat",[$S]:"fire-fcm",[qS]:"fire-fcm-compat",[GS]:"fire-perf",[WS]:"fire-perf-compat",[HS]:"fire-rc",[KS]:"fire-rc-compat",[QS]:"fire-gcs",[YS]:"fire-gcs-compat",[XS]:"fire-fst",[ZS]:"fire-fst-compat",[JS]:"fire-vertex","fire-js":"fire-js",[ek]:"fire-js-all"};var _o=new Map,nk=new Map,xh=new Map;function nb(i,t){try{i.container.addComponent(t)}catch(e){ki.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,e)}}function Ji(i){let t=i.name;if(xh.has(t))return ki.debug(`There were multiple attempts to register component ${t}.`),!1;xh.set(t,i);for(let e of _o.values())nb(e,i);for(let e of nk.values())nb(e,i);return!0}function Nh(i,t){let e=i.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),i.container.getProvider(t)}function Ar(i){return i.settings!==void 0}var rk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xi=new Si("app","Firebase",rk);var Mh=class{constructor(t,e,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Gt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Xi.create("app-deleted",{appName:this._name})}};var Cr=tk;function Vh(i,t={}){let e=i;typeof t!="object"&&(t={name:t});let n=Object.assign({name:Dh,automaticDataCollectionEnabled:!1},t),r=n.name;if(typeof r!="string"||!r)throw Xi.create("bad-app-name",{appName:String(r)});if(e||(e=vh()),!e)throw Xi.create("no-options");let s=_o.get(r);if(s){if(Tr(e,s.options)&&Tr(n,s.config))return s;throw Xi.create("duplicate-app",{appName:r})}let o=new Nc(r);for(let l of xh.values())o.addComponent(l);let c=new Mh(e,n,o);return _o.set(r,c),c}function yo(i=Dh){let t=_o.get(i);if(!t&&i===Dh&&vh())return Vh();if(!t)throw Xi.create("no-app",{appName:i});return t}function Fc(){return Array.from(_o.values())}function Xe(i,t,e){var n;let r=(n=ik[i])!==null&&n!==void 0?n:i;e&&(r+=`-${e}`);let s=r.match(/\s|\//),o=t.match(/\s|\//);if(s||o){let c=[`Unable to register library "${r}" with version "${t}":`];s&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ki.warn(c.join(" "));return}Ji(new Gt(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}var sk="firebase-heartbeat-database",ok=1,vo="firebase-heartbeat-store",Sh=null;function ab(){return Sh||(Sh=tb(sk,ok,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(vo)}catch(e){console.warn(e)}}}}).catch(i=>{throw Xi.create("idb-open",{originalErrorMessage:i.message})})),Sh}function ak(i){return S(this,null,function*(){try{let e=(yield ab()).transaction(vo),n=yield e.objectStore(vo).get(cb(i));return yield e.done,n}catch(t){if(t instanceof qt)ki.warn(t.message);else{let e=Xi.create("idb-get",{originalErrorMessage:t?.message});ki.warn(e.message)}}})}function rb(i,t){return S(this,null,function*(){try{let n=(yield ab()).transaction(vo,"readwrite");yield n.objectStore(vo).put(t,cb(i)),yield n.done}catch(e){if(e instanceof qt)ki.warn(e.message);else{let n=Xi.create("idb-set",{originalErrorMessage:e?.message});ki.warn(n.message)}}})}function cb(i){return`${i.name}!${i.options.appId}`}var ck=1024,lk=30*24*60*60*1e3,Ph=class{constructor(t){this.container=t,this._heartbeatsCache=null;let e=this.container.getProvider("app").getImmediate();this._storage=new Oh(e),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}triggerHeartbeat(){return S(this,null,function*(){var t,e;try{let r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=sb();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let c=new Date(o.date).valueOf();return Date.now()-c<=lk}),this._storage.overwrite(this._heartbeatsCache))}catch(n){ki.warn(n)}})}getHeartbeatsHeader(){return S(this,null,function*(){var t;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let e=sb(),{heartbeatsToSend:n,unsentEntries:r}=uk(this._heartbeatsCache.heartbeats),s=go(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return ki.warn(e),""}})}};function sb(){return new Date().toISOString().substring(0,10)}function uk(i,t=ck){let e=[],n=i.slice();for(let r of i){let s=e.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),ob(e)>t){s.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),ob(e)>t){e.pop();break}n=n.slice(1)}return{heartbeatsToSend:e,unsentEntries:n}}var Oh=class{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return S(this,null,function*(){return yh()?Hy().then(()=>!0).catch(()=>!1):!1})}read(){return S(this,null,function*(){if(yield this._canUseIndexedDBPromise){let e=yield ak(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(t){return S(this,null,function*(){var e;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return rb(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return})}add(t){return S(this,null,function*(){var e;if(yield this._canUseIndexedDBPromise){let r=yield this.read();return rb(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return})}};function ob(i){return go(JSON.stringify({version:2,heartbeats:i})).length}function dk(i){Ji(new Gt("platform-logger",t=>new kh(t),"PRIVATE")),Ji(new Gt("heartbeat",t=>new Ph(t),"PRIVATE")),Xe(Rh,ib,i),Xe(Rh,ib,"esm2017"),Xe("fire-js","")}dk("");var hk="firebase",mk="10.14.1";Xe(hk,mk,"app");var kr=new ir("ANGULARFIRE2_VERSION");function Lh(i,t,e){if(t){if(t.length===1)return t[0];let s=t.filter(o=>o.app===e);if(s.length===1)return s[0]}return e.container.getProvider(i).getImmediate({optional:!0})}var wo=(i,t)=>{let e=t?[t]:Fc(),n=[];return e.forEach(r=>{r.container.getProvider(i).instances.forEach(o=>{n.includes(o)||n.push(o)})}),n},bo=class{constructor(){return wo(fk)}},fk="app-check";function Sr(){}var Lc=class{zone;delegate;constructor(t,e=yg){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){let r=this.zone,s=function(o){r.runGuarded(()=>{t.apply(this,[o])})};return this.delegate.schedule(s,e,n)}},Fh=class{zone;task=null;constructor(t){this.zone=t}call(t,e){let n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Sr,{},Sr,Sr)),e.pipe(Me({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Io=(()=>{class i{ngZone;outsideAngular;insideAngular;constructor(e){this.ngZone=e,this.outsideAngular=e.runOutsideAngular(()=>new Lc(Zone.current)),this.insideAngular=e.run(()=>new Lc(Zone.current,vg)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(n){return new(n||i)(N(ee))};static \u0275prov=L({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function Uc(){let i=globalThis.\u0275AngularFireScheduler;if(!i)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return i}function pk(i){return Uc().ngZone.runOutsideAngular(()=>i())}function Rn(i){return Uc().ngZone.run(()=>i())}function gk(i){return _k(Uc())(i)}function _k(i){return function(e){return e=e.lift(new Fh(i.ngZone)),e.pipe(Eu(i.outsideAngular),Iu(i.insideAngular))}}var vk=(i,t)=>function(){let n=arguments;return t&&setTimeout(()=>{t.state==="scheduled"&&t.invoke()},10),Rn(()=>i.apply(void 0,n))},ii=(i,t)=>function(){let e,n=arguments;for(let s=0;s<arguments.length;s++)typeof n[s]=="function"&&(t&&(e||=Rn(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Sr,{},Sr,Sr))),n[s]=vk(n[s],e));let r=pk(()=>i.apply(this,n));if(!t)if(r instanceof It){let s=Uc();return r.pipe(Eu(s.outsideAngular),Iu(s.insideAngular))}else return Rn(()=>r);return r instanceof It?r.pipe(gk):r instanceof Promise?Rn(()=>new Promise((s,o)=>r.then(c=>Rn(()=>s(c)),c=>Rn(()=>o(c))))):typeof r=="function"&&e?function(){return setTimeout(()=>{e&&e.state==="scheduled"&&e.invoke()},10),r.apply(this,arguments)}:Rn(()=>r)};var Dn=class{constructor(t){return t}},Eo=class{constructor(){return Fc()}};function yk(i){return i&&i.length===1?i[0]:new Dn(yo())}var Uh=new z("angularfire2._apps"),bk={provide:Dn,useFactory:yk,deps:[[new Ft,Uh]]},wk={provide:Eo,deps:[[new Ft,Uh]]};function Ik(i){return(t,e)=>{let n=e.get(St);Xe("angularfire",kr.full,"core"),Xe("angularfire",kr.full,"app"),Xe("angular",Gg.full,n.toString());let r=t.runOutsideAngular(()=>i(e));return new Dn(r)}}function lb(i,...t){return Kt([bk,wk,{provide:Uh,useFactory:Ik(i),multi:!0,deps:[ee,Ct,Io,...t]}])}var ub=ii(Vh,!0);function vb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var yb=vb,bb=new Si("auth","Firebase",vb());var $c=new Yi("@firebase/auth");function Tk(i,...t){$c.logLevel<=oe.WARN&&$c.warn(`Auth (${Cr}): ${i}`,...t)}function Bc(i,...t){$c.logLevel<=oe.ERROR&&$c.error(`Auth (${Cr}): ${i}`,...t)}function db(i,...t){throw Xh(i,...t)}function Yh(i,...t){return Xh(i,...t)}function wb(i,t,e){let n=Object.assign(Object.assign({},yb()),{[t]:e});return new Si("auth","Firebase",n).create(t,{appName:i.name})}function zc(i){return wb(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Xh(i,...t){if(typeof i!="string"){let e=t[0],n=[...t.slice(1)];return n[0]&&(n[0].appName=i.name),i._errorFactory.create(e,...n)}return bb.create(i,...t)}function ve(i,t,...e){if(!i)throw Xh(t,...e)}function To(i){let t="INTERNAL ASSERTION FAILED: "+i;throw Bc(t),new Error(t)}function qc(i,t){i||To(t)}function Ak(){return hb()==="http:"||hb()==="https:"}function hb(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}function Ck(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Ak()||qy()||"connection"in navigator)?navigator.onLine:!0}function Sk(){if(typeof navigator>"u")return null;let i=navigator;return i.languages&&i.languages[0]||i.language||null}var Mn=class{constructor(t,e){this.shortDelay=t,this.longDelay=e,qc(e>t,"Short delay should be less than long delay!"),this.isMobile=zy()||Gy()}get(){return Ck()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function kk(i,t){qc(i.emulator,"Emulator should always be set here");let{url:e}=i.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}var Gc=class{static initialize(t,e,n){this.fetchImpl=t,e&&(this.headersImpl=e),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;To("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;To("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;To("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Rk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Dk=new Mn(3e4,6e4);function Ib(i,t){return i.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:i.tenantId}):t}function Qc(s,o,c,l){return S(this,arguments,function*(i,t,e,n,r={}){return Eb(i,r,()=>S(this,null,function*(){let h={},d={};n&&(t==="GET"?d=n:h={body:JSON.stringify(n)});let f=bh(Object.assign({key:i.config.apiKey},d)).slice(1),p=yield i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);let _=Object.assign({method:t,headers:p},h);return $y()||(_.referrerPolicy="no-referrer"),Gc.fetch()(Tb(i,i.config.apiHost,e,f),_)}))})}function Eb(i,t,e){return S(this,null,function*(){i._canInitEmulator=!1;let n=Object.assign(Object.assign({},Rk),t);try{let r=new zh(i),s=yield Promise.race([e(),r.promise]);r.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw jc(i,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let c=s.ok?o.errorMessage:o.error.message,[l,h]=c.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw jc(i,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw jc(i,"email-already-in-use",o);if(l==="USER_DISABLED")throw jc(i,"user-disabled",o);let d=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw wb(i,d,h);db(i,d)}}catch(r){if(r instanceof qt)throw r;db(i,"network-request-failed",{message:String(r)})}})}function Tb(i,t,e,n){let r=`${t}${e}?${n}`;return i.config.emulator?kk(i.config,r):`${i.config.apiScheme}://${r}`}var zh=class{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,n)=>{this.timer=setTimeout(()=>n(Yh(this.auth,"network-request-failed")),Dk.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function jc(i,t,e){let n={appName:i.name};e.email&&(n.email=e.email),e.phoneNumber&&(n.phoneNumber=e.phoneNumber);let r=Yh(i,t,n);return r.customData._tokenResponse=e,r}function xk(i,t){return S(this,null,function*(){return Qc(i,"POST","/v1/accounts:delete",t)})}function Ab(i,t){return S(this,null,function*(){return Qc(i,"POST","/v1/accounts:lookup",t)})}function Ao(i){if(i)try{let t=new Date(Number(i));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}function Jh(i,t=!1){return S(this,null,function*(){let e=gt(i),n=yield e.getIdToken(t),r=Cb(n);ve(r&&r.exp&&r.auth_time&&r.iat,e.auth,"internal-error");let s=typeof r.firebase=="object"?r.firebase:void 0,o=s?.sign_in_provider;return{claims:r,token:n,authTime:Ao(jh(r.auth_time)),issuedAtTime:Ao(jh(r.iat)),expirationTime:Ao(jh(r.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function jh(i){return Number(i)*1e3}function Cb(i){let[t,e,n]=i.split(".");if(t===void 0||e===void 0||n===void 0)return Bc("JWT malformed, contained fewer than 3 sections"),null;try{let r=_h(e);return r?JSON.parse(r):(Bc("Failed to decode base64 JWT payload"),null)}catch(r){return Bc("Caught error parsing JWT payload as JSON",r?.toString()),null}}function mb(i){let t=Cb(i);return ve(t,"internal-error"),ve(typeof t.exp<"u","internal-error"),ve(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}function $h(i,t,e=!1){return S(this,null,function*(){if(e)return t;try{return yield t}catch(n){throw n instanceof qt&&Mk(n)&&i.auth.currentUser===i&&(yield i.auth.signOut()),n}})}function Mk({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}var qh=class{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){let n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;let r=((e=this.user.stsTokenManager.expirationTime)!==null&&e!==void 0?e:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;let e=this.getInterval(t);this.timerId=setTimeout(()=>S(this,null,function*(){yield this.iteration()}),e)}iteration(){return S(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var So=class{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ao(this.lastLoginAt),this.creationTime=Ao(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Wc(i){return S(this,null,function*(){var t;let e=i.auth,n=yield i.getIdToken(),r=yield $h(i,Ab(e,{idToken:n}));ve(r?.users.length,e,"internal-error");let s=r.users[0];i._notifyReloadListener(s);let o=!((t=s.providerUserInfo)===null||t===void 0)&&t.length?Sb(s.providerUserInfo):[],c=Pk(i.providerData,o),l=i.isAnonymous,h=!(i.email&&s.passwordHash)&&!c?.length,d=l?h:!1,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new So(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(i,f)})}function Zh(i){return S(this,null,function*(){let t=gt(i);yield Wc(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})}function Pk(i,t){return[...i.filter(n=>!t.some(r=>r.providerId===n.providerId)),...t]}function Sb(i){return i.map(t=>{var{providerId:e}=t,n=wu(t,["providerId"]);return{providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}function Ok(i,t){return S(this,null,function*(){let e=yield Eb(i,{},()=>S(this,null,function*(){let n=bh({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:s}=i.config,o=Tb(i,r,"/v1/token",`key=${s}`),c=yield i._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",Gc.fetch()(o,{method:"POST",headers:c,body:n})}));return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}})}function Nk(i,t){return S(this,null,function*(){return Qc(i,"POST","/v2/accounts:revokeToken",Ib(i,t))})}var Co=class i{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){ve(t.idToken,"internal-error"),ve(typeof t.idToken<"u","internal-error"),ve(typeof t.refreshToken<"u","internal-error");let e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):mb(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){ve(t.length!==0,"internal-error");let e=mb(t);this.updateTokensAndExpiration(t,null,e)}getToken(t,e=!1){return S(this,null,function*(){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,t,"user-token-expired"),this.refreshToken?(yield this.refresh(t,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(t,e){return S(this,null,function*(){let{accessToken:n,refreshToken:r,expiresIn:s}=yield Ok(t,e);this.updateTokensAndExpiration(n,r,Number(s))})}updateTokensAndExpiration(t,e,n){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(t,e){let{refreshToken:n,accessToken:r,expirationTime:s}=e,o=new i;return n&&(ve(typeof n=="string","internal-error",{appName:t}),o.refreshToken=n),r&&(ve(typeof r=="string","internal-error",{appName:t}),o.accessToken=r),s&&(ve(typeof s=="number","internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new i,this.toJSON())}_performRefresh(){return To("not implemented")}};function Zi(i,t){ve(typeof i=="string"||typeof i>"u","internal-error",{appName:t})}var ko=class i{constructor(t){var{uid:e,auth:n,stsTokenManager:r}=t,s=wu(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new qh(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new So(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(t){return S(this,null,function*(){let e=yield $h(this,this.stsTokenManager.getToken(this.auth,t));return ve(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e})}getIdTokenResult(t){return Jh(this,t)}reload(){return Zh(this)}_assign(t){this!==t&&(ve(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){let e=new i(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(t,e=!1){return S(this,null,function*(){let n=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),n=!0),e&&(yield Wc(this)),yield this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)})}delete(){return S(this,null,function*(){if(Ar(this.auth.app))return Promise.reject(zc(this.auth));let t=yield this.getIdToken();return yield $h(this,xk(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var n,r,s,o,c,l,h,d;let f=(n=e.displayName)!==null&&n!==void 0?n:void 0,p=(r=e.email)!==null&&r!==void 0?r:void 0,_=(s=e.phoneNumber)!==null&&s!==void 0?s:void 0,C=(o=e.photoURL)!==null&&o!==void 0?o:void 0,x=(c=e.tenantId)!==null&&c!==void 0?c:void 0,D=(l=e._redirectEventId)!==null&&l!==void 0?l:void 0,W=(h=e.createdAt)!==null&&h!==void 0?h:void 0,Y=(d=e.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:K,emailVerified:ce,isAnonymous:qe,providerData:be,stsTokenManager:I}=e;ve(K&&I,t,"internal-error");let v=Co.fromJSON(this.name,I);ve(typeof K=="string",t,"internal-error"),Zi(f,t.name),Zi(p,t.name),ve(typeof ce=="boolean",t,"internal-error"),ve(typeof qe=="boolean",t,"internal-error"),Zi(_,t.name),Zi(C,t.name),Zi(x,t.name),Zi(D,t.name),Zi(W,t.name),Zi(Y,t.name);let b=new i({uid:K,auth:t,email:p,emailVerified:ce,displayName:f,isAnonymous:qe,photoURL:C,phoneNumber:_,tenantId:x,stsTokenManager:v,createdAt:W,lastLoginAt:Y});return be&&Array.isArray(be)&&(b.providerData=be.map(w=>Object.assign({},w))),D&&(b._redirectEventId=D),b}static _fromIdTokenResponse(t,e,n=!1){return S(this,null,function*(){let r=new Co;r.updateFromServerResponse(e);let s=new i({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:n});return yield Wc(s),s})}static _fromGetAccountInfoResponse(t,e,n){return S(this,null,function*(){let r=e.users[0];ve(r.localId!==void 0,"internal-error");let s=r.providerUserInfo!==void 0?Sb(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!s?.length,c=new Co;c.updateFromIdToken(n);let l=new i({uid:r.localId,auth:t,stsTokenManager:c,isAnonymous:o}),h={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new So(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!s?.length};return Object.assign(l,h),l})}};var fb=new Map;function xn(i){qc(i instanceof Function,"Expected a class definition");let t=fb.get(i);return t?(qc(t instanceof i,"Instance stored in cache mismatched with class"),t):(t=new i,fb.set(i,t),t)}var Vk=(()=>{class i{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return S(this,null,function*(){return!0})}_set(e,n){return S(this,null,function*(){this.storage[e]=n})}_get(e){return S(this,null,function*(){let n=this.storage[e];return n===void 0?null:n})}_remove(e){return S(this,null,function*(){delete this.storage[e]})}_addListener(e,n){}_removeListener(e,n){}}return i.type="NONE",i})(),Gh=Vk;function Bh(i,t,e){return`firebase:${i}:${t}:${e}`}var Hc=class i{constructor(t,e,n){this.persistence=t,this.auth=e,this.userKey=n;let{config:r,name:s}=this.auth;this.fullUserKey=Bh(this.userKey,r.apiKey,s),this.fullPersistenceKey=Bh("persistence",r.apiKey,s),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}getCurrentUser(){return S(this,null,function*(){let t=yield this.persistence._get(this.fullUserKey);return t?ko._fromJSON(this.auth,t):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(t){return S(this,null,function*(){if(this.persistence===t)return;let e=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(t,e,n="authUser"){return S(this,null,function*(){if(!e.length)return new i(xn(Gh),t,n);let r=(yield Promise.all(e.map(h=>S(this,null,function*(){if(yield h._isAvailable())return h})))).filter(h=>h),s=r[0]||xn(Gh),o=Bh(n,t.config.apiKey,t.name),c=null;for(let h of e)try{let d=yield h._get(o);if(d){let f=ko._fromJSON(t,d);h!==s&&(c=f),s=h;break}}catch{}let l=r.filter(h=>h._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new i(s,t,n):(s=l[0],c&&(yield s._set(o,c.toJSON())),yield Promise.all(e.map(h=>S(this,null,function*(){if(h!==s)try{yield h._remove(o)}catch{}}))),new i(s,t,n))})}};function pb(i){let t=i.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(jk(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Fk(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(zk(t))return"Blackberry";if($k(t))return"Webos";if(Lk(t))return"Safari";if((t.includes("chrome/")||Uk(t))&&!t.includes("edge/"))return"Chrome";if(Bk(t))return"Android";{let e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=i.match(e);if(n?.length===2)return n[1]}return"Other"}function Fk(i=Pt()){return/firefox\//i.test(i)}function Lk(i=Pt()){let t=i.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Uk(i=Pt()){return/crios\//i.test(i)}function jk(i=Pt()){return/iemobile/i.test(i)}function Bk(i=Pt()){return/android/i.test(i)}function zk(i=Pt()){return/blackberry/i.test(i)}function $k(i=Pt()){return/webos/i.test(i)}function kb(i,t=[]){let e;switch(i){case"Browser":e=pb(Pt());break;case"Worker":e=`${pb(Pt())}-${i}`;break;default:e=i}let n=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Cr}/${n}`}var Wh=class{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){let n=s=>new Promise((o,c)=>{try{let l=t(s);o(l)}catch(l){c(l)}});n.onAbort=e,this.queue.push(n);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(t){return S(this,null,function*(){if(this.auth.currentUser===t)return;let e=[];try{for(let n of this.queue)yield n(t),n.onAbort&&e.push(n.onAbort)}catch(n){e.reverse();for(let r of e)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}})}};function qk(e){return S(this,arguments,function*(i,t={}){return Qc(i,"GET","/v2/passwordPolicy",Ib(i,t))})}var Gk=6,Hh=class{constructor(t){var e,n,r,s;let o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(e=o.minPasswordLength)!==null&&e!==void 0?e:Gk,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(n=t.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=t.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,n,r,s,o,c;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,l),this.validatePasswordCharacterOptions(t,l),l.isValid&&(l.isValid=(e=l.meetsMinPasswordLength)!==null&&e!==void 0?e:!0),l.isValid&&(l.isValid=(n=l.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.containsLowercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(c=l.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),l}validatePasswordLengthOptions(t,e){let n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(e.meetsMinPasswordLength=t.length>=n),r&&(e.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let n;for(let r=0;r<t.length;r++)n=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(t,e,n,r,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}};var Kh=class{constructor(t,e,n,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Kc(this),this.idTokenSubscription=new Kc(this),this.beforeStateQueue=new Wh(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=xn(e)),this._initializationPromise=this.queue(()=>S(this,null,function*(){var n,r;if(!this._deleted&&(this.persistenceManager=yield Hc.create(this,t),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(e),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return S(this,null,function*(){if(this._deleted)return;let t=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(t,!0)}})}initializeCurrentUserFromIdToken(t){return S(this,null,function*(){try{let e=yield Ab(this,{idToken:t}),n=yield ko._fromGetAccountInfoResponse(this,e,t);yield this.directlySetCurrentUser(n)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(t){return S(this,null,function*(){var e;if(Ar(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}let n=yield this.assertedPersistence.getCurrentUser(),r=n,s=!1;if(t&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(e=this.redirectUser)===null||e===void 0?void 0:e._redirectEventId,c=r?._redirectEventId,l=yield this.tryRedirectSignIn(t);(!o||o===c)&&l?.user&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)})}tryRedirectSignIn(t){return S(this,null,function*(){let e=null;try{e=yield this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{yield this._setRedirectUser(null)}return e})}reloadAndSetCurrentUserOrClear(t){return S(this,null,function*(){try{yield Wc(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)})}useDeviceLanguage(){this.languageCode=Sk()}_delete(){return S(this,null,function*(){this._deleted=!0})}updateCurrentUser(t){return S(this,null,function*(){if(Ar(this.app))return Promise.reject(zc(this));let e=t?gt(t):null;return e&&ve(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))})}_updateCurrentUser(t,e=!1){return S(this,null,function*(){if(!this._deleted)return t&&ve(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||(yield this.beforeStateQueue.runMiddleware(t)),this.queue(()=>S(this,null,function*(){yield this.directlySetCurrentUser(t),this.notifyAuthListeners()}))})}signOut(){return S(this,null,function*(){return Ar(this.app)?Promise.reject(zc(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(t){return Ar(this.app)?Promise.reject(zc(this)):this.queue(()=>S(this,null,function*(){yield this.assertedPersistence.setPersistence(xn(t))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(t){return S(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return S(this,null,function*(){let t=yield qk(this),e=new Hh(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Si("auth","Firebase",t())}onAuthStateChanged(t,e,n){return this.registerStateListener(this.authStateSubscription,t,e,n)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,n){return this.registerStateListener(this.idTokenSubscription,t,e,n)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{let n=this.onAuthStateChanged(()=>{n(),t()},e)}})}revokeAccessToken(t){return S(this,null,function*(){if(this.currentUser){let e=yield this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(n.tenantId=this.tenantId),yield Nk(this,n)}})}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}_setRedirectUser(t,e){return S(this,null,function*(){let n=yield this.getOrInitRedirectPersistenceManager(e);return t===null?n.removeCurrentUser():n.setCurrentUser(t)})}getOrInitRedirectPersistenceManager(t){return S(this,null,function*(){if(!this.redirectPersistenceManager){let e=t&&xn(t)||this._popupRedirectResolver;ve(e,this,"argument-error"),this.redirectPersistenceManager=yield Hc.create(this,[xn(e._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(t){return S(this,null,function*(){var e,n;return this._isInitialized&&(yield this.queue(()=>S(this,null,function*(){}))),((e=this._currentUser)===null||e===void 0?void 0:e._redirectEventId)===t?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===t?this.redirectUser:null})}_persistUserIfCurrent(t){return S(this,null,function*(){if(t===this.currentUser)return this.queue(()=>S(this,null,function*(){return this.directlySetCurrentUser(t)}))})}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let n=(e=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&e!==void 0?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,n,r){if(this._deleted)return()=>{};let s=typeof e=="function"?e:e.next.bind(e),o=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(c,this,"internal-error"),c.then(()=>{o||s(this.currentUser)}),typeof e=="function"){let l=t.addObserver(e,n,r);return()=>{o=!0,l()}}else{let l=t.addObserver(e);return()=>{o=!0,l()}}}directlySetCurrentUser(t){return S(this,null,function*(){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?yield this.assertedPersistence.setCurrentUser(t):yield this.assertedPersistence.removeCurrentUser()})}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=kb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return S(this,null,function*(){var t;let e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);let n=yield(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);let r=yield this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e})}_getAppCheckToken(){return S(this,null,function*(){var t;let e=yield(t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken();return e?.error&&Tk(`Error while retrieving App Check token: ${e.error}`),e?.token})}};function Wk(i){return gt(i)}var Kc=class{constructor(t){this.auth=t,this.observer=null,this.addObserver=Ky(e=>this.observer=e)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Hk={loadJS(){return S(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Kk(i){Hk=i}function Qk(i){return`__${i}${Math.floor(Math.random()*1e6)}`}function Yk(i,t){let e=t?.persistence||[],n=(Array.isArray(e)?e:[e]).map(xn);t?.errorMap&&i._updateErrorMap(t.errorMap),i._initializeWithPersistence(n,t?.popupRedirectResolver)}var wF=Qk("rcb"),IF=new Mn(3e4,6e4);var EF=new Mn(2e3,1e4);var TF=10*60*1e3;var AF=new Mn(3e4,6e4);var CF=new Mn(5e3,15e3);var SF=encodeURIComponent("fac");var gb="@firebase/auth",_b="1.7.9";var Qh=class{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}getToken(t){return S(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(t)}:null})}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;let e=this.auth.onIdTokenChanged(n=>{t(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();let e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Xk(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Jk(i){Ji(new Gt("auth",(t,{options:e})=>{let n=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=n.options;ve(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});let l={apiKey:o,authDomain:c,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:kb(i)},h=new Kh(n,r,s,l);return Yk(h,e),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider("auth-internal").initialize()})),Ji(new Gt("auth-internal",t=>{let e=Wk(t.getProvider("auth").getImmediate());return(n=>new Qh(n))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Xe(gb,_b,Xk(i)),Xe(gb,_b,"esm2017")}var Zk=5*60,kF=jy("authIdTokenMaxAge")||Zk;function eR(){var i,t;return(t=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&t!==void 0?t:document}Kk({loadJS(i){return new Promise((t,e)=>{let n=document.createElement("script");n.setAttribute("src",i),n.onload=t,n.onerror=r=>{let s=Yh("internal-error");s.customData=r,e(s)},n.type="text/javascript",n.charset="UTF-8",eR().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Jk("Browser");var ZR="auth";var Yc=class{constructor(){return wo(ZR)}};var Rb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Db={};var en,em;(function(){var i;function t(I,v){function b(){}b.prototype=v.prototype,I.D=v.prototype,I.prototype=new b,I.prototype.constructor=I,I.C=function(w,E,A){for(var y=Array(arguments.length-2),gi=2;gi<arguments.length;gi++)y[gi-2]=arguments[gi];return v.prototype[E].apply(w,y)}}function e(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(n,e),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(I,v,b){b||(b=0);var w=Array(16);if(typeof v=="string")for(var E=0;16>E;++E)w[E]=v.charCodeAt(b++)|v.charCodeAt(b++)<<8|v.charCodeAt(b++)<<16|v.charCodeAt(b++)<<24;else for(E=0;16>E;++E)w[E]=v[b++]|v[b++]<<8|v[b++]<<16|v[b++]<<24;v=I.g[0],b=I.g[1],E=I.g[2];var A=I.g[3],y=v+(A^b&(E^A))+w[0]+3614090360&4294967295;v=b+(y<<7&4294967295|y>>>25),y=A+(E^v&(b^E))+w[1]+3905402710&4294967295,A=v+(y<<12&4294967295|y>>>20),y=E+(b^A&(v^b))+w[2]+606105819&4294967295,E=A+(y<<17&4294967295|y>>>15),y=b+(v^E&(A^v))+w[3]+3250441966&4294967295,b=E+(y<<22&4294967295|y>>>10),y=v+(A^b&(E^A))+w[4]+4118548399&4294967295,v=b+(y<<7&4294967295|y>>>25),y=A+(E^v&(b^E))+w[5]+1200080426&4294967295,A=v+(y<<12&4294967295|y>>>20),y=E+(b^A&(v^b))+w[6]+2821735955&4294967295,E=A+(y<<17&4294967295|y>>>15),y=b+(v^E&(A^v))+w[7]+4249261313&4294967295,b=E+(y<<22&4294967295|y>>>10),y=v+(A^b&(E^A))+w[8]+1770035416&4294967295,v=b+(y<<7&4294967295|y>>>25),y=A+(E^v&(b^E))+w[9]+2336552879&4294967295,A=v+(y<<12&4294967295|y>>>20),y=E+(b^A&(v^b))+w[10]+4294925233&4294967295,E=A+(y<<17&4294967295|y>>>15),y=b+(v^E&(A^v))+w[11]+2304563134&4294967295,b=E+(y<<22&4294967295|y>>>10),y=v+(A^b&(E^A))+w[12]+1804603682&4294967295,v=b+(y<<7&4294967295|y>>>25),y=A+(E^v&(b^E))+w[13]+4254626195&4294967295,A=v+(y<<12&4294967295|y>>>20),y=E+(b^A&(v^b))+w[14]+2792965006&4294967295,E=A+(y<<17&4294967295|y>>>15),y=b+(v^E&(A^v))+w[15]+1236535329&4294967295,b=E+(y<<22&4294967295|y>>>10),y=v+(E^A&(b^E))+w[1]+4129170786&4294967295,v=b+(y<<5&4294967295|y>>>27),y=A+(b^E&(v^b))+w[6]+3225465664&4294967295,A=v+(y<<9&4294967295|y>>>23),y=E+(v^b&(A^v))+w[11]+643717713&4294967295,E=A+(y<<14&4294967295|y>>>18),y=b+(A^v&(E^A))+w[0]+3921069994&4294967295,b=E+(y<<20&4294967295|y>>>12),y=v+(E^A&(b^E))+w[5]+3593408605&4294967295,v=b+(y<<5&4294967295|y>>>27),y=A+(b^E&(v^b))+w[10]+38016083&4294967295,A=v+(y<<9&4294967295|y>>>23),y=E+(v^b&(A^v))+w[15]+3634488961&4294967295,E=A+(y<<14&4294967295|y>>>18),y=b+(A^v&(E^A))+w[4]+3889429448&4294967295,b=E+(y<<20&4294967295|y>>>12),y=v+(E^A&(b^E))+w[9]+568446438&4294967295,v=b+(y<<5&4294967295|y>>>27),y=A+(b^E&(v^b))+w[14]+3275163606&4294967295,A=v+(y<<9&4294967295|y>>>23),y=E+(v^b&(A^v))+w[3]+4107603335&4294967295,E=A+(y<<14&4294967295|y>>>18),y=b+(A^v&(E^A))+w[8]+1163531501&4294967295,b=E+(y<<20&4294967295|y>>>12),y=v+(E^A&(b^E))+w[13]+2850285829&4294967295,v=b+(y<<5&4294967295|y>>>27),y=A+(b^E&(v^b))+w[2]+4243563512&4294967295,A=v+(y<<9&4294967295|y>>>23),y=E+(v^b&(A^v))+w[7]+1735328473&4294967295,E=A+(y<<14&4294967295|y>>>18),y=b+(A^v&(E^A))+w[12]+2368359562&4294967295,b=E+(y<<20&4294967295|y>>>12),y=v+(b^E^A)+w[5]+4294588738&4294967295,v=b+(y<<4&4294967295|y>>>28),y=A+(v^b^E)+w[8]+2272392833&4294967295,A=v+(y<<11&4294967295|y>>>21),y=E+(A^v^b)+w[11]+1839030562&4294967295,E=A+(y<<16&4294967295|y>>>16),y=b+(E^A^v)+w[14]+4259657740&4294967295,b=E+(y<<23&4294967295|y>>>9),y=v+(b^E^A)+w[1]+2763975236&4294967295,v=b+(y<<4&4294967295|y>>>28),y=A+(v^b^E)+w[4]+1272893353&4294967295,A=v+(y<<11&4294967295|y>>>21),y=E+(A^v^b)+w[7]+4139469664&4294967295,E=A+(y<<16&4294967295|y>>>16),y=b+(E^A^v)+w[10]+3200236656&4294967295,b=E+(y<<23&4294967295|y>>>9),y=v+(b^E^A)+w[13]+681279174&4294967295,v=b+(y<<4&4294967295|y>>>28),y=A+(v^b^E)+w[0]+3936430074&4294967295,A=v+(y<<11&4294967295|y>>>21),y=E+(A^v^b)+w[3]+3572445317&4294967295,E=A+(y<<16&4294967295|y>>>16),y=b+(E^A^v)+w[6]+76029189&4294967295,b=E+(y<<23&4294967295|y>>>9),y=v+(b^E^A)+w[9]+3654602809&4294967295,v=b+(y<<4&4294967295|y>>>28),y=A+(v^b^E)+w[12]+3873151461&4294967295,A=v+(y<<11&4294967295|y>>>21),y=E+(A^v^b)+w[15]+530742520&4294967295,E=A+(y<<16&4294967295|y>>>16),y=b+(E^A^v)+w[2]+3299628645&4294967295,b=E+(y<<23&4294967295|y>>>9),y=v+(E^(b|~A))+w[0]+4096336452&4294967295,v=b+(y<<6&4294967295|y>>>26),y=A+(b^(v|~E))+w[7]+1126891415&4294967295,A=v+(y<<10&4294967295|y>>>22),y=E+(v^(A|~b))+w[14]+2878612391&4294967295,E=A+(y<<15&4294967295|y>>>17),y=b+(A^(E|~v))+w[5]+4237533241&4294967295,b=E+(y<<21&4294967295|y>>>11),y=v+(E^(b|~A))+w[12]+1700485571&4294967295,v=b+(y<<6&4294967295|y>>>26),y=A+(b^(v|~E))+w[3]+2399980690&4294967295,A=v+(y<<10&4294967295|y>>>22),y=E+(v^(A|~b))+w[10]+4293915773&4294967295,E=A+(y<<15&4294967295|y>>>17),y=b+(A^(E|~v))+w[1]+2240044497&4294967295,b=E+(y<<21&4294967295|y>>>11),y=v+(E^(b|~A))+w[8]+1873313359&4294967295,v=b+(y<<6&4294967295|y>>>26),y=A+(b^(v|~E))+w[15]+4264355552&4294967295,A=v+(y<<10&4294967295|y>>>22),y=E+(v^(A|~b))+w[6]+2734768916&4294967295,E=A+(y<<15&4294967295|y>>>17),y=b+(A^(E|~v))+w[13]+1309151649&4294967295,b=E+(y<<21&4294967295|y>>>11),y=v+(E^(b|~A))+w[4]+4149444226&4294967295,v=b+(y<<6&4294967295|y>>>26),y=A+(b^(v|~E))+w[11]+3174756917&4294967295,A=v+(y<<10&4294967295|y>>>22),y=E+(v^(A|~b))+w[2]+718787259&4294967295,E=A+(y<<15&4294967295|y>>>17),y=b+(A^(E|~v))+w[9]+3951481745&4294967295,I.g[0]=I.g[0]+v&4294967295,I.g[1]=I.g[1]+(E+(y<<21&4294967295|y>>>11))&4294967295,I.g[2]=I.g[2]+E&4294967295,I.g[3]=I.g[3]+A&4294967295}n.prototype.u=function(I,v){v===void 0&&(v=I.length);for(var b=v-this.blockSize,w=this.B,E=this.h,A=0;A<v;){if(E==0)for(;A<=b;)r(this,I,A),A+=this.blockSize;if(typeof I=="string"){for(;A<v;)if(w[E++]=I.charCodeAt(A++),E==this.blockSize){r(this,w),E=0;break}}else for(;A<v;)if(w[E++]=I[A++],E==this.blockSize){r(this,w),E=0;break}}this.h=E,this.o+=v},n.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var v=1;v<I.length-8;++v)I[v]=0;var b=8*this.o;for(v=I.length-8;v<I.length;++v)I[v]=b&255,b/=256;for(this.u(I),I=Array(16),v=b=0;4>v;++v)for(var w=0;32>w;w+=8)I[b++]=this.g[v]>>>w&255;return I};function s(I,v){var b=c;return Object.prototype.hasOwnProperty.call(b,I)?b[I]:b[I]=v(I)}function o(I,v){this.h=v;for(var b=[],w=!0,E=I.length-1;0<=E;E--){var A=I[E]|0;w&&A==v||(b[E]=A,w=!1)}this.g=b}var c={};function l(I){return-128<=I&&128>I?s(I,function(v){return new o([v|0],0>v?-1:0)}):new o([I|0],0>I?-1:0)}function h(I){if(isNaN(I)||!isFinite(I))return f;if(0>I)return D(h(-I));for(var v=[],b=1,w=0;I>=b;w++)v[w]=I/b|0,b*=4294967296;return new o(v,0)}function d(I,v){if(I.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(I.charAt(0)=="-")return D(d(I.substring(1),v));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=h(Math.pow(v,8)),w=f,E=0;E<I.length;E+=8){var A=Math.min(8,I.length-E),y=parseInt(I.substring(E,E+A),v);8>A?(A=h(Math.pow(v,A)),w=w.j(A).add(h(y))):(w=w.j(b),w=w.add(h(y)))}return w}var f=l(0),p=l(1),_=l(16777216);i=o.prototype,i.m=function(){if(x(this))return-D(this).m();for(var I=0,v=1,b=0;b<this.g.length;b++){var w=this.i(b);I+=(0<=w?w:4294967296+w)*v,v*=4294967296}return I},i.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(C(this))return"0";if(x(this))return"-"+D(this).toString(I);for(var v=h(Math.pow(I,6)),b=this,w="";;){var E=ce(b,v).g;b=W(b,E.j(v));var A=((0<b.g.length?b.g[0]:b.h)>>>0).toString(I);if(b=E,C(b))return A+w;for(;6>A.length;)A="0"+A;w=A+w}},i.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function C(I){if(I.h!=0)return!1;for(var v=0;v<I.g.length;v++)if(I.g[v]!=0)return!1;return!0}function x(I){return I.h==-1}i.l=function(I){return I=W(this,I),x(I)?-1:C(I)?0:1};function D(I){for(var v=I.g.length,b=[],w=0;w<v;w++)b[w]=~I.g[w];return new o(b,~I.h).add(p)}i.abs=function(){return x(this)?D(this):this},i.add=function(I){for(var v=Math.max(this.g.length,I.g.length),b=[],w=0,E=0;E<=v;E++){var A=w+(this.i(E)&65535)+(I.i(E)&65535),y=(A>>>16)+(this.i(E)>>>16)+(I.i(E)>>>16);w=y>>>16,A&=65535,y&=65535,b[E]=y<<16|A}return new o(b,b[b.length-1]&-2147483648?-1:0)};function W(I,v){return I.add(D(v))}i.j=function(I){if(C(this)||C(I))return f;if(x(this))return x(I)?D(this).j(D(I)):D(D(this).j(I));if(x(I))return D(this.j(D(I)));if(0>this.l(_)&&0>I.l(_))return h(this.m()*I.m());for(var v=this.g.length+I.g.length,b=[],w=0;w<2*v;w++)b[w]=0;for(w=0;w<this.g.length;w++)for(var E=0;E<I.g.length;E++){var A=this.i(w)>>>16,y=this.i(w)&65535,gi=I.i(E)>>>16,Zr=I.i(E)&65535;b[2*w+2*E]+=y*Zr,Y(b,2*w+2*E),b[2*w+2*E+1]+=A*Zr,Y(b,2*w+2*E+1),b[2*w+2*E+1]+=y*gi,Y(b,2*w+2*E+1),b[2*w+2*E+2]+=A*gi,Y(b,2*w+2*E+2)}for(w=0;w<v;w++)b[w]=b[2*w+1]<<16|b[2*w];for(w=v;w<2*v;w++)b[w]=0;return new o(b,0)};function Y(I,v){for(;(I[v]&65535)!=I[v];)I[v+1]+=I[v]>>>16,I[v]&=65535,v++}function K(I,v){this.g=I,this.h=v}function ce(I,v){if(C(v))throw Error("division by zero");if(C(I))return new K(f,f);if(x(I))return v=ce(D(I),v),new K(D(v.g),D(v.h));if(x(v))return v=ce(I,D(v)),new K(D(v.g),v.h);if(30<I.g.length){if(x(I)||x(v))throw Error("slowDivide_ only works with positive integers.");for(var b=p,w=v;0>=w.l(I);)b=qe(b),w=qe(w);var E=be(b,1),A=be(w,1);for(w=be(w,2),b=be(b,2);!C(w);){var y=A.add(w);0>=y.l(I)&&(E=E.add(b),A=y),w=be(w,1),b=be(b,1)}return v=W(I,E.j(v)),new K(E,v)}for(E=f;0<=I.l(v);){for(b=Math.max(1,Math.floor(I.m()/v.m())),w=Math.ceil(Math.log(b)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),A=h(b),y=A.j(v);x(y)||0<y.l(I);)b-=w,A=h(b),y=A.j(v);C(A)&&(A=p),E=E.add(A),I=W(I,y)}return new K(E,I)}i.A=function(I){return ce(this,I).h},i.and=function(I){for(var v=Math.max(this.g.length,I.g.length),b=[],w=0;w<v;w++)b[w]=this.i(w)&I.i(w);return new o(b,this.h&I.h)},i.or=function(I){for(var v=Math.max(this.g.length,I.g.length),b=[],w=0;w<v;w++)b[w]=this.i(w)|I.i(w);return new o(b,this.h|I.h)},i.xor=function(I){for(var v=Math.max(this.g.length,I.g.length),b=[],w=0;w<v;w++)b[w]=this.i(w)^I.i(w);return new o(b,this.h^I.h)};function qe(I){for(var v=I.g.length+1,b=[],w=0;w<v;w++)b[w]=I.i(w)<<1|I.i(w-1)>>>31;return new o(b,I.h)}function be(I,v){var b=v>>5;v%=32;for(var w=I.g.length-b,E=[],A=0;A<w;A++)E[A]=0<v?I.i(A+b)>>>v|I.i(A+b+1)<<32-v:I.i(A+b);return new o(E,I.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,em=Db.Md5=n,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=h,o.fromString=d,en=Db.Integer=o}).apply(typeof Rb<"u"?Rb:typeof self<"u"?self:typeof window<"u"?window:{});var Xc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ri={};var tm,eD,Rr,im,Ro,Jc,nm,rm,sm;(function(){var i,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,u,m){return a==Array.prototype||a==Object.prototype||(a[u]=m.value),a};function e(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xc=="object"&&Xc];for(var u=0;u<a.length;++u){var m=a[u];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var n=e(this);function r(a,u){if(u)e:{var m=n;a=a.split(".");for(var g=0;g<a.length-1;g++){var T=a[g];if(!(T in m))break e;m=m[T]}a=a[a.length-1],g=m[a],u=u(g),u!=g&&u!=null&&t(m,a,{configurable:!0,writable:!0,value:u})}}function s(a,u){a instanceof String&&(a+="");var m=0,g=!1,T={next:function(){if(!g&&m<a.length){var k=m++;return{value:u(k,a[k]),done:!1}}return g=!0,{done:!0,value:void 0}}};return T[Symbol.iterator]=function(){return T},T}r("Array.prototype.values",function(a){return a||function(){return s(this,function(u,m){return m})}});var o=o||{},c=this||self;function l(a){var u=typeof a;return u=u!="object"?u:a?Array.isArray(a)?"array":u:"null",u=="array"||u=="object"&&typeof a.length=="number"}function h(a){var u=typeof a;return u=="object"&&a!=null||u=="function"}function d(a,u,m){return a.call.apply(a.bind,arguments)}function f(a,u,m){if(!a)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var T=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(T,g),a.apply(u,T)}}return function(){return a.apply(u,arguments)}}function p(a,u,m){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,p.apply(null,arguments)}function _(a,u){var m=Array.prototype.slice.call(arguments,1);return function(){var g=m.slice();return g.push.apply(g,arguments),a.apply(this,g)}}function C(a,u){function m(){}m.prototype=u.prototype,a.aa=u.prototype,a.prototype=new m,a.prototype.constructor=a,a.Qb=function(g,T,k){for(var V=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)V[Se-2]=arguments[Se];return u.prototype[T].apply(g,V)}}function x(a){let u=a.length;if(0<u){let m=Array(u);for(let g=0;g<u;g++)m[g]=a[g];return m}return[]}function D(a,u){for(let m=1;m<arguments.length;m++){let g=arguments[m];if(l(g)){let T=a.length||0,k=g.length||0;a.length=T+k;for(let V=0;V<k;V++)a[T+V]=g[V]}else a.push(g)}}class W{constructor(u,m){this.i=u,this.j=m,this.h=0,this.g=null}get(){let u;return 0<this.h?(this.h--,u=this.g,this.g=u.next,u.next=null):u=this.i(),u}}function Y(a){return/^[\s\xa0]*$/.test(a)}function K(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function ce(a){return ce[" "](a),a}ce[" "]=function(){};var qe=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function be(a,u,m){for(let g in a)u.call(m,a[g],g,a)}function I(a,u){for(let m in a)u.call(void 0,a[m],m,a)}function v(a){let u={};for(let m in a)u[m]=a[m];return u}let b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(a,u){let m,g;for(let T=1;T<arguments.length;T++){g=arguments[T];for(m in g)a[m]=g[m];for(let k=0;k<b.length;k++)m=b[k],Object.prototype.hasOwnProperty.call(g,m)&&(a[m]=g[m])}}function E(a){var u=1;a=a.split(":");let m=[];for(;0<u&&a.length;)m.push(a.shift()),u--;return a.length&&m.push(a.join(":")),m}function A(a){c.setTimeout(()=>{throw a},0)}function y(){var a=Hl;let u=null;return a.g&&(u=a.g,a.g=a.g.next,a.g||(a.h=null),u.next=null),u}class gi{constructor(){this.h=this.g=null}add(u,m){let g=Zr.get();g.set(u,m),this.h?this.h.next=g:this.g=g,this.h=g}}var Zr=new W(()=>new DI,a=>a.reset());class DI{constructor(){this.next=this.g=this.h=null}set(u,m){this.h=u,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let es,ts=!1,Hl=new gi,gp=()=>{let a=c.Promise.resolve(void 0);es=()=>{a.then(xI)}};var xI=()=>{for(var a;a=y();){try{a.h.call(a.g)}catch(m){A(m)}var u=Zr;u.j(a),100>u.h&&(u.h++,a.next=u.g,u.g=a)}ts=!1};function Ni(){this.s=this.s,this.C=this.C}Ni.prototype.s=!1,Ni.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ni.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function st(a,u){this.type=a,this.g=this.target=u,this.defaultPrevented=!1}st.prototype.h=function(){this.defaultPrevented=!0};var MI=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,u=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let m=()=>{};c.addEventListener("test",m,u),c.removeEventListener("test",m,u)}catch{}return a}();function is(a,u){if(st.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var m=this.type=a.type,g=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=u,u=a.relatedTarget){if(qe){e:{try{ce(u.nodeName);var T=!0;break e}catch{}T=!1}T||(u=null)}}else m=="mouseover"?u=a.fromElement:m=="mouseout"&&(u=a.toElement);this.relatedTarget=u,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:PI[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&is.aa.h.call(this)}}C(is,st);var PI={2:"touch",3:"pen",4:"mouse"};is.prototype.h=function(){is.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var ns="closure_listenable_"+(1e6*Math.random()|0),OI=0;function NI(a,u,m,g,T){this.listener=a,this.proxy=null,this.src=u,this.type=m,this.capture=!!g,this.ha=T,this.key=++OI,this.da=this.fa=!1}function Zo(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function ea(a){this.src=a,this.g={},this.h=0}ea.prototype.add=function(a,u,m,g,T){var k=a.toString();a=this.g[k],a||(a=this.g[k]=[],this.h++);var V=Ql(a,u,g,T);return-1<V?(u=a[V],m||(u.fa=!1)):(u=new NI(u,this.src,k,!!g,T),u.fa=m,a.push(u)),u};function Kl(a,u){var m=u.type;if(m in a.g){var g=a.g[m],T=Array.prototype.indexOf.call(g,u,void 0),k;(k=0<=T)&&Array.prototype.splice.call(g,T,1),k&&(Zo(u),a.g[m].length==0&&(delete a.g[m],a.h--))}}function Ql(a,u,m,g){for(var T=0;T<a.length;++T){var k=a[T];if(!k.da&&k.listener==u&&k.capture==!!m&&k.ha==g)return T}return-1}var Yl="closure_lm_"+(1e6*Math.random()|0),Xl={};function _p(a,u,m,g,T){if(g&&g.once)return yp(a,u,m,g,T);if(Array.isArray(u)){for(var k=0;k<u.length;k++)_p(a,u[k],m,g,T);return null}return m=tu(m),a&&a[ns]?a.K(u,m,h(g)?!!g.capture:!!g,T):vp(a,u,m,!1,g,T)}function vp(a,u,m,g,T,k){if(!u)throw Error("Invalid event type");var V=h(T)?!!T.capture:!!T,Se=Zl(a);if(Se||(a[Yl]=Se=new ea(a)),m=Se.add(u,m,g,V,k),m.proxy)return m;if(g=VI(),m.proxy=g,g.src=a,g.listener=m,a.addEventListener)MI||(T=V),T===void 0&&(T=!1),a.addEventListener(u.toString(),g,T);else if(a.attachEvent)a.attachEvent(wp(u.toString()),g);else if(a.addListener&&a.removeListener)a.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return m}function VI(){function a(m){return u.call(a.src,a.listener,m)}let u=FI;return a}function yp(a,u,m,g,T){if(Array.isArray(u)){for(var k=0;k<u.length;k++)yp(a,u[k],m,g,T);return null}return m=tu(m),a&&a[ns]?a.L(u,m,h(g)?!!g.capture:!!g,T):vp(a,u,m,!0,g,T)}function bp(a,u,m,g,T){if(Array.isArray(u))for(var k=0;k<u.length;k++)bp(a,u[k],m,g,T);else g=h(g)?!!g.capture:!!g,m=tu(m),a&&a[ns]?(a=a.i,u=String(u).toString(),u in a.g&&(k=a.g[u],m=Ql(k,m,g,T),-1<m&&(Zo(k[m]),Array.prototype.splice.call(k,m,1),k.length==0&&(delete a.g[u],a.h--)))):a&&(a=Zl(a))&&(u=a.g[u.toString()],a=-1,u&&(a=Ql(u,m,g,T)),(m=-1<a?u[a]:null)&&Jl(m))}function Jl(a){if(typeof a!="number"&&a&&!a.da){var u=a.src;if(u&&u[ns])Kl(u.i,a);else{var m=a.type,g=a.proxy;u.removeEventListener?u.removeEventListener(m,g,a.capture):u.detachEvent?u.detachEvent(wp(m),g):u.addListener&&u.removeListener&&u.removeListener(g),(m=Zl(u))?(Kl(m,a),m.h==0&&(m.src=null,u[Yl]=null)):Zo(a)}}}function wp(a){return a in Xl?Xl[a]:Xl[a]="on"+a}function FI(a,u){if(a.da)a=!0;else{u=new is(u,this);var m=a.listener,g=a.ha||a.src;a.fa&&Jl(a),a=m.call(g,u)}return a}function Zl(a){return a=a[Yl],a instanceof ea?a:null}var eu="__closure_events_fn_"+(1e9*Math.random()>>>0);function tu(a){return typeof a=="function"?a:(a[eu]||(a[eu]=function(u){return a.handleEvent(u)}),a[eu])}function ot(){Ni.call(this),this.i=new ea(this),this.M=this,this.F=null}C(ot,Ni),ot.prototype[ns]=!0,ot.prototype.removeEventListener=function(a,u,m,g){bp(this,a,u,m,g)};function mt(a,u){var m,g=a.F;if(g)for(m=[];g;g=g.F)m.push(g);if(a=a.M,g=u.type||u,typeof u=="string")u=new st(u,a);else if(u instanceof st)u.target=u.target||a;else{var T=u;u=new st(g,a),w(u,T)}if(T=!0,m)for(var k=m.length-1;0<=k;k--){var V=u.g=m[k];T=ta(V,g,!0,u)&&T}if(V=u.g=a,T=ta(V,g,!0,u)&&T,T=ta(V,g,!1,u)&&T,m)for(k=0;k<m.length;k++)V=u.g=m[k],T=ta(V,g,!1,u)&&T}ot.prototype.N=function(){if(ot.aa.N.call(this),this.i){var a=this.i,u;for(u in a.g){for(var m=a.g[u],g=0;g<m.length;g++)Zo(m[g]);delete a.g[u],a.h--}}this.F=null},ot.prototype.K=function(a,u,m,g){return this.i.add(String(a),u,!1,m,g)},ot.prototype.L=function(a,u,m,g){return this.i.add(String(a),u,!0,m,g)};function ta(a,u,m,g){if(u=a.i.g[String(u)],!u)return!0;u=u.concat();for(var T=!0,k=0;k<u.length;++k){var V=u[k];if(V&&!V.da&&V.capture==m){var Se=V.listener,Ze=V.ha||V.src;V.fa&&Kl(a.i,V),T=Se.call(Ze,g)!==!1&&T}}return T&&!g.defaultPrevented}function Ip(a,u,m){if(typeof a=="function")m&&(a=p(a,m));else if(a&&typeof a.handleEvent=="function")a=p(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(u)?-1:c.setTimeout(a,u||0)}function Ep(a){a.g=Ip(()=>{a.g=null,a.i&&(a.i=!1,Ep(a))},a.l);let u=a.h;a.h=null,a.m.apply(null,u)}class LI extends Ni{constructor(u,m){super(),this.m=u,this.l=m,this.h=null,this.i=!1,this.g=null}j(u){this.h=arguments,this.g?this.i=!0:Ep(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rs(a){Ni.call(this),this.h=a,this.g={}}C(rs,Ni);var Tp=[];function Ap(a){be(a.g,function(u,m){this.g.hasOwnProperty(m)&&Jl(u)},a),a.g={}}rs.prototype.N=function(){rs.aa.N.call(this),Ap(this)},rs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var iu=c.JSON.stringify,UI=c.JSON.parse,jI=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function nu(){}nu.prototype.h=null;function Cp(a){return a.h||(a.h=a.i())}function Sp(){}var ss={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ru(){st.call(this,"d")}C(ru,st);function su(){st.call(this,"c")}C(su,st);var an={},kp=null;function ia(){return kp=kp||new ot}an.La="serverreachability";function Rp(a){st.call(this,an.La,a)}C(Rp,st);function os(a){let u=ia();mt(u,new Rp(u))}an.STAT_EVENT="statevent";function Dp(a,u){st.call(this,an.STAT_EVENT,a),this.stat=u}C(Dp,st);function ft(a){let u=ia();mt(u,new Dp(u,a))}an.Ma="timingevent";function xp(a,u){st.call(this,an.Ma,a),this.size=u}C(xp,st);function as(a,u){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},u)}function cs(){this.g=!0}cs.prototype.xa=function(){this.g=!1};function BI(a,u,m,g,T,k){a.info(function(){if(a.g)if(k)for(var V="",Se=k.split("&"),Ze=0;Ze<Se.length;Ze++){var fe=Se[Ze].split("=");if(1<fe.length){var at=fe[0];fe=fe[1];var ct=at.split("_");V=2<=ct.length&&ct[1]=="type"?V+(at+"="+fe+"&"):V+(at+"=redacted&")}}else V=null;else V=k;return"XMLHTTP REQ ("+g+") [attempt "+T+"]: "+u+`
`+m+`
`+V})}function zI(a,u,m,g,T,k,V){a.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+T+"]: "+u+`
`+m+`
`+k+" "+V})}function Hn(a,u,m,g){a.info(function(){return"XMLHTTP TEXT ("+u+"): "+qI(a,m)+(g?" "+g:"")})}function $I(a,u){a.info(function(){return"TIMEOUT: "+u})}cs.prototype.info=function(){};function qI(a,u){if(!a.g)return u;if(!u)return null;try{var m=JSON.parse(u);if(m){for(a=0;a<m.length;a++)if(Array.isArray(m[a])){var g=m[a];if(!(2>g.length)){var T=g[1];if(Array.isArray(T)&&!(1>T.length)){var k=T[0];if(k!="noop"&&k!="stop"&&k!="close")for(var V=1;V<T.length;V++)T[V]=""}}}}return iu(m)}catch{return u}}var na={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Mp={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ou;function ra(){}C(ra,nu),ra.prototype.g=function(){return new XMLHttpRequest},ra.prototype.i=function(){return{}},ou=new ra;function Vi(a,u,m,g){this.j=a,this.i=u,this.l=m,this.R=g||1,this.U=new rs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Pp}function Pp(){this.i=null,this.g="",this.h=!1}var Op={},au={};function cu(a,u,m){a.L=1,a.v=ca(_i(u)),a.m=m,a.P=!0,Np(a,null)}function Np(a,u){a.F=Date.now(),sa(a),a.A=_i(a.v);var m=a.A,g=a.R;Array.isArray(g)||(g=[String(g)]),Qp(m.i,"t",g),a.C=0,m=a.j.J,a.h=new Pp,a.g=mg(a.j,m?u:null,!a.m),0<a.O&&(a.M=new LI(p(a.Y,a,a.g),a.O)),u=a.U,m=a.g,g=a.ca;var T="readystatechange";Array.isArray(T)||(T&&(Tp[0]=T.toString()),T=Tp);for(var k=0;k<T.length;k++){var V=_p(m,T[k],g||u.handleEvent,!1,u.h||u);if(!V)break;u.g[V.key]=V}u=a.H?v(a.H):{},a.m?(a.u||(a.u="POST"),u["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,u)):(a.u="GET",a.g.ea(a.A,a.u,null,u)),os(),BI(a.i,a.u,a.A,a.l,a.R,a.m)}Vi.prototype.ca=function(a){a=a.target;let u=this.M;u&&vi(a)==3?u.j():this.Y(a)},Vi.prototype.Y=function(a){try{if(a==this.g)e:{let ct=vi(this.g);var u=this.g.Ba();let Yn=this.g.Z();if(!(3>ct)&&(ct!=3||this.g&&(this.h.h||this.g.oa()||ig(this.g)))){this.J||ct!=4||u==7||(u==8||0>=Yn?os(3):os(2)),lu(this);var m=this.g.Z();this.X=m;t:if(Vp(this)){var g=ig(this.g);a="";var T=g.length,k=vi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){cn(this),ls(this);var V="";break t}this.h.i=new c.TextDecoder}for(u=0;u<T;u++)this.h.h=!0,a+=this.h.i.decode(g[u],{stream:!(k&&u==T-1)});g.length=0,this.h.g+=a,this.C=0,V=this.h.g}else V=this.g.oa();if(this.o=m==200,zI(this.i,this.u,this.A,this.l,this.R,ct,m),this.o){if(this.T&&!this.K){t:{if(this.g){var Se,Ze=this.g;if((Se=Ze.g?Ze.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Y(Se)){var fe=Se;break t}}fe=null}if(m=fe)Hn(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,uu(this,m);else{this.o=!1,this.s=3,ft(12),cn(this),ls(this);break e}}if(this.P){m=!0;let Ht;for(;!this.J&&this.C<V.length;)if(Ht=GI(this,V),Ht==au){ct==4&&(this.s=4,ft(14),m=!1),Hn(this.i,this.l,null,"[Incomplete Response]");break}else if(Ht==Op){this.s=4,ft(15),Hn(this.i,this.l,V,"[Invalid Chunk]"),m=!1;break}else Hn(this.i,this.l,Ht,null),uu(this,Ht);if(Vp(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ct!=4||V.length!=0||this.h.h||(this.s=1,ft(16),m=!1),this.o=this.o&&m,!m)Hn(this.i,this.l,V,"[Invalid Chunked Response]"),cn(this),ls(this);else if(0<V.length&&!this.W){this.W=!0;var at=this.j;at.g==this&&at.ba&&!at.M&&(at.j.info("Great, no buffering proxy detected. Bytes received: "+V.length),gu(at),at.M=!0,ft(11))}}else Hn(this.i,this.l,V,null),uu(this,V);ct==4&&cn(this),this.o&&!this.J&&(ct==4?lg(this.j,this):(this.o=!1,sa(this)))}else c0(this.g),m==400&&0<V.indexOf("Unknown SID")?(this.s=3,ft(12)):(this.s=0,ft(13)),cn(this),ls(this)}}}catch{}finally{}};function Vp(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function GI(a,u){var m=a.C,g=u.indexOf(`
`,m);return g==-1?au:(m=Number(u.substring(m,g)),isNaN(m)?Op:(g+=1,g+m>u.length?au:(u=u.slice(g,g+m),a.C=g+m,u)))}Vi.prototype.cancel=function(){this.J=!0,cn(this)};function sa(a){a.S=Date.now()+a.I,Fp(a,a.I)}function Fp(a,u){if(a.B!=null)throw Error("WatchDog timer not null");a.B=as(p(a.ba,a),u)}function lu(a){a.B&&(c.clearTimeout(a.B),a.B=null)}Vi.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?($I(this.i,this.A),this.L!=2&&(os(),ft(17)),cn(this),this.s=2,ls(this)):Fp(this,this.S-a)};function ls(a){a.j.G==0||a.J||lg(a.j,a)}function cn(a){lu(a);var u=a.M;u&&typeof u.ma=="function"&&u.ma(),a.M=null,Ap(a.U),a.g&&(u=a.g,a.g=null,u.abort(),u.ma())}function uu(a,u){try{var m=a.j;if(m.G!=0&&(m.g==a||du(m.h,a))){if(!a.K&&du(m.h,a)&&m.G==3){try{var g=m.Da.g.parse(u)}catch{g=null}if(Array.isArray(g)&&g.length==3){var T=g;if(T[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<a.F)ma(m),da(m);else break e;pu(m),ft(18)}}else m.za=T[1],0<m.za-m.T&&37500>T[2]&&m.F&&m.v==0&&!m.C&&(m.C=as(p(m.Za,m),6e3));if(1>=jp(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else un(m,11)}else if((a.K||m.g==a)&&ma(m),!Y(u))for(T=m.Da.g.parse(u),u=0;u<T.length;u++){let fe=T[u];if(m.T=fe[0],fe=fe[1],m.G==2)if(fe[0]=="c"){m.K=fe[1],m.ia=fe[2];let at=fe[3];at!=null&&(m.la=at,m.j.info("VER="+m.la));let ct=fe[4];ct!=null&&(m.Aa=ct,m.j.info("SVER="+m.Aa));let Yn=fe[5];Yn!=null&&typeof Yn=="number"&&0<Yn&&(g=1.5*Yn,m.L=g,m.j.info("backChannelRequestTimeoutMs_="+g)),g=m;let Ht=a.g;if(Ht){let pa=Ht.g?Ht.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pa){var k=g.h;k.g||pa.indexOf("spdy")==-1&&pa.indexOf("quic")==-1&&pa.indexOf("h2")==-1||(k.j=k.l,k.g=new Set,k.h&&(hu(k,k.h),k.h=null))}if(g.D){let _u=Ht.g?Ht.g.getResponseHeader("X-HTTP-Session-Id"):null;_u&&(g.ya=_u,xe(g.I,g.D,_u))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-a.F,m.j.info("Handshake RTT: "+m.R+"ms")),g=m;var V=a;if(g.qa=hg(g,g.J?g.ia:null,g.W),V.K){Bp(g.h,V);var Se=V,Ze=g.L;Ze&&(Se.I=Ze),Se.B&&(lu(Se),sa(Se)),g.g=V}else ag(g);0<m.i.length&&ha(m)}else fe[0]!="stop"&&fe[0]!="close"||un(m,7);else m.G==3&&(fe[0]=="stop"||fe[0]=="close"?fe[0]=="stop"?un(m,7):fu(m):fe[0]!="noop"&&m.l&&m.l.ta(fe),m.v=0)}}os(4)}catch{}}var WI=class{constructor(a,u){this.g=a,this.map=u}};function Lp(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Up(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function jp(a){return a.h?1:a.g?a.g.size:0}function du(a,u){return a.h?a.h==u:a.g?a.g.has(u):!1}function hu(a,u){a.g?a.g.add(u):a.h=u}function Bp(a,u){a.h&&a.h==u?a.h=null:a.g&&a.g.has(u)&&a.g.delete(u)}Lp.prototype.cancel=function(){if(this.i=zp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function zp(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let u=a.i;for(let m of a.g.values())u=u.concat(m.D);return u}return x(a.i)}function HI(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(l(a)){for(var u=[],m=a.length,g=0;g<m;g++)u.push(a[g]);return u}u=[],m=0;for(g in a)u[m++]=a[g];return u}function KI(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(l(a)||typeof a=="string"){var u=[];a=a.length;for(var m=0;m<a;m++)u.push(m);return u}u=[],m=0;for(let g in a)u[m++]=g;return u}}}function $p(a,u){if(a.forEach&&typeof a.forEach=="function")a.forEach(u,void 0);else if(l(a)||typeof a=="string")Array.prototype.forEach.call(a,u,void 0);else for(var m=KI(a),g=HI(a),T=g.length,k=0;k<T;k++)u.call(void 0,g[k],m&&m[k],a)}var qp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function QI(a,u){if(a){a=a.split("&");for(var m=0;m<a.length;m++){var g=a[m].indexOf("="),T=null;if(0<=g){var k=a[m].substring(0,g);T=a[m].substring(g+1)}else k=a[m];u(k,T?decodeURIComponent(T.replace(/\+/g," ")):"")}}}function ln(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof ln){this.h=a.h,oa(this,a.j),this.o=a.o,this.g=a.g,aa(this,a.s),this.l=a.l;var u=a.i,m=new hs;m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),Gp(this,m),this.m=a.m}else a&&(u=String(a).match(qp))?(this.h=!1,oa(this,u[1]||"",!0),this.o=us(u[2]||""),this.g=us(u[3]||"",!0),aa(this,u[4]),this.l=us(u[5]||"",!0),Gp(this,u[6]||"",!0),this.m=us(u[7]||"")):(this.h=!1,this.i=new hs(null,this.h))}ln.prototype.toString=function(){var a=[],u=this.j;u&&a.push(ds(u,Wp,!0),":");var m=this.g;return(m||u=="file")&&(a.push("//"),(u=this.o)&&a.push(ds(u,Wp,!0),"@"),a.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&a.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&a.push("/"),a.push(ds(m,m.charAt(0)=="/"?JI:XI,!0))),(m=this.i.toString())&&a.push("?",m),(m=this.m)&&a.push("#",ds(m,e0)),a.join("")};function _i(a){return new ln(a)}function oa(a,u,m){a.j=m?us(u,!0):u,a.j&&(a.j=a.j.replace(/:$/,""))}function aa(a,u){if(u){if(u=Number(u),isNaN(u)||0>u)throw Error("Bad port number "+u);a.s=u}else a.s=null}function Gp(a,u,m){u instanceof hs?(a.i=u,t0(a.i,a.h)):(m||(u=ds(u,ZI)),a.i=new hs(u,a.h))}function xe(a,u,m){a.i.set(u,m)}function ca(a){return xe(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function us(a,u){return a?u?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function ds(a,u,m){return typeof a=="string"?(a=encodeURI(a).replace(u,YI),m&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function YI(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Wp=/[#\/\?@]/g,XI=/[#\?:]/g,JI=/[#\?]/g,ZI=/[#\?@]/g,e0=/#/g;function hs(a,u){this.h=this.g=null,this.i=a||null,this.j=!!u}function Fi(a){a.g||(a.g=new Map,a.h=0,a.i&&QI(a.i,function(u,m){a.add(decodeURIComponent(u.replace(/\+/g," ")),m)}))}i=hs.prototype,i.add=function(a,u){Fi(this),this.i=null,a=Kn(this,a);var m=this.g.get(a);return m||this.g.set(a,m=[]),m.push(u),this.h+=1,this};function Hp(a,u){Fi(a),u=Kn(a,u),a.g.has(u)&&(a.i=null,a.h-=a.g.get(u).length,a.g.delete(u))}function Kp(a,u){return Fi(a),u=Kn(a,u),a.g.has(u)}i.forEach=function(a,u){Fi(this),this.g.forEach(function(m,g){m.forEach(function(T){a.call(u,T,g,this)},this)},this)},i.na=function(){Fi(this);let a=Array.from(this.g.values()),u=Array.from(this.g.keys()),m=[];for(let g=0;g<u.length;g++){let T=a[g];for(let k=0;k<T.length;k++)m.push(u[g])}return m},i.V=function(a){Fi(this);let u=[];if(typeof a=="string")Kp(this,a)&&(u=u.concat(this.g.get(Kn(this,a))));else{a=Array.from(this.g.values());for(let m=0;m<a.length;m++)u=u.concat(a[m])}return u},i.set=function(a,u){return Fi(this),this.i=null,a=Kn(this,a),Kp(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[u]),this.h+=1,this},i.get=function(a,u){return a?(a=this.V(a),0<a.length?String(a[0]):u):u};function Qp(a,u,m){Hp(a,u),0<m.length&&(a.i=null,a.g.set(Kn(a,u),x(m)),a.h+=m.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],u=Array.from(this.g.keys());for(var m=0;m<u.length;m++){var g=u[m];let k=encodeURIComponent(String(g)),V=this.V(g);for(g=0;g<V.length;g++){var T=k;V[g]!==""&&(T+="="+encodeURIComponent(String(V[g]))),a.push(T)}}return this.i=a.join("&")};function Kn(a,u){return u=String(u),a.j&&(u=u.toLowerCase()),u}function t0(a,u){u&&!a.j&&(Fi(a),a.i=null,a.g.forEach(function(m,g){var T=g.toLowerCase();g!=T&&(Hp(this,g),Qp(this,T,m))},a)),a.j=u}function i0(a,u){let m=new cs;if(c.Image){let g=new Image;g.onload=_(Li,m,"TestLoadImage: loaded",!0,u,g),g.onerror=_(Li,m,"TestLoadImage: error",!1,u,g),g.onabort=_(Li,m,"TestLoadImage: abort",!1,u,g),g.ontimeout=_(Li,m,"TestLoadImage: timeout",!1,u,g),c.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=a}else u(!1)}function n0(a,u){let m=new cs,g=new AbortController,T=setTimeout(()=>{g.abort(),Li(m,"TestPingServer: timeout",!1,u)},1e4);fetch(a,{signal:g.signal}).then(k=>{clearTimeout(T),k.ok?Li(m,"TestPingServer: ok",!0,u):Li(m,"TestPingServer: server error",!1,u)}).catch(()=>{clearTimeout(T),Li(m,"TestPingServer: error",!1,u)})}function Li(a,u,m,g,T){try{T&&(T.onload=null,T.onerror=null,T.onabort=null,T.ontimeout=null),g(m)}catch{}}function r0(){this.g=new jI}function s0(a,u,m){let g=m||"";try{$p(a,function(T,k){let V=T;h(T)&&(V=iu(T)),u.push(g+k+"="+encodeURIComponent(V))})}catch(T){throw u.push(g+"type="+encodeURIComponent("_badmap")),T}}function ms(a){this.l=a.Ub||null,this.j=a.eb||!1}C(ms,nu),ms.prototype.g=function(){return new la(this.l,this.j)},ms.prototype.i=function(a){return function(){return a}}({});function la(a,u){ot.call(this),this.D=a,this.o=u,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(la,ot),i=la.prototype,i.open=function(a,u){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=u,this.readyState=1,ps(this)},i.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let u={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(u.body=a),(this.D||c).fetch(new Request(this.A,u)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,fs(this)),this.readyState=0},i.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,ps(this)),this.g&&(this.readyState=3,ps(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Yp(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function Yp(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}i.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var u=a.value?a.value:new Uint8Array(0);(u=this.v.decode(u,{stream:!a.done}))&&(this.response=this.responseText+=u)}a.done?fs(this):ps(this),this.readyState==3&&Yp(this)}},i.Ra=function(a){this.g&&(this.response=this.responseText=a,fs(this))},i.Qa=function(a){this.g&&(this.response=a,fs(this))},i.ga=function(){this.g&&fs(this)};function fs(a){a.readyState=4,a.l=null,a.j=null,a.v=null,ps(a)}i.setRequestHeader=function(a,u){this.u.append(a,u)},i.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],u=this.h.entries();for(var m=u.next();!m.done;)m=m.value,a.push(m[0]+": "+m[1]),m=u.next();return a.join(`\r
`)};function ps(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(la.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function Xp(a){let u="";return be(a,function(m,g){u+=g,u+=":",u+=m,u+=`\r
`}),u}function mu(a,u,m){e:{for(g in m){var g=!1;break e}g=!0}g||(m=Xp(m),typeof a=="string"?m!=null&&encodeURIComponent(String(m)):xe(a,u,m))}function Ve(a){ot.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Ve,ot);var o0=/^https?$/i,a0=["POST","PUT"];i=Ve.prototype,i.Ha=function(a){this.J=a},i.ea=function(a,u,m,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);u=u?u.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ou.g(),this.v=this.o?Cp(this.o):Cp(ou),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(u,String(a),!0),this.B=!1}catch(k){Jp(this,k);return}if(a=m||"",m=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var T in g)m.set(T,g[T]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let k of g.keys())m.set(k,g.get(k));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(m.keys()).find(k=>k.toLowerCase()=="content-type"),T=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(a0,u,void 0))||g||T||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[k,V]of m)this.g.setRequestHeader(k,V);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{tg(this),this.u=!0,this.g.send(a),this.u=!1}catch(k){Jp(this,k)}};function Jp(a,u){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=u,a.m=5,Zp(a),ua(a)}function Zp(a){a.A||(a.A=!0,mt(a,"complete"),mt(a,"error"))}i.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,mt(this,"complete"),mt(this,"abort"),ua(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ua(this,!0)),Ve.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?eg(this):this.bb())},i.bb=function(){eg(this)};function eg(a){if(a.h&&typeof o<"u"&&(!a.v[1]||vi(a)!=4||a.Z()!=2)){if(a.u&&vi(a)==4)Ip(a.Ea,0,a);else if(mt(a,"readystatechange"),vi(a)==4){a.h=!1;try{let V=a.Z();e:switch(V){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var u=!0;break e;default:u=!1}var m;if(!(m=u)){var g;if(g=V===0){var T=String(a.D).match(qp)[1]||null;!T&&c.self&&c.self.location&&(T=c.self.location.protocol.slice(0,-1)),g=!o0.test(T?T.toLowerCase():"")}m=g}if(m)mt(a,"complete"),mt(a,"success");else{a.m=6;try{var k=2<vi(a)?a.g.statusText:""}catch{k=""}a.l=k+" ["+a.Z()+"]",Zp(a)}}finally{ua(a)}}}}function ua(a,u){if(a.g){tg(a);let m=a.g,g=a.v[0]?()=>{}:null;a.g=null,a.v=null,u||mt(a,"ready");try{m.onreadystatechange=g}catch{}}}function tg(a){a.I&&(c.clearTimeout(a.I),a.I=null)}i.isActive=function(){return!!this.g};function vi(a){return a.g?a.g.readyState:0}i.Z=function(){try{return 2<vi(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(a){if(this.g){var u=this.g.responseText;return a&&u.indexOf(a)==0&&(u=u.substring(a.length)),UI(u)}};function ig(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function c0(a){let u={};a=(a.g&&2<=vi(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<a.length;g++){if(Y(a[g]))continue;var m=E(a[g]);let T=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();let k=u[T]||[];u[T]=k,k.push(m)}I(u,function(g){return g.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function gs(a,u,m){return m&&m.internalChannelParams&&m.internalChannelParams[a]||u}function ng(a){this.Aa=0,this.i=[],this.j=new cs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=gs("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=gs("baseRetryDelayMs",5e3,a),this.cb=gs("retryDelaySeedMs",1e4,a),this.Wa=gs("forwardChannelMaxRetries",2,a),this.wa=gs("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new Lp(a&&a.concurrentRequestLimit),this.Da=new r0,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=ng.prototype,i.la=8,i.G=1,i.connect=function(a,u,m,g){ft(0),this.W=a,this.H=u||{},m&&g!==void 0&&(this.H.OSID=m,this.H.OAID=g),this.F=this.X,this.I=hg(this,null,this.W),ha(this)};function fu(a){if(rg(a),a.G==3){var u=a.U++,m=_i(a.I);if(xe(m,"SID",a.K),xe(m,"RID",u),xe(m,"TYPE","terminate"),_s(a,m),u=new Vi(a,a.j,u),u.L=2,u.v=ca(_i(m)),m=!1,c.navigator&&c.navigator.sendBeacon)try{m=c.navigator.sendBeacon(u.v.toString(),"")}catch{}!m&&c.Image&&(new Image().src=u.v,m=!0),m||(u.g=mg(u.j,null),u.g.ea(u.v)),u.F=Date.now(),sa(u)}dg(a)}function da(a){a.g&&(gu(a),a.g.cancel(),a.g=null)}function rg(a){da(a),a.u&&(c.clearTimeout(a.u),a.u=null),ma(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function ha(a){if(!Up(a.h)&&!a.s){a.s=!0;var u=a.Ga;es||gp(),ts||(es(),ts=!0),Hl.add(u,a),a.B=0}}function l0(a,u){return jp(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=u.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=as(p(a.Ga,a,u),ug(a,a.B)),a.B++,!0)}i.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let T=new Vi(this,this.j,a),k=this.o;if(this.S&&(k?(k=v(k),w(k,this.S)):k=this.S),this.m!==null||this.O||(T.H=k,k=null),this.P)e:{for(var u=0,m=0;m<this.i.length;m++){t:{var g=this.i[m];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(u+=g,4096<u){u=m;break e}if(u===4096||m===this.i.length-1){u=m+1;break e}}u=1e3}else u=1e3;u=og(this,T,u),m=_i(this.I),xe(m,"RID",a),xe(m,"CVER",22),this.D&&xe(m,"X-HTTP-Session-Id",this.D),_s(this,m),k&&(this.O?u="headers="+encodeURIComponent(String(Xp(k)))+"&"+u:this.m&&mu(m,this.m,k)),hu(this.h,T),this.Ua&&xe(m,"TYPE","init"),this.P?(xe(m,"$req",u),xe(m,"SID","null"),T.T=!0,cu(T,m,null)):cu(T,m,u),this.G=2}}else this.G==3&&(a?sg(this,a):this.i.length==0||Up(this.h)||sg(this))};function sg(a,u){var m;u?m=u.l:m=a.U++;let g=_i(a.I);xe(g,"SID",a.K),xe(g,"RID",m),xe(g,"AID",a.T),_s(a,g),a.m&&a.o&&mu(g,a.m,a.o),m=new Vi(a,a.j,m,a.B+1),a.m===null&&(m.H=a.o),u&&(a.i=u.D.concat(a.i)),u=og(a,m,1e3),m.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),hu(a.h,m),cu(m,g,u)}function _s(a,u){a.H&&be(a.H,function(m,g){xe(u,g,m)}),a.l&&$p({},function(m,g){xe(u,g,m)})}function og(a,u,m){m=Math.min(a.i.length,m);var g=a.l?p(a.l.Na,a.l,a):null;e:{var T=a.i;let k=-1;for(;;){let V=["count="+m];k==-1?0<m?(k=T[0].g,V.push("ofs="+k)):k=0:V.push("ofs="+k);let Se=!0;for(let Ze=0;Ze<m;Ze++){let fe=T[Ze].g,at=T[Ze].map;if(fe-=k,0>fe)k=Math.max(0,T[Ze].g-100),Se=!1;else try{s0(at,V,"req"+fe+"_")}catch{g&&g(at)}}if(Se){g=V.join("&");break e}}}return a=a.i.splice(0,m),u.D=a,g}function ag(a){if(!a.g&&!a.u){a.Y=1;var u=a.Fa;es||gp(),ts||(es(),ts=!0),Hl.add(u,a),a.v=0}}function pu(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=as(p(a.Fa,a),ug(a,a.v)),a.v++,!0)}i.Fa=function(){if(this.u=null,cg(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=as(p(this.ab,this),a)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ft(10),da(this),cg(this))};function gu(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function cg(a){a.g=new Vi(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var u=_i(a.qa);xe(u,"RID","rpc"),xe(u,"SID",a.K),xe(u,"AID",a.T),xe(u,"CI",a.F?"0":"1"),!a.F&&a.ja&&xe(u,"TO",a.ja),xe(u,"TYPE","xmlhttp"),_s(a,u),a.m&&a.o&&mu(u,a.m,a.o),a.L&&(a.g.I=a.L);var m=a.g;a=a.ia,m.L=1,m.v=ca(_i(u)),m.m=null,m.P=!0,Np(m,a)}i.Za=function(){this.C!=null&&(this.C=null,da(this),pu(this),ft(19))};function ma(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function lg(a,u){var m=null;if(a.g==u){ma(a),gu(a),a.g=null;var g=2}else if(du(a.h,u))m=u.D,Bp(a.h,u),g=1;else return;if(a.G!=0){if(u.o)if(g==1){m=u.m?u.m.length:0,u=Date.now()-u.F;var T=a.B;g=ia(),mt(g,new xp(g,m)),ha(a)}else ag(a);else if(T=u.s,T==3||T==0&&0<u.X||!(g==1&&l0(a,u)||g==2&&pu(a)))switch(m&&0<m.length&&(u=a.h,u.i=u.i.concat(m)),T){case 1:un(a,5);break;case 4:un(a,10);break;case 3:un(a,6);break;default:un(a,2)}}}function ug(a,u){let m=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(m*=2),m*u}function un(a,u){if(a.j.info("Error code "+u),u==2){var m=p(a.fb,a),g=a.Xa;let T=!g;g=new ln(g||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||oa(g,"https"),ca(g),T?i0(g.toString(),m):n0(g.toString(),m)}else ft(2);a.G=0,a.l&&a.l.sa(u),dg(a),rg(a)}i.fb=function(a){a?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function dg(a){if(a.G=0,a.ka=[],a.l){let u=zp(a.h);(u.length!=0||a.i.length!=0)&&(D(a.ka,u),D(a.ka,a.i),a.h.i.length=0,x(a.i),a.i.length=0),a.l.ra()}}function hg(a,u,m){var g=m instanceof ln?_i(m):new ln(m);if(g.g!="")u&&(g.g=u+"."+g.g),aa(g,g.s);else{var T=c.location;g=T.protocol,u=u?u+"."+T.hostname:T.hostname,T=+T.port;var k=new ln(null);g&&oa(k,g),u&&(k.g=u),T&&aa(k,T),m&&(k.l=m),g=k}return m=a.D,u=a.ya,m&&u&&xe(g,m,u),xe(g,"VER",a.la),_s(a,g),g}function mg(a,u,m){if(u&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return u=a.Ca&&!a.pa?new Ve(new ms({eb:m})):new Ve(a.pa),u.Ha(a.J),u}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function fg(){}i=fg.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function fa(){}fa.prototype.g=function(a,u){return new wt(a,u)};function wt(a,u){ot.call(this),this.g=new ng(u),this.l=a,this.h=u&&u.messageUrlParams||null,a=u&&u.messageHeaders||null,u&&u.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=u&&u.initMessageHeaders||null,u&&u.messageContentType&&(a?a["X-WebChannel-Content-Type"]=u.messageContentType:a={"X-WebChannel-Content-Type":u.messageContentType}),u&&u.va&&(a?a["X-WebChannel-Client-Profile"]=u.va:a={"X-WebChannel-Client-Profile":u.va}),this.g.S=a,(a=u&&u.Sb)&&!Y(a)&&(this.g.m=a),this.v=u&&u.supportsCrossDomainXhr||!1,this.u=u&&u.sendRawJson||!1,(u=u&&u.httpSessionIdParam)&&!Y(u)&&(this.g.D=u,a=this.h,a!==null&&u in a&&(a=this.h,u in a&&delete a[u])),this.j=new Qn(this)}C(wt,ot),wt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},wt.prototype.close=function(){fu(this.g)},wt.prototype.o=function(a){var u=this.g;if(typeof a=="string"){var m={};m.__data__=a,a=m}else this.u&&(m={},m.__data__=iu(a),a=m);u.i.push(new WI(u.Ya++,a)),u.G==3&&ha(u)},wt.prototype.N=function(){this.g.l=null,delete this.j,fu(this.g),delete this.g,wt.aa.N.call(this)};function pg(a){ru.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var u=a.__sm__;if(u){e:{for(let m in u){a=m;break e}a=void 0}(this.i=a)&&(a=this.i,u=u!==null&&a in u?u[a]:void 0),this.data=u}else this.data=a}C(pg,ru);function gg(){su.call(this),this.status=1}C(gg,su);function Qn(a){this.g=a}C(Qn,fg),Qn.prototype.ua=function(){mt(this.g,"a")},Qn.prototype.ta=function(a){mt(this.g,new pg(a))},Qn.prototype.sa=function(a){mt(this.g,new gg)},Qn.prototype.ra=function(){mt(this.g,"b")},fa.prototype.createWebChannel=fa.prototype.g,wt.prototype.send=wt.prototype.o,wt.prototype.open=wt.prototype.m,wt.prototype.close=wt.prototype.close,sm=Ri.createWebChannelTransport=function(){return new fa},rm=Ri.getStatEventTarget=function(){return ia()},nm=Ri.Event=an,Jc=Ri.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},na.NO_ERROR=0,na.TIMEOUT=8,na.HTTP_ERROR=6,Ro=Ri.ErrorCode=na,Mp.COMPLETE="complete",im=Ri.EventType=Mp,Sp.EventType=ss,ss.OPEN="a",ss.CLOSE="b",ss.ERROR="c",ss.MESSAGE="d",ot.prototype.listen=ot.prototype.K,Rr=Ri.WebChannel=Sp,eD=Ri.FetchXmlHttpFactory=ms,Ve.prototype.listenOnce=Ve.prototype.L,Ve.prototype.getLastError=Ve.prototype.Ka,Ve.prototype.getLastErrorCode=Ve.prototype.Ba,Ve.prototype.getStatus=Ve.prototype.Z,Ve.prototype.getResponseJson=Ve.prototype.Oa,Ve.prototype.getResponseText=Ve.prototype.oa,Ve.prototype.send=Ve.prototype.ea,Ve.prototype.setWithCredentials=Ve.prototype.Ha,tm=Ri.XhrIo=Ve}).apply(typeof Xc<"u"?Xc:typeof self<"u"?self:typeof window<"u"?window:{});var xb="@firebase/firestore";var Je=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};Je.UNAUTHENTICATED=new Je(null),Je.GOOGLE_CREDENTIALS=new Je("google-credentials-uid"),Je.FIRST_PARTY=new Je("first-party-uid"),Je.MOCK_USER=new Je("mock-user");var Yr="10.14.0";var Fn=new Yi("@firebase/firestore");function Do(){return Fn.logLevel}function U(i,...t){if(Fn.logLevel<=oe.DEBUG){let e=t.map(zf);Fn.debug(`Firestore (${Yr}): ${i}`,...e)}}function xi(i,...t){if(Fn.logLevel<=oe.ERROR){let e=t.map(zf);Fn.error(`Firestore (${Yr}): ${i}`,...e)}}function Vr(i,...t){if(Fn.logLevel<=oe.WARN){let e=t.map(zf);Fn.warn(`Firestore (${Yr}): ${i}`,...e)}}function zf(i){if(typeof i=="string")return i;try{return function(e){return JSON.stringify(e)}(i)}catch{return i}}function Q(i="Unexpected state"){let t=`FIRESTORE (${Yr}) INTERNAL ASSERTION FAILED: `+i;throw xi(t),new Error(t)}function Ie(i,t){i||Q()}function te(i,t){return i}var M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},q=class extends qt{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Di=class{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}};var nl=class{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}},um=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Je.UNAUTHENTICATED))}shutdown(){}},dm=class{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}},hm=class{constructor(t){this.t=t,this.currentUser=Je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Ie(this.o===void 0);let n=this.i,r=l=>this.i!==n?(n=this.i,e(l)):Promise.resolve(),s=new Di;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Di,t.enqueueRetryable(()=>r(this.currentUser))};let o=()=>{let l=s;t.enqueueRetryable(()=>S(this,null,function*(){yield l.promise,yield r(this.currentUser)}))},c=l=>{U("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?c(l):(U("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Di)}},0),o()}getToken(){let t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(n=>this.i!==t?(U("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Ie(typeof n.accessToken=="string"),new nl(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let t=this.auth&&this.auth.getUid();return Ie(t===null||typeof t=="string"),new Je(t)}},mm=class{constructor(t,e,n){this.l=t,this.h=e,this.P=n,this.type="FirstParty",this.user=Je.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},fm=class{constructor(t,e,n){this.l=t,this.h=e,this.P=n}getToken(){return Promise.resolve(new mm(this.l,this.h,this.P))}start(t,e){t.enqueueRetryable(()=>e(Je.FIRST_PARTY))}shutdown(){}invalidateToken(){}},pm=class{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},gm=class{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,e){Ie(this.o===void 0);let n=s=>{s.error!=null&&U("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,U("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?e(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>n(s))};let r=s=>{U("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?r(s):U("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(Ie(typeof e.token=="string"),this.R=e.token,new pm(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function tD(i){let t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(i);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let n=0;n<i;n++)e[n]=Math.floor(256*Math.random());return e}var rl=class{static newId(){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";for(;n.length<20;){let r=tD(40);for(let s=0;s<r.length;++s)n.length<20&&r[s]<e&&(n+=t.charAt(r[s]%t.length))}return n}};function ge(i,t){return i<t?-1:i>t?1:0}function Fr(i,t,e){return i.length===t.length&&i.every((n,r)=>e(n,t[r]))}var Ke=class i{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new q(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new q(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new q(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new q(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return i.fromMillis(Date.now())}static fromDate(t){return i.fromMillis(t.getTime())}static fromMillis(t){let e=Math.floor(t/1e3),n=Math.floor(1e6*(t-1e3*e));return new i(e,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?ge(this.nanoseconds,t.nanoseconds):ge(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ie=class i{constructor(t){this.timestamp=t}static fromTimestamp(t){return new i(t)}static min(){return new i(new Ke(0,0))}static max(){return new i(new Ke(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var sl=class i{constructor(t,e,n){e===void 0?e=0:e>t.length&&Q(),n===void 0?n=t.length-e:n>t.length-e&&Q(),this.segments=t,this.offset=e,this.len=n}get length(){return this.len}isEqual(t){return i.comparator(this,t)===0}child(t){let e=this.segments.slice(this.offset,this.limit());return t instanceof i?t.forEach(n=>{e.push(n)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){let n=Math.min(t.length,e.length);for(let r=0;r<n;r++){let s=t.get(r),o=e.get(r);if(s<o)return-1;if(s>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0}},Ue=class i extends sl{construct(t,e,n){return new i(t,e,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){let e=[];for(let n of t){if(n.indexOf("//")>=0)throw new q(M.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);e.push(...n.split("/").filter(r=>r.length>0))}return new i(e)}static emptyPath(){return new i([])}},iD=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Nt=class i extends sl{construct(t,e,n){return new i(t,e,n)}static isValidIdentifier(t){return iD.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),i.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new i(["__name__"])}static fromServerFormat(t){let e=[],n="",r=0,s=()=>{if(n.length===0)throw new q(M.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(n),n=""},o=!1;for(;r<t.length;){let c=t[r];if(c==="\\"){if(r+1===t.length)throw new q(M.INVALID_ARGUMENT,"Path has trailing escape character: "+t);let l=t[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new q(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=l,r+=2}else c==="`"?(o=!o,r++):c!=="."||o?(n+=c,r++):(s(),r++)}if(s(),o)throw new q(M.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new i(e)}static emptyPath(){return new i([])}};var H=class i{constructor(t){this.path=t}static fromPath(t){return new i(Ue.fromString(t))}static fromName(t){return new i(Ue.fromString(t).popFirst(5))}static empty(){return new i(Ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Ue.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return Ue.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new i(new Ue(t.slice()))}};var _m=class{constructor(t,e,n,r){this.indexId=t,this.collectionGroup=e,this.fields=n,this.indexState=r}};_m.UNKNOWN_ID=-1;function nD(i,t){let e=i.toTimestamp().seconds,n=i.toTimestamp().nanoseconds+1,r=ie.fromTimestamp(n===1e9?new Ke(e+1,0):new Ke(e,n));return new Ln(r,H.empty(),t)}function rD(i){return new Ln(i.readTime,i.key,-1)}var Ln=class i{constructor(t,e,n){this.readTime=t,this.documentKey=e,this.largestBatchId=n}static min(){return new i(ie.min(),H.empty(),-1)}static max(){return new i(ie.max(),H.empty(),-1)}};function sD(i,t){let e=i.readTime.compareTo(t.readTime);return e!==0?e:(e=H.comparator(i.documentKey,t.documentKey),e!==0?e:ge(i.largestBatchId,t.largestBatchId))}var oD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",vm=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}};function Ho(i){return S(this,null,function*(){if(i.code!==M.FAILED_PRECONDITION||i.message!==oD)throw i;U("LocalStore","Unexpectedly lost primary lease")})}var P=class i{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Q(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new i((n,r)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(n,r)},this.catchCallback=s=>{this.wrapFailure(e,s).next(n,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{let e=t();return e instanceof i?e:i.resolve(e)}catch(e){return i.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):i.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):i.reject(e)}static resolve(t){return new i((e,n)=>{e(t)})}static reject(t){return new i((e,n)=>{n(t)})}static waitFor(t){return new i((e,n)=>{let r=0,s=0,o=!1;t.forEach(c=>{++r,c.next(()=>{++s,o&&s===r&&e()},l=>n(l))}),o=!0,s===r&&e()})}static or(t){let e=i.resolve(!1);for(let n of t)e=e.next(r=>r?i.resolve(r):n());return e}static forEach(t,e){let n=[];return t.forEach((r,s)=>{n.push(e.call(this,r,s))}),this.waitFor(n)}static mapArray(t,e){return new i((n,r)=>{let s=t.length,o=new Array(s),c=0;for(let l=0;l<s;l++){let h=l;e(t[h]).next(d=>{o[h]=d,++c,c===s&&n(o)},d=>r(d))}})}static doWhile(t,e){return new i((n,r)=>{let s=()=>{t()===!0?e().next(()=>{s()},r):n()};s()})}};function aD(i){let t=i.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function Ko(i){return i.name==="IndexedDbTransactionError"}var uw=(()=>{class i{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){let e=++this.previousValue;return this.se&&this.se(e),e}}return i.oe=-1,i})();function Nl(i){return i==null}function Vo(i){return i===0&&1/i==-1/0}function cD(i){return typeof i=="number"&&Number.isInteger(i)&&!Vo(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}var lD=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],RL=[...lD,"documentOverlays"],uD=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],dD=uD,hD=[...dD,"indexConfiguration","indexState","indexEntries"];var DL=[...hD,"globals"];function Mb(i){let t=0;for(let e in i)Object.prototype.hasOwnProperty.call(i,e)&&t++;return t}function qn(i,t){for(let e in i)Object.prototype.hasOwnProperty.call(i,e)&&t(e,i[e])}function dw(i){for(let t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}var je=class i{constructor(t,e){this.comparator=t,this.root=e||ui.EMPTY}insert(t,e){return new i(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,ui.BLACK,null,null))}remove(t){return new i(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ui.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){let n=this.comparator(t,e.key);if(n===0)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null}indexOf(t){let e=0,n=this.root;for(;!n.isEmpty();){let r=this.comparator(t,n.key);if(r===0)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,n)=>(t(e,n),!1))}toString(){let t=[];return this.inorderTraversal((e,n)=>(t.push(`${e}:${n}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Pr(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Pr(this.root,t,this.comparator,!1)}getReverseIterator(){return new Pr(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Pr(this.root,t,this.comparator,!0)}},Pr=class{constructor(t,e,n,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=e?n(t.key,e):1,e&&r&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}},ui=class i{constructor(t,e,n,r,s){this.key=t,this.value=e,this.color=n??i.RED,this.left=r??i.EMPTY,this.right=s??i.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,n,r,s){return new i(t??this.key,e??this.value,n??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,n){let r=this,s=n(t,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(t,e,n),null):s===0?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return i.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let n,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),e(t,r.key)===0){if(r.right.isEmpty())return i.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){let t=this.copy(null,null,i.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){let t=this.copy(null,null,i.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){let t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){let t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Q();let t=this.left.check();if(t!==this.right.check())throw Q();return t+(this.isRed()?0:1)}};ui.EMPTY=null,ui.RED=!0,ui.BLACK=!1;ui.EMPTY=new class{constructor(){this.size=0}get key(){throw Q()}get value(){throw Q()}get color(){throw Q()}get left(){throw Q()}get right(){throw Q()}copy(t,e,n,r,s){return this}insert(t,e,n){return new ui(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var dt=class i{constructor(t){this.comparator=t,this.data=new je(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,n)=>(t(e),!1))}forEachInRange(t,e){let n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){let r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let n;for(n=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){let e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new ol(this.data.getIterator())}getIteratorFrom(t){return new ol(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(n=>{e=e.add(n)}),e}isEqual(t){if(!(t instanceof i)||this.size!==t.size)return!1;let e=this.data.getIterator(),n=t.data.getIterator();for(;e.hasNext();){let r=e.getNext().key,s=n.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){let t=[];return this.forEach(e=>{t.push(e)}),t}toString(){let t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){let e=new i(this.comparator);return e.data=t,e}},ol=class{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Wt=class i{constructor(t){this.fields=t,t.sort(Nt.comparator)}static empty(){return new i([])}unionWith(t){let e=new dt(Nt.comparator);for(let n of this.fields)e=e.add(n);for(let n of t)e=e.add(n);return new i(e.toArray())}covers(t){for(let e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Fr(this.fields,t.fields,(e,n)=>e.isEqual(n))}};var al=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var ht=class i{constructor(t){this.binaryString=t}static fromBase64String(t){let e=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new al("Invalid base64 string: "+s):s}}(t);return new i(e)}static fromUint8Array(t){let e=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(t);return new i(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){let n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return ge(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}};ht.EMPTY_BYTE_STRING=new ht("");var mD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mi(i){if(Ie(!!i),typeof i=="string"){let t=0,e=mD.exec(i);if(Ie(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}let n=new Date(i);return{seconds:Math.floor(n.getTime()/1e3),nanos:t}}return{seconds:Ne(i.seconds),nanos:Ne(i.nanos)}}function Ne(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function rn(i){return typeof i=="string"?ht.fromBase64String(i):ht.fromUint8Array(i)}function $f(i){var t,e;return((e=(((t=i?.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||e===void 0?void 0:e.stringValue)==="server_timestamp"}function qf(i){let t=i.mapValue.fields.__previous_value__;return $f(t)?qf(t):t}function Fo(i){let t=Mi(i.mapValue.fields.__local_write_time__.timestampValue);return new Ke(t.seconds,t.nanos)}var ym=class{constructor(t,e,n,r,s,o,c,l,h){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=c,this.longPollingOptions=l,this.useFetchStreams=h}},cl=class i{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new i("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof i&&t.projectId===this.projectId&&t.database===this.database}};var Zc={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Un(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?$f(i)?4:mw(i)?9007199254740991:hw(i)?10:11:Q()}function mi(i,t){if(i===t)return!0;let e=Un(i);if(e!==Un(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===t.booleanValue;case 4:return Fo(i).isEqual(Fo(t));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;let o=Mi(r.timestampValue),c=Mi(s.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(i,t);case 5:return i.stringValue===t.stringValue;case 6:return function(r,s){return rn(r.bytesValue).isEqual(rn(s.bytesValue))}(i,t);case 7:return i.referenceValue===t.referenceValue;case 8:return function(r,s){return Ne(r.geoPointValue.latitude)===Ne(s.geoPointValue.latitude)&&Ne(r.geoPointValue.longitude)===Ne(s.geoPointValue.longitude)}(i,t);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Ne(r.integerValue)===Ne(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){let o=Ne(r.doubleValue),c=Ne(s.doubleValue);return o===c?Vo(o)===Vo(c):isNaN(o)&&isNaN(c)}return!1}(i,t);case 9:return Fr(i.arrayValue.values||[],t.arrayValue.values||[],mi);case 10:case 11:return function(r,s){let o=r.mapValue.fields||{},c=s.mapValue.fields||{};if(Mb(o)!==Mb(c))return!1;for(let l in o)if(o.hasOwnProperty(l)&&(c[l]===void 0||!mi(o[l],c[l])))return!1;return!0}(i,t);default:return Q()}}function Lo(i,t){return(i.values||[]).find(e=>mi(e,t))!==void 0}function Lr(i,t){if(i===t)return 0;let e=Un(i),n=Un(t);if(e!==n)return ge(e,n);switch(e){case 0:case 9007199254740991:return 0;case 1:return ge(i.booleanValue,t.booleanValue);case 2:return function(s,o){let c=Ne(s.integerValue||s.doubleValue),l=Ne(o.integerValue||o.doubleValue);return c<l?-1:c>l?1:c===l?0:isNaN(c)?isNaN(l)?0:-1:1}(i,t);case 3:return Pb(i.timestampValue,t.timestampValue);case 4:return Pb(Fo(i),Fo(t));case 5:return ge(i.stringValue,t.stringValue);case 6:return function(s,o){let c=rn(s),l=rn(o);return c.compareTo(l)}(i.bytesValue,t.bytesValue);case 7:return function(s,o){let c=s.split("/"),l=o.split("/");for(let h=0;h<c.length&&h<l.length;h++){let d=ge(c[h],l[h]);if(d!==0)return d}return ge(c.length,l.length)}(i.referenceValue,t.referenceValue);case 8:return function(s,o){let c=ge(Ne(s.latitude),Ne(o.latitude));return c!==0?c:ge(Ne(s.longitude),Ne(o.longitude))}(i.geoPointValue,t.geoPointValue);case 9:return Ob(i.arrayValue,t.arrayValue);case 10:return function(s,o){var c,l,h,d;let f=s.fields||{},p=o.fields||{},_=(c=f.value)===null||c===void 0?void 0:c.arrayValue,C=(l=p.value)===null||l===void 0?void 0:l.arrayValue,x=ge(((h=_?.values)===null||h===void 0?void 0:h.length)||0,((d=C?.values)===null||d===void 0?void 0:d.length)||0);return x!==0?x:Ob(_,C)}(i.mapValue,t.mapValue);case 11:return function(s,o){if(s===Zc.mapValue&&o===Zc.mapValue)return 0;if(s===Zc.mapValue)return 1;if(o===Zc.mapValue)return-1;let c=s.fields||{},l=Object.keys(c),h=o.fields||{},d=Object.keys(h);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){let p=ge(l[f],d[f]);if(p!==0)return p;let _=Lr(c[l[f]],h[d[f]]);if(_!==0)return _}return ge(l.length,d.length)}(i.mapValue,t.mapValue);default:throw Q()}}function Pb(i,t){if(typeof i=="string"&&typeof t=="string"&&i.length===t.length)return ge(i,t);let e=Mi(i),n=Mi(t),r=ge(e.seconds,n.seconds);return r!==0?r:ge(e.nanos,n.nanos)}function Ob(i,t){let e=i.values||[],n=t.values||[];for(let r=0;r<e.length&&r<n.length;++r){let s=Lr(e[r],n[r]);if(s)return s}return ge(e.length,n.length)}function Ur(i){return bm(i)}function bm(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(e){let n=Mi(e);return`time(${n.seconds},${n.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(e){return rn(e).toBase64()}(i.bytesValue):"referenceValue"in i?function(e){return H.fromName(e).toString()}(i.referenceValue):"geoPointValue"in i?function(e){return`geo(${e.latitude},${e.longitude})`}(i.geoPointValue):"arrayValue"in i?function(e){let n="[",r=!0;for(let s of e.values||[])r?r=!1:n+=",",n+=bm(s);return n+"]"}(i.arrayValue):"mapValue"in i?function(e){let n=Object.keys(e.fields||{}).sort(),r="{",s=!0;for(let o of n)s?s=!1:r+=",",r+=`${o}:${bm(e.fields[o])}`;return r+"}"}(i.mapValue):Q()}function wm(i){return!!i&&"integerValue"in i}function Gf(i){return!!i&&"arrayValue"in i}function Nb(i){return!!i&&"nullValue"in i}function Vb(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function tl(i){return!!i&&"mapValue"in i}function hw(i){var t,e;return((e=(((t=i?.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||e===void 0?void 0:e.stringValue)==="__vector__"}function Mo(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){let t={mapValue:{fields:{}}};return qn(i.mapValue.fields,(e,n)=>t.mapValue.fields[e]=Mo(n)),t}if(i.arrayValue){let t={arrayValue:{values:[]}};for(let e=0;e<(i.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Mo(i.arrayValue.values[e]);return t}return Object.assign({},i)}function mw(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var Ot=class i{constructor(t){this.value=t}static empty(){return new i({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let n=0;n<t.length-1;++n)if(e=(e.mapValue.fields||{})[t.get(n)],!tl(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Mo(e)}setAll(t){let e=Nt.emptyPath(),n={},r=[];t.forEach((o,c)=>{if(!e.isImmediateParentOf(c)){let l=this.getFieldsMap(e);this.applyChanges(l,n,r),n={},r=[],e=c.popLast()}o?n[c.lastSegment()]=Mo(o):r.push(c.lastSegment())});let s=this.getFieldsMap(e);this.applyChanges(s,n,r)}delete(t){let e=this.field(t.popLast());tl(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return mi(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let n=0;n<t.length;++n){let r=e.mapValue.fields[t.get(n)];tl(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,n){qn(e,(r,s)=>t[r]=s);for(let r of n)delete t[r]}clone(){return new i(Mo(this.value))}};function fw(i){let t=[];return qn(i.fields,(e,n)=>{let r=new Nt([e]);if(tl(n)){let s=fw(n.mapValue).fields;if(s.length===0)t.push(r);else for(let o of s)t.push(r.child(o))}else t.push(r)}),new Wt(t)}var ni=class i{constructor(t,e,n,r,s,o,c){this.key=t,this.documentType=e,this.version=n,this.readTime=r,this.createTime=s,this.data=o,this.documentState=c}static newInvalidDocument(t){return new i(t,0,ie.min(),ie.min(),ie.min(),Ot.empty(),0)}static newFoundDocument(t,e,n,r){return new i(t,1,e,ie.min(),n,r,0)}static newNoDocument(t,e){return new i(t,2,e,ie.min(),ie.min(),Ot.empty(),0)}static newUnknownDocument(t,e){return new i(t,3,e,ie.min(),ie.min(),Ot.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ot.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ot.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ie.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof i&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new i(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var jr=class{constructor(t,e){this.position=t,this.inclusive=e}};function Fb(i,t,e){let n=0;for(let r=0;r<i.position.length;r++){let s=t[r],o=i.position[r];if(s.field.isKeyField()?n=H.comparator(H.fromName(o.referenceValue),e.key):n=Lr(o,e.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function Lb(i,t){if(i===null)return t===null;if(t===null||i.inclusive!==t.inclusive||i.position.length!==t.position.length)return!1;for(let e=0;e<i.position.length;e++)if(!mi(i.position[e],t.position[e]))return!1;return!0}var Br=class{constructor(t,e="asc"){this.field=t,this.dir=e}};function fD(i,t){return i.dir===t.dir&&i.field.isEqual(t.field)}var ll=class{},He=class i extends ll{constructor(t,e,n){super(),this.field=t,this.op=e,this.value=n}static create(t,e,n){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,n):new Em(t,e,n):e==="array-contains"?new Cm(t,n):e==="in"?new Sm(t,n):e==="not-in"?new km(t,n):e==="array-contains-any"?new Rm(t,n):new i(t,e,n)}static createKeyFieldInFilter(t,e,n){return e==="in"?new Tm(t,n):new Am(t,n)}matches(t){let e=t.data.field(this.field);return this.op==="!="?e!==null&&this.matchesComparison(Lr(e,this.value)):e!==null&&Un(this.value)===Un(e)&&this.matchesComparison(Lr(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Q()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},fi=class i extends ll{constructor(t,e){super(),this.filters=t,this.op=e,this.ae=null}static create(t,e){return new i(t,e)}matches(t){return pw(this)?this.filters.find(e=>!e.matches(t))===void 0:this.filters.find(e=>e.matches(t))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((t,e)=>t.concat(e.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function pw(i){return i.op==="and"}function gw(i){return pD(i)&&pw(i)}function pD(i){for(let t of i.filters)if(t instanceof fi)return!1;return!0}function Im(i){if(i instanceof He)return i.field.canonicalString()+i.op.toString()+Ur(i.value);if(gw(i))return i.filters.map(t=>Im(t)).join(",");{let t=i.filters.map(e=>Im(e)).join(",");return`${i.op}(${t})`}}function _w(i,t){return i instanceof He?function(n,r){return r instanceof He&&n.op===r.op&&n.field.isEqual(r.field)&&mi(n.value,r.value)}(i,t):i instanceof fi?function(n,r){return r instanceof fi&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((s,o,c)=>s&&_w(o,r.filters[c]),!0):!1}(i,t):void Q()}function vw(i){return i instanceof He?function(e){return`${e.field.canonicalString()} ${e.op} ${Ur(e.value)}`}(i):i instanceof fi?function(e){return e.op.toString()+" {"+e.getFilters().map(vw).join(" ,")+"}"}(i):"Filter"}var Em=class extends He{constructor(t,e,n){super(t,e,n),this.key=H.fromName(n.referenceValue)}matches(t){let e=H.comparator(t.key,this.key);return this.matchesComparison(e)}},Tm=class extends He{constructor(t,e){super(t,"in",e),this.keys=yw("in",e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}},Am=class extends He{constructor(t,e){super(t,"not-in",e),this.keys=yw("not-in",e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}};function yw(i,t){var e;return(((e=t.arrayValue)===null||e===void 0?void 0:e.values)||[]).map(n=>H.fromName(n.referenceValue))}var Cm=class extends He{constructor(t,e){super(t,"array-contains",e)}matches(t){let e=t.data.field(this.field);return Gf(e)&&Lo(e.arrayValue,this.value)}},Sm=class extends He{constructor(t,e){super(t,"in",e)}matches(t){let e=t.data.field(this.field);return e!==null&&Lo(this.value.arrayValue,e)}},km=class extends He{constructor(t,e){super(t,"not-in",e)}matches(t){if(Lo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let e=t.data.field(this.field);return e!==null&&!Lo(this.value.arrayValue,e)}},Rm=class extends He{constructor(t,e){super(t,"array-contains-any",e)}matches(t){let e=t.data.field(this.field);return!(!Gf(e)||!e.arrayValue.values)&&e.arrayValue.values.some(n=>Lo(this.value.arrayValue,n))}};var Dm=class{constructor(t,e=null,n=[],r=[],s=null,o=null,c=null){this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=s,this.startAt=o,this.endAt=c,this.ue=null}};function Ub(i,t=null,e=[],n=[],r=null,s=null,o=null){return new Dm(i,t,e,n,r,s,o)}function Wf(i){let t=te(i);if(t.ue===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(n=>Im(n)).join(","),e+="|ob:",e+=t.orderBy.map(n=>function(s){return s.field.canonicalString()+s.dir}(n)).join(","),Nl(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(n=>Ur(n)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(n=>Ur(n)).join(",")),t.ue=e}return t.ue}function Hf(i,t){if(i.limit!==t.limit||i.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<i.orderBy.length;e++)if(!fD(i.orderBy[e],t.orderBy[e]))return!1;if(i.filters.length!==t.filters.length)return!1;for(let e=0;e<i.filters.length;e++)if(!_w(i.filters[e],t.filters[e]))return!1;return i.collectionGroup===t.collectionGroup&&!!i.path.isEqual(t.path)&&!!Lb(i.startAt,t.startAt)&&Lb(i.endAt,t.endAt)}function xm(i){return H.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}var zr=class{constructor(t,e=null,n=[],r=[],s=null,o="F",c=null,l=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=s,this.limitType=o,this.startAt=c,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function gD(i,t,e,n,r,s,o,c){return new zr(i,t,e,n,r,s,o,c)}function Kf(i){return new zr(i)}function jb(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function _D(i){return i.collectionGroup!==null}function Po(i){let t=te(i);if(t.ce===null){t.ce=[];let e=new Set;for(let s of t.explicitOrderBy)t.ce.push(s),e.add(s.field.canonicalString());let n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(o){let c=new dt(Nt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(h=>{h.isInequality()&&(c=c.add(h.field))})}),c})(t).forEach(s=>{e.has(s.canonicalString())||s.isKeyField()||t.ce.push(new Br(s,n))}),e.has(Nt.keyField().canonicalString())||t.ce.push(new Br(Nt.keyField(),n))}return t.ce}function di(i){let t=te(i);return t.le||(t.le=vD(t,Po(i))),t.le}function vD(i,t){if(i.limitType==="F")return Ub(i.path,i.collectionGroup,t,i.filters,i.limit,i.startAt,i.endAt);{t=t.map(r=>{let s=r.dir==="desc"?"asc":"desc";return new Br(r.field,s)});let e=i.endAt?new jr(i.endAt.position,i.endAt.inclusive):null,n=i.startAt?new jr(i.startAt.position,i.startAt.inclusive):null;return Ub(i.path,i.collectionGroup,t,i.filters,i.limit,e,n)}}function Mm(i,t,e){return new zr(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),t,e,i.startAt,i.endAt)}function Vl(i,t){return Hf(di(i),di(t))&&i.limitType===t.limitType}function bw(i){return`${Wf(di(i))}|lt:${i.limitType}`}function Dr(i){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>vw(r)).join(", ")}]`),Nl(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ur(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ur(r)).join(",")),`Target(${n})`}(di(i))}; limitType=${i.limitType})`}function Fl(i,t){return t.isFoundDocument()&&function(n,r){let s=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):H.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(i,t)&&function(n,r){for(let s of Po(n))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(i,t)&&function(n,r){for(let s of n.filters)if(!s.matches(r))return!1;return!0}(i,t)&&function(n,r){return!(n.startAt&&!function(o,c,l){let h=Fb(o,c,l);return o.inclusive?h<=0:h<0}(n.startAt,Po(n),r)||n.endAt&&!function(o,c,l){let h=Fb(o,c,l);return o.inclusive?h>=0:h>0}(n.endAt,Po(n),r))}(i,t)}function yD(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function ww(i){return(t,e)=>{let n=!1;for(let r of Po(i)){let s=bD(r,t,e);if(s!==0)return s;n=n||r.field.isKeyField()}return 0}}function bD(i,t,e){let n=i.field.isKeyField()?H.comparator(t.key,e.key):function(s,o,c){let l=o.data.field(s),h=c.data.field(s);return l!==null&&h!==null?Lr(l,h):Q()}(i.field,t,e);switch(i.dir){case"asc":return n;case"desc":return-1*n;default:return Q()}}var sn=class{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){let e=this.mapKeyFn(t),n=this.inner[e];if(n!==void 0){for(let[r,s]of n)if(this.equalsFn(r,t))return s}}has(t){return this.get(t)!==void 0}set(t,e){let n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return this.inner[n]=[[t,e]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],t))return void(r[s]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){let e=this.mapKeyFn(t),n=this.inner[e];if(n===void 0)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return n.length===1?delete this.inner[e]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(t){qn(this.inner,(e,n)=>{for(let[r,s]of n)t(r,s)})}isEmpty(){return dw(this.inner)}size(){return this.innerSize}};var wD=new je(H.comparator);function Pi(){return wD}var Iw=new je(H.comparator);function xo(...i){let t=Iw;for(let e of i)t=t.insert(e.key,e);return t}function Ew(i){let t=Iw;return i.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function Pn(){return Oo()}function Tw(){return Oo()}function Oo(){return new sn(i=>i.toString(),(i,t)=>i.isEqual(t))}var ID=new je(H.comparator),ED=new dt(H.comparator);function ae(...i){let t=ED;for(let e of i)t=t.add(e);return t}var TD=new dt(ge);function AD(){return TD}function Qf(i,t){if(i.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vo(t)?"-0":t}}function Aw(i){return{integerValue:""+i}}function CD(i,t){return cD(t)?Aw(t):Qf(i,t)}var $r=class{constructor(){this._=void 0}};function SD(i,t,e){return i instanceof qr?function(r,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&$f(s)&&(s=qf(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(e,t):i instanceof jn?Sw(i,t):i instanceof Bn?kw(i,t):function(r,s){let o=Cw(r,s),c=Bb(o)+Bb(r.Pe);return wm(o)&&wm(r.Pe)?Aw(c):Qf(r.serializer,c)}(i,t)}function kD(i,t,e){return i instanceof jn?Sw(i,t):i instanceof Bn?kw(i,t):e}function Cw(i,t){return i instanceof Gr?function(n){return wm(n)||function(s){return!!s&&"doubleValue"in s}(n)}(t)?t:{integerValue:0}:null}var qr=class extends $r{},jn=class extends $r{constructor(t){super(),this.elements=t}};function Sw(i,t){let e=Rw(t);for(let n of i.elements)e.some(r=>mi(r,n))||e.push(n);return{arrayValue:{values:e}}}var Bn=class extends $r{constructor(t){super(),this.elements=t}};function kw(i,t){let e=Rw(t);for(let n of i.elements)e=e.filter(r=>!mi(r,n));return{arrayValue:{values:e}}}var Gr=class extends $r{constructor(t,e){super(),this.serializer=t,this.Pe=e}};function Bb(i){return Ne(i.integerValue||i.doubleValue)}function Rw(i){return Gf(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function RD(i,t){return i.field.isEqual(t.field)&&function(n,r){return n instanceof jn&&r instanceof jn||n instanceof Bn&&r instanceof Bn?Fr(n.elements,r.elements,mi):n instanceof Gr&&r instanceof Gr?mi(n.Pe,r.Pe):n instanceof qr&&r instanceof qr}(i.transform,t.transform)}var Pm=class{constructor(t,e){this.version=t,this.transformResults=e}},tn=class i{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new i}static exists(t){return new i(void 0,t)}static updateTime(t){return new i(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}};function il(i,t){return i.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(i.updateTime):i.exists===void 0||i.exists===t.isFoundDocument()}var Wr=class{};function Dw(i,t){if(!i.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return i.isNoDocument()?new ul(i.key,tn.none()):new zn(i.key,i.data,tn.none());{let e=i.data,n=Ot.empty(),r=new dt(Nt.comparator);for(let s of t.fields)if(!r.has(s)){let o=e.field(s);o===null&&s.length>1&&(s=s.popLast(),o=e.field(s)),o===null?n.delete(s):n.set(s,o),r=r.add(s)}return new pi(i.key,n,new Wt(r.toArray()),tn.none())}}function DD(i,t,e){i instanceof zn?function(r,s,o){let c=r.value.clone(),l=$b(r.fieldTransforms,s,o.transformResults);c.setAll(l),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(i,t,e):i instanceof pi?function(r,s,o){if(!il(r.precondition,s))return void s.convertToUnknownDocument(o.version);let c=$b(r.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(xw(r)),l.setAll(c),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(i,t,e):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,t,e)}function No(i,t,e,n){return i instanceof zn?function(s,o,c,l){if(!il(s.precondition,o))return c;let h=s.value.clone(),d=qb(s.fieldTransforms,l,o);return h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),null}(i,t,e,n):i instanceof pi?function(s,o,c,l){if(!il(s.precondition,o))return c;let h=qb(s.fieldTransforms,l,o),d=o.data;return d.setAll(xw(s)),d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(i,t,e,n):function(s,o,c){return il(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c}(i,t,e)}function xD(i,t){let e=null;for(let n of i.fieldTransforms){let r=t.data.field(n.field),s=Cw(n.transform,r||null);s!=null&&(e===null&&(e=Ot.empty()),e.set(n.field,s))}return e||null}function zb(i,t){return i.type===t.type&&!!i.key.isEqual(t.key)&&!!i.precondition.isEqual(t.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&Fr(n,r,(s,o)=>RD(s,o))}(i.fieldTransforms,t.fieldTransforms)&&(i.type===0?i.value.isEqual(t.value):i.type!==1||i.data.isEqual(t.data)&&i.fieldMask.isEqual(t.fieldMask))}var zn=class extends Wr{constructor(t,e,n,r=[]){super(),this.key=t,this.value=e,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},pi=class extends Wr{constructor(t,e,n,r,s=[]){super(),this.key=t,this.data=e,this.fieldMask=n,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function xw(i){let t=new Map;return i.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){let n=i.data.field(e);t.set(e,n)}}),t}function $b(i,t,e){let n=new Map;Ie(i.length===e.length);for(let r=0;r<e.length;r++){let s=i[r],o=s.transform,c=t.data.field(s.field);n.set(s.field,kD(o,c,e[r]))}return n}function qb(i,t,e){let n=new Map;for(let r of i){let s=r.transform,o=e.data.field(r.field);n.set(r.field,SD(s,o,t))}return n}var ul=class extends Wr{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Om=class extends Wr{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Nm=class{constructor(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(t,e){let n=e.mutationResults;for(let r=0;r<this.mutations.length;r++){let s=this.mutations[r];s.key.isEqual(t.key)&&DD(s,t,n[r])}}applyToLocalView(t,e){for(let n of this.baseMutations)n.key.isEqual(t.key)&&(e=No(n,t,e,this.localWriteTime));for(let n of this.mutations)n.key.isEqual(t.key)&&(e=No(n,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){let n=Tw();return this.mutations.forEach(r=>{let s=t.get(r.key),o=s.overlayedDocument,c=this.applyToLocalView(o,s.mutatedFields);c=e.has(r.key)?null:c;let l=Dw(o,c);l!==null&&n.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(ie.min())}),n}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),ae())}isEqual(t){return this.batchId===t.batchId&&Fr(this.mutations,t.mutations,(e,n)=>zb(e,n))&&Fr(this.baseMutations,t.baseMutations,(e,n)=>zb(e,n))}},Vm=class i{constructor(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}static from(t,e,n){Ie(t.mutations.length===n.length);let r=function(){return ID}(),s=t.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,n[o].version);return new i(t,e,n,r)}};var Fm=class{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Lm=class{constructor(t,e){this.count=t,this.unchangedNames=e}};var ze,ue;function MD(i){switch(i){default:return Q();case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0}}function Mw(i){if(i===void 0)return xi("GRPC error has no .code"),M.UNKNOWN;switch(i){case ze.OK:return M.OK;case ze.CANCELLED:return M.CANCELLED;case ze.UNKNOWN:return M.UNKNOWN;case ze.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case ze.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case ze.INTERNAL:return M.INTERNAL;case ze.UNAVAILABLE:return M.UNAVAILABLE;case ze.UNAUTHENTICATED:return M.UNAUTHENTICATED;case ze.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case ze.NOT_FOUND:return M.NOT_FOUND;case ze.ALREADY_EXISTS:return M.ALREADY_EXISTS;case ze.PERMISSION_DENIED:return M.PERMISSION_DENIED;case ze.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case ze.ABORTED:return M.ABORTED;case ze.OUT_OF_RANGE:return M.OUT_OF_RANGE;case ze.UNIMPLEMENTED:return M.UNIMPLEMENTED;case ze.DATA_LOSS:return M.DATA_LOSS;default:return Q()}}(ue=ze||(ze={}))[ue.OK=0]="OK",ue[ue.CANCELLED=1]="CANCELLED",ue[ue.UNKNOWN=2]="UNKNOWN",ue[ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ue[ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ue[ue.NOT_FOUND=5]="NOT_FOUND",ue[ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",ue[ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",ue[ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",ue[ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ue[ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ue[ue.ABORTED=10]="ABORTED",ue[ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",ue[ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",ue[ue.INTERNAL=13]="INTERNAL",ue[ue.UNAVAILABLE=14]="UNAVAILABLE",ue[ue.DATA_LOSS=15]="DATA_LOSS";var Gb=null;function PD(){return new TextEncoder}var OD=new en([4294967295,4294967295],0);function Wb(i){let t=PD().encode(i),e=new em;return e.update(t),new Uint8Array(e.digest())}function Hb(i){let t=new DataView(i.buffer),e=t.getUint32(0,!0),n=t.getUint32(4,!0),r=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new en([e,n],0),new en([r,s],0)]}var Um=class i{constructor(t,e,n){if(this.bitmap=t,this.padding=e,this.hashCount=n,e<0||e>=8)throw new On(`Invalid padding: ${e}`);if(n<0)throw new On(`Invalid hash count: ${n}`);if(t.length>0&&this.hashCount===0)throw new On(`Invalid hash count: ${n}`);if(t.length===0&&e!==0)throw new On(`Invalid padding when bitmap length is 0: ${e}`);this.Ie=8*t.length-e,this.Te=en.fromNumber(this.Ie)}Ee(t,e,n){let r=t.add(e.multiply(en.fromNumber(n)));return r.compare(OD)===1&&(r=new en([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.Ie===0)return!1;let e=Wb(t),[n,r]=Hb(e);for(let s=0;s<this.hashCount;s++){let o=this.Ee(n,r,s);if(!this.de(o))return!1}return!0}static create(t,e,n){let r=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new i(s,r,e);return n.forEach(c=>o.insert(c)),o}insert(t){if(this.Ie===0)return;let e=Wb(t),[n,r]=Hb(e);for(let s=0;s<this.hashCount;s++){let o=this.Ee(n,r,s);this.Ae(o)}}Ae(t){let e=Math.floor(t/8),n=t%8;this.bitmap[e]|=1<<n}},On=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var dl=class i{constructor(t,e,n,r,s){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,e,n){let r=new Map;return r.set(t,Uo.createSynthesizedTargetChangeForCurrentChange(t,e,n)),new i(ie.min(),r,new je(ge),Pi(),ae())}},Uo=class i{constructor(t,e,n,r,s){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,e,n){return new i(n,e,ae(),ae(),ae())}};var Or=class{constructor(t,e,n,r){this.Re=t,this.removedTargetIds=e,this.key=n,this.Ve=r}},hl=class{constructor(t,e){this.targetId=t,this.me=e}},ml=class{constructor(t,e,n=ht.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r}},fl=class{constructor(){this.fe=0,this.ge=Qb(),this.pe=ht.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(t){t.approximateByteSize()>0&&(this.we=!0,this.pe=t)}ve(){let t=ae(),e=ae(),n=ae();return this.ge.forEach((r,s)=>{switch(s){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Q()}}),new Uo(this.pe,this.ye,t,e,n)}Ce(){this.we=!1,this.ge=Qb()}Fe(t,e){this.we=!0,this.ge=this.ge.insert(t,e)}Me(t){this.we=!0,this.ge=this.ge.remove(t)}xe(){this.fe+=1}Oe(){this.fe-=1,Ie(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},jm=class{constructor(t){this.Le=t,this.Be=new Map,this.ke=Pi(),this.qe=Kb(),this.Qe=new je(ge)}Ke(t){for(let e of t.Re)t.Ve&&t.Ve.isFoundDocument()?this.$e(e,t.Ve):this.Ue(e,t.key,t.Ve);for(let e of t.removedTargetIds)this.Ue(e,t.key,t.Ve)}We(t){this.forEachTarget(t,e=>{let n=this.Ge(e);switch(t.state){case 0:this.ze(e)&&n.De(t.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(t.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(e);break;case 3:this.ze(e)&&(n.Ne(),n.De(t.resumeToken));break;case 4:this.ze(e)&&(this.je(e),n.De(t.resumeToken));break;default:Q()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Be.forEach((n,r)=>{this.ze(r)&&e(r)})}He(t){let e=t.targetId,n=t.me.count,r=this.Je(e);if(r){let s=r.target;if(xm(s))if(n===0){let o=new H(s.path);this.Ue(e,o,ni.newNoDocument(o,ie.min()))}else Ie(n===1);else{let o=this.Ye(e);if(o!==n){let c=this.Ze(t),l=c?this.Xe(c,t,o):1;if(l!==0){this.je(e);let h=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(e,h)}Gb?.et(function(d,f,p,_,C){var x,D,W,Y,K,ce;let qe={localCacheCount:d,existenceFilterCount:f.count,databaseId:p.database,projectId:p.projectId},be=f.unchangedNames;return be&&(qe.bloomFilter={applied:C===0,hashCount:(x=be?.hashCount)!==null&&x!==void 0?x:0,bitmapLength:(Y=(W=(D=be?.bits)===null||D===void 0?void 0:D.bitmap)===null||W===void 0?void 0:W.length)!==null&&Y!==void 0?Y:0,padding:(ce=(K=be?.bits)===null||K===void 0?void 0:K.padding)!==null&&ce!==void 0?ce:0,mightContain:I=>{var v;return(v=_?.mightContain(I))!==null&&v!==void 0&&v}}),qe}(o,t.me,this.Le.tt(),c,l))}}}}Ze(t){let e=t.me.unchangedNames;if(!e||!e.bits)return null;let{bits:{bitmap:n="",padding:r=0},hashCount:s=0}=e,o,c;try{o=rn(n).toUint8Array()}catch(l){if(l instanceof al)return Vr("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{c=new Um(o,r,s)}catch(l){return Vr(l instanceof On?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return c.Ie===0?null:c}Xe(t,e,n){return e.me.count===n-this.nt(t,e.targetId)?0:2}nt(t,e){let n=this.Le.getRemoteKeysForTarget(e),r=0;return n.forEach(s=>{let o=this.Le.tt(),c=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;t.mightContain(c)||(this.Ue(e,s,null),r++)}),r}rt(t){let e=new Map;this.Be.forEach((s,o)=>{let c=this.Je(o);if(c){if(s.current&&xm(c.target)){let l=new H(c.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,ni.newNoDocument(l,t))}s.be&&(e.set(o,s.ve()),s.Ce())}});let n=ae();this.qe.forEach((s,o)=>{let c=!0;o.forEachWhile(l=>{let h=this.Je(l);return!h||h.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(n=n.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(t));let r=new dl(t,e,this.Qe,this.ke,n);return this.ke=Pi(),this.qe=Kb(),this.Qe=new je(ge),r}$e(t,e){if(!this.ze(t))return;let n=this.it(t,e.key)?2:0;this.Ge(t).Fe(e.key,n),this.ke=this.ke.insert(e.key,e),this.qe=this.qe.insert(e.key,this.st(e.key).add(t))}Ue(t,e,n){if(!this.ze(t))return;let r=this.Ge(t);this.it(t,e)?r.Fe(e,1):r.Me(e),this.qe=this.qe.insert(e,this.st(e).delete(t)),n&&(this.ke=this.ke.insert(e,n))}removeTarget(t){this.Be.delete(t)}Ye(t){let e=this.Ge(t).ve();return this.Le.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}xe(t){this.Ge(t).xe()}Ge(t){let e=this.Be.get(t);return e||(e=new fl,this.Be.set(t,e)),e}st(t){let e=this.qe.get(t);return e||(e=new dt(ge),this.qe=this.qe.insert(t,e)),e}ze(t){let e=this.Je(t)!==null;return e||U("WatchChangeAggregator","Detected inactive target",t),e}Je(t){let e=this.Be.get(t);return e&&e.Se?null:this.Le.ot(t)}je(t){this.Be.set(t,new fl),this.Le.getRemoteKeysForTarget(t).forEach(e=>{this.Ue(t,e,null)})}it(t,e){return this.Le.getRemoteKeysForTarget(t).has(e)}};function Kb(){return new je(H.comparator)}function Qb(){return new je(H.comparator)}var ND={asc:"ASCENDING",desc:"DESCENDING"},VD={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},FD={and:"AND",or:"OR"},Bm=class{constructor(t,e){this.databaseId=t,this.useProto3Json=e}};function zm(i,t){return i.useProto3Json||Nl(t)?t:{value:t}}function pl(i,t){return i.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Pw(i,t){return i.useProto3Json?t.toBase64():t.toUint8Array()}function LD(i,t){return pl(i,t.toTimestamp())}function hi(i){return Ie(!!i),ie.fromTimestamp(function(e){let n=Mi(e);return new Ke(n.seconds,n.nanos)}(i))}function Yf(i,t){return $m(i,t).canonicalString()}function $m(i,t){let e=function(r){return new Ue(["projects",r.projectId,"databases",r.database])}(i).child("documents");return t===void 0?e:e.child(t)}function Ow(i){let t=Ue.fromString(i);return Ie(Uw(t)),t}function qm(i,t){return Yf(i.databaseId,t.path)}function om(i,t){let e=Ow(t);if(e.get(1)!==i.databaseId.projectId)throw new q(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+i.databaseId.projectId);if(e.get(3)!==i.databaseId.database)throw new q(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+i.databaseId.database);return new H(Vw(e))}function Nw(i,t){return Yf(i.databaseId,t)}function UD(i){let t=Ow(i);return t.length===4?Ue.emptyPath():Vw(t)}function Gm(i){return new Ue(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Vw(i){return Ie(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function Yb(i,t,e){return{name:qm(i,t),fields:e.value.mapValue.fields}}function jD(i,t){let e;if("targetChange"in t){t.targetChange;let n=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Q()}(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],s=function(h,d){return h.useProto3Json?(Ie(d===void 0||typeof d=="string"),ht.fromBase64String(d||"")):(Ie(d===void 0||d instanceof Buffer||d instanceof Uint8Array),ht.fromUint8Array(d||new Uint8Array))}(i,t.targetChange.resumeToken),o=t.targetChange.cause,c=o&&function(h){let d=h.code===void 0?M.UNKNOWN:Mw(h.code);return new q(d,h.message||"")}(o);e=new ml(n,r,s,c||null)}else if("documentChange"in t){t.documentChange;let n=t.documentChange;n.document,n.document.name,n.document.updateTime;let r=om(i,n.document.name),s=hi(n.document.updateTime),o=n.document.createTime?hi(n.document.createTime):ie.min(),c=new Ot({mapValue:{fields:n.document.fields}}),l=ni.newFoundDocument(r,s,o,c),h=n.targetIds||[],d=n.removedTargetIds||[];e=new Or(h,d,l.key,l)}else if("documentDelete"in t){t.documentDelete;let n=t.documentDelete;n.document;let r=om(i,n.document),s=n.readTime?hi(n.readTime):ie.min(),o=ni.newNoDocument(r,s),c=n.removedTargetIds||[];e=new Or([],c,o.key,o)}else if("documentRemove"in t){t.documentRemove;let n=t.documentRemove;n.document;let r=om(i,n.document),s=n.removedTargetIds||[];e=new Or([],s,r,null)}else{if(!("filter"in t))return Q();{t.filter;let n=t.filter;n.targetId;let{count:r=0,unchangedNames:s}=n,o=new Lm(r,s),c=n.targetId;e=new hl(c,o)}}return e}function BD(i,t){let e;if(t instanceof zn)e={update:Yb(i,t.key,t.value)};else if(t instanceof ul)e={delete:qm(i,t.key)};else if(t instanceof pi)e={update:Yb(i,t.key,t.data),updateMask:YD(t.fieldMask)};else{if(!(t instanceof Om))return Q();e={verify:qm(i,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(n=>function(s,o){let c=o.transform;if(c instanceof qr)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof jn)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Bn)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Gr)return{fieldPath:o.field.canonicalString(),increment:c.Pe};throw Q()}(0,n))),t.precondition.isNone||(e.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:LD(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Q()}(i,t.precondition)),e}function zD(i,t){return i&&i.length>0?(Ie(t!==void 0),i.map(e=>function(r,s){let o=r.updateTime?hi(r.updateTime):hi(s);return o.isEqual(ie.min())&&(o=hi(s)),new Pm(o,r.transformResults||[])}(e,t))):[]}function $D(i,t){return{documents:[Nw(i,t.path)]}}function qD(i,t){let e={structuredQuery:{}},n=t.path,r;t.collectionGroup!==null?(r=n,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=n.popLast(),e.structuredQuery.from=[{collectionId:n.lastSegment()}]),e.parent=Nw(i,r);let s=function(h){if(h.length!==0)return Lw(fi.create(h,"and"))}(t.filters);s&&(e.structuredQuery.where=s);let o=function(h){if(h.length!==0)return h.map(d=>function(p){return{field:xr(p.field),direction:HD(p.dir)}}(d))}(t.orderBy);o&&(e.structuredQuery.orderBy=o);let c=zm(i,t.limit);return c!==null&&(e.structuredQuery.limit=c),t.startAt&&(e.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(t.startAt)),t.endAt&&(e.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(t.endAt)),{_t:e,parent:r}}function GD(i){let t=UD(i.parent),e=i.structuredQuery,n=e.from?e.from.length:0,r=null;if(n>0){Ie(n===1);let d=e.from[0];d.allDescendants?r=d.collectionId:t=t.child(d.collectionId)}let s=[];e.where&&(s=function(f){let p=Fw(f);return p instanceof fi&&gw(p)?p.getFilters():[p]}(e.where));let o=[];e.orderBy&&(o=function(f){return f.map(p=>function(C){return new Br(Mr(C.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(p))}(e.orderBy));let c=null;e.limit&&(c=function(f){let p;return p=typeof f=="object"?f.value:f,Nl(p)?null:p}(e.limit));let l=null;e.startAt&&(l=function(f){let p=!!f.before,_=f.values||[];return new jr(_,p)}(e.startAt));let h=null;return e.endAt&&(h=function(f){let p=!f.before,_=f.values||[];return new jr(_,p)}(e.endAt)),gD(t,r,o,s,c,"F",l,h)}function WD(i,t){let e=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Q()}}(t.purpose);return e==null?null:{"goog-listen-tags":e}}function Fw(i){return i.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":let n=Mr(e.unaryFilter.field);return He.create(n,"==",{doubleValue:NaN});case"IS_NULL":let r=Mr(e.unaryFilter.field);return He.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Mr(e.unaryFilter.field);return He.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Mr(e.unaryFilter.field);return He.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Q()}}(i):i.fieldFilter!==void 0?function(e){return He.create(Mr(e.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Q()}}(e.fieldFilter.op),e.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(e){return fi.create(e.compositeFilter.filters.map(n=>Fw(n)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Q()}}(e.compositeFilter.op))}(i):Q()}function HD(i){return ND[i]}function KD(i){return VD[i]}function QD(i){return FD[i]}function xr(i){return{fieldPath:i.canonicalString()}}function Mr(i){return Nt.fromServerFormat(i.fieldPath)}function Lw(i){return i instanceof He?function(e){if(e.op==="=="){if(Vb(e.value))return{unaryFilter:{field:xr(e.field),op:"IS_NAN"}};if(Nb(e.value))return{unaryFilter:{field:xr(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(Vb(e.value))return{unaryFilter:{field:xr(e.field),op:"IS_NOT_NAN"}};if(Nb(e.value))return{unaryFilter:{field:xr(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xr(e.field),op:KD(e.op),value:e.value}}}(i):i instanceof fi?function(e){let n=e.getFilters().map(r=>Lw(r));return n.length===1?n[0]:{compositeFilter:{op:QD(e.op),filters:n}}}(i):Q()}function YD(i){let t=[];return i.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Uw(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}var jo=class i{constructor(t,e,n,r,s=ie.min(),o=ie.min(),c=ht.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=c,this.expectedCount=l}withSequenceNumber(t){return new i(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new i(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new i(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}};var Wm=class{constructor(t){this.ct=t}};function XD(i){let t=GD({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Mm(t,t.limit,"L"):t}var gl=class{constructor(){}It(t,e){this.Tt(t,e),e.Et()}Tt(t,e){if("nullValue"in t)this.dt(e,5);else if("booleanValue"in t)this.dt(e,10),e.At(t.booleanValue?1:0);else if("integerValue"in t)this.dt(e,15),e.At(Ne(t.integerValue));else if("doubleValue"in t){let n=Ne(t.doubleValue);isNaN(n)?this.dt(e,13):(this.dt(e,15),Vo(n)?e.At(0):e.At(n))}else if("timestampValue"in t){let n=t.timestampValue;this.dt(e,20),typeof n=="string"&&(n=Mi(n)),e.Rt(`${n.seconds||""}`),e.At(n.nanos||0)}else if("stringValue"in t)this.Vt(t.stringValue,e),this.ft(e);else if("bytesValue"in t)this.dt(e,30),e.gt(rn(t.bytesValue)),this.ft(e);else if("referenceValue"in t)this.yt(t.referenceValue,e);else if("geoPointValue"in t){let n=t.geoPointValue;this.dt(e,45),e.At(n.latitude||0),e.At(n.longitude||0)}else"mapValue"in t?mw(t)?this.dt(e,Number.MAX_SAFE_INTEGER):hw(t)?this.wt(t.mapValue,e):(this.St(t.mapValue,e),this.ft(e)):"arrayValue"in t?(this.bt(t.arrayValue,e),this.ft(e)):Q()}Vt(t,e){this.dt(e,25),this.Dt(t,e)}Dt(t,e){e.Rt(t)}St(t,e){let n=t.fields||{};this.dt(e,55);for(let r of Object.keys(n))this.Vt(r,e),this.Tt(n[r],e)}wt(t,e){var n,r;let s=t.fields||{};this.dt(e,53);let o="value",c=((r=(n=s[o].arrayValue)===null||n===void 0?void 0:n.values)===null||r===void 0?void 0:r.length)||0;this.dt(e,15),e.At(Ne(c)),this.Vt(o,e),this.Tt(s[o],e)}bt(t,e){let n=t.values||[];this.dt(e,50);for(let r of n)this.Tt(r,e)}yt(t,e){this.dt(e,37),H.fromName(t).path.forEach(n=>{this.dt(e,60),this.Dt(n,e)})}dt(t,e){t.At(e)}ft(t){t.At(2)}};gl.vt=new gl;var Hm=class{constructor(){this.un=new Km}addToCollectionParentIndex(t,e){return this.un.add(e),P.resolve()}getCollectionParents(t,e){return P.resolve(this.un.getEntries(e))}addFieldIndex(t,e){return P.resolve()}deleteFieldIndex(t,e){return P.resolve()}deleteAllFieldIndexes(t){return P.resolve()}createTargetIndexes(t,e){return P.resolve()}getDocumentsMatchingTarget(t,e){return P.resolve(null)}getIndexType(t,e){return P.resolve(0)}getFieldIndexes(t,e){return P.resolve([])}getNextCollectionGroupToUpdate(t){return P.resolve(null)}getMinOffset(t,e){return P.resolve(Ln.min())}getMinOffsetFromCollectionGroup(t,e){return P.resolve(Ln.min())}updateCollectionGroup(t,e,n){return P.resolve()}updateIndexEntries(t,e){return P.resolve()}},Km=class{constructor(){this.index={}}add(t){let e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new dt(Ue.comparator),s=!r.has(n);return this.index[e]=r.add(n),s}has(t){let e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)}getEntries(t){return(this.index[t]||new dt(Ue.comparator)).toArray()}};var ML=new Uint8Array(0);var li=class i{constructor(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}static withCacheSize(t){return new i(t,i.DEFAULT_COLLECTION_PERCENTILE,i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};li.DEFAULT_COLLECTION_PERCENTILE=10,li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,li.DEFAULT=new li(41943040,li.DEFAULT_COLLECTION_PERCENTILE,li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),li.DISABLED=new li(-1,0,0);var Bo=class i{constructor(t){this.Ln=t}next(){return this.Ln+=2,this.Ln}static Bn(){return new i(0)}static kn(){return new i(-1)}};var Qm=class{constructor(){this.changes=new sn(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,ni.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();let n=this.changes.get(e);return n!==void 0?P.resolve(n):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}};var Ym=class{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}};var Xm=class{constructor(t,e,n,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=n,this.indexManager=r}getDocument(t,e){let n=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(n=r,this.remoteDocumentCache.getEntry(t,e))).next(r=>(n!==null&&No(n.mutation,r,Wt.empty(),Ke.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(n=>this.getLocalViewOfDocuments(t,n,ae()).next(()=>n))}getLocalViewOfDocuments(t,e,n=ae()){let r=Pn();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,n).next(s=>{let o=xo();return s.forEach((c,l)=>{o=o.insert(c,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,e){let n=Pn();return this.populateOverlays(t,n,e).next(()=>this.computeViews(t,e,n,ae()))}populateOverlays(t,e,n){let r=[];return n.forEach(s=>{e.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(t,r).next(s=>{s.forEach((o,c)=>{e.set(o,c)})})}computeViews(t,e,n,r){let s=Pi(),o=Oo(),c=function(){return Oo()}();return e.forEach((l,h)=>{let d=n.get(h.key);r.has(h.key)&&(d===void 0||d.mutation instanceof pi)?s=s.insert(h.key,h):d!==void 0?(o.set(h.key,d.mutation.getFieldMask()),No(d.mutation,h,d.mutation.getFieldMask(),Ke.now())):o.set(h.key,Wt.empty())}),this.recalculateAndSaveOverlays(t,s).next(l=>(l.forEach((h,d)=>o.set(h,d)),e.forEach((h,d)=>{var f;return c.set(h,new Ym(d,(f=o.get(h))!==null&&f!==void 0?f:null))}),c))}recalculateAndSaveOverlays(t,e){let n=Oo(),r=new je((o,c)=>o-c),s=ae();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(o=>{for(let c of o)c.keys().forEach(l=>{let h=e.get(l);if(h===null)return;let d=n.get(l)||Wt.empty();d=c.applyToLocalView(h,d),n.set(l,d);let f=(r.get(c.batchId)||ae()).add(l);r=r.insert(c.batchId,f)})}).next(()=>{let o=[],c=r.getReverseIterator();for(;c.hasNext();){let l=c.getNext(),h=l.key,d=l.value,f=Tw();d.forEach(p=>{if(!s.has(p)){let _=Dw(e.get(p),n.get(p));_!==null&&f.set(p,_),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(t,h,f))}return P.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(n=>this.recalculateAndSaveOverlays(t,n))}getDocumentsMatchingQuery(t,e,n,r){return function(o){return H.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):_D(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,n,r):this.getDocumentsMatchingCollectionQuery(t,e,n,r)}getNextDocuments(t,e,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,n,r).next(s=>{let o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,n.largestBatchId,r-s.size):P.resolve(Pn()),c=-1,l=s;return o.next(h=>P.forEach(h,(d,f)=>(c<f.largestBatchId&&(c=f.largestBatchId),s.get(d)?P.resolve():this.remoteDocumentCache.getEntry(t,d).next(p=>{l=l.insert(d,p)}))).next(()=>this.populateOverlays(t,h,s)).next(()=>this.computeViews(t,l,h,ae())).next(d=>({batchId:c,changes:Ew(d)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new H(e)).next(n=>{let r=xo();return n.isFoundDocument()&&(r=r.insert(n.key,n)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,n,r){let s=e.collectionGroup,o=xo();return this.indexManager.getCollectionParents(t,s).next(c=>P.forEach(c,l=>{let h=function(f,p){return new zr(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(e,l.child(s));return this.getDocumentsMatchingCollectionQuery(t,h,n,r).next(d=>{d.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,e,n,r){let s;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,n.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,n,s,r))).next(o=>{s.forEach((l,h)=>{let d=h.getKey();o.get(d)===null&&(o=o.insert(d,ni.newInvalidDocument(d)))});let c=xo();return o.forEach((l,h)=>{let d=s.get(l);d!==void 0&&No(d.mutation,h,Wt.empty(),Ke.now()),Fl(e,h)&&(c=c.insert(l,h))}),c})}};var Jm=class{constructor(t){this.serializer=t,this.hr=new Map,this.Pr=new Map}getBundleMetadata(t,e){return P.resolve(this.hr.get(e))}saveBundleMetadata(t,e){return this.hr.set(e.id,function(r){return{id:r.id,version:r.version,createTime:hi(r.createTime)}}(e)),P.resolve()}getNamedQuery(t,e){return P.resolve(this.Pr.get(e))}saveNamedQuery(t,e){return this.Pr.set(e.name,function(r){return{name:r.name,query:XD(r.bundledQuery),readTime:hi(r.readTime)}}(e)),P.resolve()}};var Zm=class{constructor(){this.overlays=new je(H.comparator),this.Ir=new Map}getOverlay(t,e){return P.resolve(this.overlays.get(e))}getOverlays(t,e){let n=Pn();return P.forEach(e,r=>this.getOverlay(t,r).next(s=>{s!==null&&n.set(r,s)})).next(()=>n)}saveOverlays(t,e,n){return n.forEach((r,s)=>{this.ht(t,e,s)}),P.resolve()}removeOverlaysForBatchId(t,e,n){let r=this.Ir.get(n);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(n)),P.resolve()}getOverlaysForCollection(t,e,n){let r=Pn(),s=e.length+1,o=new H(e.child("")),c=this.overlays.getIteratorFrom(o);for(;c.hasNext();){let l=c.getNext().value,h=l.getKey();if(!e.isPrefixOf(h.path))break;h.path.length===s&&l.largestBatchId>n&&r.set(l.getKey(),l)}return P.resolve(r)}getOverlaysForCollectionGroup(t,e,n,r){let s=new je((h,d)=>h-d),o=this.overlays.getIterator();for(;o.hasNext();){let h=o.getNext().value;if(h.getKey().getCollectionGroup()===e&&h.largestBatchId>n){let d=s.get(h.largestBatchId);d===null&&(d=Pn(),s=s.insert(h.largestBatchId,d)),d.set(h.getKey(),h)}}let c=Pn(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((h,d)=>c.set(h,d)),!(c.size()>=r)););return P.resolve(c)}ht(t,e,n){let r=this.overlays.get(n.key);if(r!==null){let o=this.Ir.get(r.largestBatchId).delete(n.key);this.Ir.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new Fm(e,n));let s=this.Ir.get(e);s===void 0&&(s=ae(),this.Ir.set(e,s)),this.Ir.set(e,s.add(n.key))}};var ef=class{constructor(){this.sessionToken=ht.EMPTY_BYTE_STRING}getSessionToken(t){return P.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,P.resolve()}};var zo=class{constructor(){this.Tr=new dt($e.Er),this.dr=new dt($e.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(t,e){let n=new $e(t,e);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(t,e){t.forEach(n=>this.addReference(n,e))}removeReference(t,e){this.Vr(new $e(t,e))}mr(t,e){t.forEach(n=>this.removeReference(n,e))}gr(t){let e=new H(new Ue([])),n=new $e(e,t),r=new $e(e,t+1),s=[];return this.dr.forEachInRange([n,r],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(t=>this.Vr(t))}Vr(t){this.Tr=this.Tr.delete(t),this.dr=this.dr.delete(t)}yr(t){let e=new H(new Ue([])),n=new $e(e,t),r=new $e(e,t+1),s=ae();return this.dr.forEachInRange([n,r],o=>{s=s.add(o.key)}),s}containsKey(t){let e=new $e(t,0),n=this.Tr.firstAfterOrEqual(e);return n!==null&&t.isEqual(n.key)}},$e=class{constructor(t,e){this.key=t,this.wr=e}static Er(t,e){return H.comparator(t.key,e.key)||ge(t.wr,e.wr)}static Ar(t,e){return ge(t.wr,e.wr)||H.comparator(t.key,e.key)}};var tf=class{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.Sr=1,this.br=new dt($e.Er)}checkEmpty(t){return P.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,n,r){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new Nm(s,e,n,r);this.mutationQueue.push(o);for(let c of r)this.br=this.br.add(new $e(c.key,s)),this.indexManager.addToCollectionParentIndex(t,c.key.path.popLast());return P.resolve(o)}lookupMutationBatch(t,e){return P.resolve(this.Dr(e))}getNextMutationBatchAfterBatchId(t,e){let n=e+1,r=this.vr(n),s=r<0?0:r;return P.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return P.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(t){return P.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){let n=new $e(e,0),r=new $e(e,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([n,r],o=>{let c=this.Dr(o.wr);s.push(c)}),P.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new dt(ge);return e.forEach(r=>{let s=new $e(r,0),o=new $e(r,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],c=>{n=n.add(c.wr)})}),P.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(t,e){let n=e.path,r=n.length+1,s=n;H.isDocumentKey(s)||(s=s.child(""));let o=new $e(new H(s),0),c=new dt(ge);return this.br.forEachWhile(l=>{let h=l.key.path;return!!n.isPrefixOf(h)&&(h.length===r&&(c=c.add(l.wr)),!0)},o),P.resolve(this.Cr(c))}Cr(t){let e=[];return t.forEach(n=>{let r=this.Dr(n);r!==null&&e.push(r)}),e}removeMutationBatch(t,e){Ie(this.Fr(e.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return P.forEach(e.mutations,r=>{let s=new $e(r.key,e.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.br=n})}On(t){}containsKey(t,e){let n=new $e(e,0),r=this.br.firstAfterOrEqual(n);return P.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,P.resolve()}Fr(t,e){return this.vr(t)}vr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Dr(t){let e=this.vr(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}};var nf=class{constructor(t){this.Mr=t,this.docs=function(){return new je(H.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){let n=e.key,r=this.docs.get(n),s=r?r.size:0,o=this.Mr(e);return this.docs=this.docs.insert(n,{document:e.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){let e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){let n=this.docs.get(e);return P.resolve(n?n.document.mutableCopy():ni.newInvalidDocument(e))}getEntries(t,e){let n=Pi();return e.forEach(r=>{let s=this.docs.get(r);n=n.insert(r,s?s.document.mutableCopy():ni.newInvalidDocument(r))}),P.resolve(n)}getDocumentsMatchingQuery(t,e,n,r){let s=Pi(),o=e.path,c=new H(o.child("")),l=this.docs.getIteratorFrom(c);for(;l.hasNext();){let{key:h,value:{document:d}}=l.getNext();if(!o.isPrefixOf(h.path))break;h.path.length>o.length+1||sD(rD(d),n)<=0||(r.has(d.key)||Fl(e,d))&&(s=s.insert(d.key,d.mutableCopy()))}return P.resolve(s)}getAllFromCollectionGroup(t,e,n,r){Q()}Or(t,e){return P.forEach(this.docs,n=>e(n))}newChangeBuffer(t){return new rf(this)}getSize(t){return P.resolve(this.size)}},rf=class extends Qm{constructor(t){super(),this.cr=t}applyChanges(t){let e=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?e.push(this.cr.addEntry(t,r)):this.cr.removeEntry(n)}),P.waitFor(e)}getFromCache(t,e){return this.cr.getEntry(t,e)}getAllFromCache(t,e){return this.cr.getEntries(t,e)}};var sf=class{constructor(t){this.persistence=t,this.Nr=new sn(e=>Wf(e),Hf),this.lastRemoteSnapshotVersion=ie.min(),this.highestTargetId=0,this.Lr=0,this.Br=new zo,this.targetCount=0,this.kr=Bo.Bn()}forEachTarget(t,e){return this.Nr.forEach((n,r)=>e(r)),P.resolve()}getLastRemoteSnapshotVersion(t){return P.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return P.resolve(this.Lr)}allocateTargetId(t){return this.highestTargetId=this.kr.next(),P.resolve(this.highestTargetId)}setTargetsMetadata(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Lr&&(this.Lr=e),P.resolve()}Kn(t){this.Nr.set(t.target,t);let e=t.targetId;e>this.highestTargetId&&(this.kr=new Bo(e),this.highestTargetId=e),t.sequenceNumber>this.Lr&&(this.Lr=t.sequenceNumber)}addTargetData(t,e){return this.Kn(e),this.targetCount+=1,P.resolve()}updateTargetData(t,e){return this.Kn(e),P.resolve()}removeTargetData(t,e){return this.Nr.delete(e.target),this.Br.gr(e.targetId),this.targetCount-=1,P.resolve()}removeTargets(t,e,n){let r=0,s=[];return this.Nr.forEach((o,c)=>{c.sequenceNumber<=e&&n.get(c.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(t,c.targetId)),r++)}),P.waitFor(s).next(()=>r)}getTargetCount(t){return P.resolve(this.targetCount)}getTargetData(t,e){let n=this.Nr.get(e)||null;return P.resolve(n)}addMatchingKeys(t,e,n){return this.Br.Rr(e,n),P.resolve()}removeMatchingKeys(t,e,n){this.Br.mr(e,n);let r=this.persistence.referenceDelegate,s=[];return r&&e.forEach(o=>{s.push(r.markPotentiallyOrphaned(t,o))}),P.waitFor(s)}removeMatchingKeysForTargetId(t,e){return this.Br.gr(e),P.resolve()}getMatchingKeysForTargetId(t,e){let n=this.Br.yr(e);return P.resolve(n)}containsKey(t,e){return P.resolve(this.Br.containsKey(e))}};var of=class{constructor(t,e){this.qr={},this.overlays={},this.Qr=new uw(0),this.Kr=!1,this.Kr=!0,this.$r=new ef,this.referenceDelegate=t(this),this.Ur=new sf(this),this.indexManager=new Hm,this.remoteDocumentCache=function(r){return new nf(r)}(n=>this.referenceDelegate.Wr(n)),this.serializer=new Wm(e),this.Gr=new Jm(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new Zm,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let n=this.qr[t.toKey()];return n||(n=new tf(e,this.referenceDelegate),this.qr[t.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(t,e,n){U("MemoryPersistence","Starting transaction:",t);let r=new af(this.Qr.next());return this.referenceDelegate.zr(),n(r).next(s=>this.referenceDelegate.jr(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Hr(t,e){return P.or(Object.values(this.qr).map(n=>()=>n.containsKey(t,e)))}},af=class extends vm{constructor(t){super(),this.currentSequenceNumber=t}},cf=class i{constructor(t){this.persistence=t,this.Jr=new zo,this.Yr=null}static Zr(t){return new i(t)}get Xr(){if(this.Yr)return this.Yr;throw Q()}addReference(t,e,n){return this.Jr.addReference(n,e),this.Xr.delete(n.toString()),P.resolve()}removeReference(t,e,n){return this.Jr.removeReference(n,e),this.Xr.add(n.toString()),P.resolve()}markPotentiallyOrphaned(t,e){return this.Xr.add(e.toString()),P.resolve()}removeTarget(t,e){this.Jr.gr(e.targetId).forEach(r=>this.Xr.add(r.toString()));let n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(s=>this.Xr.add(s.toString()))}).next(()=>n.removeTargetData(t,e))}zr(){this.Yr=new Set}jr(t){let e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return P.forEach(this.Xr,n=>{let r=H.fromPath(n);return this.ei(t,r).next(s=>{s||e.removeEntry(r,ie.min())})}).next(()=>(this.Yr=null,e.apply(t)))}updateLimboDocument(t,e){return this.ei(t,e).next(n=>{n?this.Xr.delete(e.toString()):this.Xr.add(e.toString())})}Wr(t){return 0}ei(t,e){return P.or([()=>P.resolve(this.Jr.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Hr(t,e)])}};var lf=class i{constructor(t,e,n,r){this.targetId=t,this.fromCache=e,this.$i=n,this.Ui=r}static Wi(t,e){let n=ae(),r=ae();for(let s of e.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new i(t,e.fromCache,n,r)}};var uf=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}};var df=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return Wy()?8:aD(Pt())>0?6:4}()}initialize(t,e){this.Ji=t,this.indexManager=e,this.Gi=!0}getDocumentsMatchingQuery(t,e,n,r){let s={result:null};return this.Yi(t,e).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(t,e,r,n).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new uf;return this.Xi(t,e,o).next(c=>{if(s.result=c,this.zi)return this.es(t,e,o,c.size)})}).next(()=>s.result)}es(t,e,n,r){return n.documentReadCount<this.ji?(Do()<=oe.DEBUG&&U("QueryEngine","SDK will not create cache indexes for query:",Dr(e),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),P.resolve()):(Do()<=oe.DEBUG&&U("QueryEngine","Query:",Dr(e),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Hi*r?(Do()<=oe.DEBUG&&U("QueryEngine","The SDK decides to create cache indexes for query:",Dr(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,di(e))):P.resolve())}Yi(t,e){if(jb(e))return P.resolve(null);let n=di(e);return this.indexManager.getIndexType(t,n).next(r=>r===0?null:(e.limit!==null&&r===1&&(e=Mm(e,null,"F"),n=di(e)),this.indexManager.getDocumentsMatchingTarget(t,n).next(s=>{let o=ae(...s);return this.Ji.getDocuments(t,o).next(c=>this.indexManager.getMinOffset(t,n).next(l=>{let h=this.ts(e,c);return this.ns(e,h,o,l.readTime)?this.Yi(t,Mm(e,null,"F")):this.rs(t,h,e,l)}))})))}Zi(t,e,n,r){return jb(e)||r.isEqual(ie.min())?P.resolve(null):this.Ji.getDocuments(t,n).next(s=>{let o=this.ts(e,s);return this.ns(e,o,n,r)?P.resolve(null):(Do()<=oe.DEBUG&&U("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Dr(e)),this.rs(t,o,e,nD(r,-1)).next(c=>c))})}ts(t,e){let n=new dt(ww(t));return e.forEach((r,s)=>{Fl(t,s)&&(n=n.add(s))}),n}ns(t,e,n,r){if(t.limit===null)return!1;if(n.size!==e.size)return!0;let s=t.limitType==="F"?e.last():e.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Xi(t,e,n){return Do()<=oe.DEBUG&&U("QueryEngine","Using full collection scan to execute query:",Dr(e)),this.Ji.getDocumentsMatchingQuery(t,e,Ln.min(),n)}rs(t,e,n,r){return this.Ji.getDocumentsMatchingQuery(t,n,r).next(s=>(e.forEach(o=>{s=s.insert(o.key,o)}),s))}};var hf=class{constructor(t,e,n,r){this.persistence=t,this.ss=e,this.serializer=r,this.os=new je(ge),this._s=new sn(s=>Wf(s),Hf),this.us=new Map,this.cs=t.getRemoteDocumentCache(),this.Ur=t.getTargetCache(),this.Gr=t.getBundleCache(),this.ls(n)}ls(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Xm(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.os))}};function JD(i,t,e,n){return new hf(i,t,e,n)}function jw(i,t){return S(this,null,function*(){let e=te(i);return yield e.persistence.runTransaction("Handle user change","readonly",n=>{let r;return e.mutationQueue.getAllMutationBatches(n).next(s=>(r=s,e.ls(t),e.mutationQueue.getAllMutationBatches(n))).next(s=>{let o=[],c=[],l=ae();for(let h of r){o.push(h.batchId);for(let d of h.mutations)l=l.add(d.key)}for(let h of s){c.push(h.batchId);for(let d of h.mutations)l=l.add(d.key)}return e.localDocuments.getDocuments(n,l).next(h=>({hs:h,removedBatchIds:o,addedBatchIds:c}))})})})}function ZD(i,t){let e=te(i);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{let r=t.batch.keys(),s=e.cs.newChangeBuffer({trackRemovals:!0});return function(c,l,h,d){let f=h.batch,p=f.keys(),_=P.resolve();return p.forEach(C=>{_=_.next(()=>d.getEntry(l,C)).next(x=>{let D=h.docVersions.get(C);Ie(D!==null),x.version.compareTo(D)<0&&(f.applyToRemoteDocument(x,h),x.isValidDocument()&&(x.setReadTime(h.commitVersion),d.addEntry(x)))})}),_.next(()=>c.mutationQueue.removeMutationBatch(l,f))}(e,n,t,s).next(()=>s.apply(n)).next(()=>e.mutationQueue.performConsistencyCheck(n)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(n,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(c){let l=ae();for(let h=0;h<c.mutationResults.length;++h)c.mutationResults[h].transformResults.length>0&&(l=l.add(c.batch.mutations[h].key));return l}(t))).next(()=>e.localDocuments.getDocuments(n,r))})}function Bw(i){let t=te(i);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Ur.getLastRemoteSnapshotVersion(e))}function ex(i,t){let e=te(i),n=t.snapshotVersion,r=e.os;return e.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=e.cs.newChangeBuffer({trackRemovals:!0});r=e.os;let c=[];t.targetChanges.forEach((d,f)=>{let p=r.get(f);if(!p)return;c.push(e.Ur.removeMatchingKeys(s,d.removedDocuments,f).next(()=>e.Ur.addMatchingKeys(s,d.addedDocuments,f)));let _=p.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(f)!==null?_=_.withResumeToken(ht.EMPTY_BYTE_STRING,ie.min()).withLastLimboFreeSnapshotVersion(ie.min()):d.resumeToken.approximateByteSize()>0&&(_=_.withResumeToken(d.resumeToken,n)),r=r.insert(f,_),function(x,D,W){return x.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=3e8?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0}(p,_,d)&&c.push(e.Ur.updateTargetData(s,_))});let l=Pi(),h=ae();if(t.documentUpdates.forEach(d=>{t.resolvedLimboDocuments.has(d)&&c.push(e.persistence.referenceDelegate.updateLimboDocument(s,d))}),c.push(tx(s,o,t.documentUpdates).next(d=>{l=d.Ps,h=d.Is})),!n.isEqual(ie.min())){let d=e.Ur.getLastRemoteSnapshotVersion(s).next(f=>e.Ur.setTargetsMetadata(s,s.currentSequenceNumber,n));c.push(d)}return P.waitFor(c).next(()=>o.apply(s)).next(()=>e.localDocuments.getLocalViewOfDocuments(s,l,h)).next(()=>l)}).then(s=>(e.os=r,s))}function tx(i,t,e){let n=ae(),r=ae();return e.forEach(s=>n=n.add(s)),t.getEntries(i,n).next(s=>{let o=Pi();return e.forEach((c,l)=>{let h=s.get(c);l.isFoundDocument()!==h.isFoundDocument()&&(r=r.add(c)),l.isNoDocument()&&l.version.isEqual(ie.min())?(t.removeEntry(c,l.readTime),o=o.insert(c,l)):!h.isValidDocument()||l.version.compareTo(h.version)>0||l.version.compareTo(h.version)===0&&h.hasPendingWrites?(t.addEntry(l),o=o.insert(c,l)):U("LocalStore","Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",l.version)}),{Ps:o,Is:r}})}function ix(i,t){let e=te(i);return e.persistence.runTransaction("Get next mutation batch","readonly",n=>(t===void 0&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(n,t)))}function nx(i,t){let e=te(i);return e.persistence.runTransaction("Allocate target","readwrite",n=>{let r;return e.Ur.getTargetData(n,t).next(s=>s?(r=s,P.resolve(r)):e.Ur.allocateTargetId(n).next(o=>(r=new jo(t,o,"TargetPurposeListen",n.currentSequenceNumber),e.Ur.addTargetData(n,r).next(()=>r))))}).then(n=>{let r=e.os.get(n.targetId);return(r===null||n.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.os=e.os.insert(n.targetId,n),e._s.set(t,n.targetId)),n})}function mf(i,t,e){return S(this,null,function*(){let n=te(i),r=n.os.get(t),s=e?"readwrite":"readwrite-primary";try{e||(yield n.persistence.runTransaction("Release target",s,o=>n.persistence.referenceDelegate.removeTarget(o,r)))}catch(o){if(!Ko(o))throw o;U("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}n.os=n.os.remove(t),n._s.delete(r.target)})}function Xb(i,t,e){let n=te(i),r=ie.min(),s=ae();return n.persistence.runTransaction("Execute query","readwrite",o=>function(l,h,d){let f=te(l),p=f._s.get(d);return p!==void 0?P.resolve(f.os.get(p)):f.Ur.getTargetData(h,d)}(n,o,di(t)).next(c=>{if(c)return r=c.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(o,c.targetId).next(l=>{s=l})}).next(()=>n.ss.getDocumentsMatchingQuery(o,t,e?r:ie.min(),e?s:ae())).next(c=>(rx(n,yD(t),c),{documents:c,Ts:s})))}function rx(i,t,e){let n=i.us.get(t)||ie.min();e.forEach((r,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)}),i.us.set(t,n)}var _l=class{constructor(){this.activeTargetIds=AD()}fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}gs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Vs(){let t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}};var ff=class{constructor(){this.so=new _l,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,n){}addLocalQueryTarget(t,e=!0){return e&&this.so.fs(t),this.oo[t]||"not-current"}updateQueryState(t,e,n){this.oo[t]=e}removeLocalQueryTarget(t){this.so.gs(t)}isLocalQueryTarget(t){return this.so.activeTargetIds.has(t)}clearQueryState(t){delete this.oo[t]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(t){return this.so.activeTargetIds.has(t)}start(){return this.so=new _l,Promise.resolve()}handleUserChange(t,e,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}};var pf=class{_o(t){}shutdown(){}};var vl=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(t){this.ho.push(t)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){U("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let t of this.ho)t(0)}lo(){U("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let t of this.ho)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var el=null;function am(){return el===null?el=function(){return 268435456+Math.round(2147483648*Math.random())}():el++,"0x"+el.toString(16)}var sx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var gf=class{constructor(t){this.Io=t.Io,this.To=t.To}Eo(t){this.Ao=t}Ro(t){this.Vo=t}mo(t){this.fo=t}onMessage(t){this.po=t}close(){this.To()}send(t){this.Io(t)}yo(){this.Ao()}wo(){this.Vo()}So(t){this.fo(t)}bo(t){this.po(t)}};var ut="WebChannelConnection",_f=class extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+e.host,this.vo=`projects/${r}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get Fo(){return!1}Mo(e,n,r,s,o){let c=am(),l=this.xo(e,n.toUriEncodedString());U("RestConnection",`Sending RPC '${e}' ${c}:`,l,r);let h={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(h,s,o),this.No(e,l,h,r).then(d=>(U("RestConnection",`Received RPC '${e}' ${c}: `,d),d),d=>{throw Vr("RestConnection",`RPC '${e}' ${c} failed with error: `,d,"url: ",l,"request:",r),d})}Lo(e,n,r,s,o,c){return this.Mo(e,n,r,s,o)}Oo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Yr}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,o)=>e[o]=s),r&&r.headers.forEach((s,o)=>e[o]=s)}xo(e,n){let r=sx[e];return`${this.Do}/v1/${n}:${r}`}terminate(){}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}No(t,e,n,r){let s=am();return new Promise((o,c)=>{let l=new tm;l.setWithCredentials(!0),l.listenOnce(im.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Ro.NO_ERROR:let d=l.getResponseJson();U(ut,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(d)),o(d);break;case Ro.TIMEOUT:U(ut,`RPC '${t}' ${s} timed out`),c(new q(M.DEADLINE_EXCEEDED,"Request time out"));break;case Ro.HTTP_ERROR:let f=l.getStatus();if(U(ut,`RPC '${t}' ${s} failed with status:`,f,"response text:",l.getResponseText()),f>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);let _=p?.error;if(_&&_.status&&_.message){let C=function(D){let W=D.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(W)>=0?W:M.UNKNOWN}(_.status);c(new q(C,_.message))}else c(new q(M.UNKNOWN,"Server responded with status "+l.getStatus()))}else c(new q(M.UNAVAILABLE,"Connection failed."));break;default:Q()}}finally{U(ut,`RPC '${t}' ${s} completed.`)}});let h=JSON.stringify(r);U(ut,`RPC '${t}' ${s} sending request:`,r),l.send(e,"POST",h,n,15)})}Bo(t,e,n){let r=am(),s=[this.Do,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=sm(),c=rm(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(l.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,e,n),l.encodeInitMessageHeaders=!0;let d=s.join("");U(ut,`Creating RPC '${t}' stream ${r}: ${d}`,l);let f=o.createWebChannel(d,l),p=!1,_=!1,C=new gf({Io:D=>{_?U(ut,`Not sending because RPC '${t}' stream ${r} is closed:`,D):(p||(U(ut,`Opening RPC '${t}' stream ${r} transport.`),f.open(),p=!0),U(ut,`RPC '${t}' stream ${r} sending:`,D),f.send(D))},To:()=>f.close()}),x=(D,W,Y)=>{D.listen(W,K=>{try{Y(K)}catch(ce){setTimeout(()=>{throw ce},0)}})};return x(f,Rr.EventType.OPEN,()=>{_||(U(ut,`RPC '${t}' stream ${r} transport opened.`),C.yo())}),x(f,Rr.EventType.CLOSE,()=>{_||(_=!0,U(ut,`RPC '${t}' stream ${r} transport closed`),C.So())}),x(f,Rr.EventType.ERROR,D=>{_||(_=!0,Vr(ut,`RPC '${t}' stream ${r} transport errored:`,D),C.So(new q(M.UNAVAILABLE,"The operation could not be completed")))}),x(f,Rr.EventType.MESSAGE,D=>{var W;if(!_){let Y=D.data[0];Ie(!!Y);let K=Y,ce=K.error||((W=K[0])===null||W===void 0?void 0:W.error);if(ce){U(ut,`RPC '${t}' stream ${r} received error:`,ce);let qe=ce.status,be=function(b){let w=ze[b];if(w!==void 0)return Mw(w)}(qe),I=ce.message;be===void 0&&(be=M.INTERNAL,I="Unknown error status: "+qe+" with message "+ce.message),_=!0,C.So(new q(be,I)),f.close()}else U(ut,`RPC '${t}' stream ${r} received:`,Y),C.bo(Y)}}),x(c,nm.STAT_EVENT,D=>{D.stat===Jc.PROXY?U(ut,`RPC '${t}' stream ${r} detected buffering proxy`):D.stat===Jc.NOPROXY&&U(ut,`RPC '${t}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{C.wo()},0),C}};function cm(){return typeof document<"u"?document:null}function Ll(i){return new Bm(i,!0)}var yl=class{constructor(t,e,n=1e3,r=1.5,s=6e4){this.ui=t,this.timerId=e,this.ko=n,this.qo=r,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(t){this.cancel();let e=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),r=Math.max(0,e-n);r>0&&U("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${e} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),t())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var bl=class{constructor(t,e,n,r,s,o,c,l){this.ui=t,this.Ho=n,this.Jo=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=c,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new yl(t,e)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return S(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(t){this.u_(),this.stream.send(t)}__(){return S(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(t,e){return S(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,t!==4?this.t_.reset():e&&e.code===M.RESOURCE_EXHAUSTED?(xi(e.toString()),xi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):e&&e.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=t,yield this.listener.mo(e)})}l_(){}auth(){this.state=1;let t=this.h_(this.Yo),e=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,r])=>{this.Yo===e&&this.P_(n,r)},n=>{t(()=>{let r=new q(M.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(r)})})}P_(t,e){let n=this.h_(this.Yo);this.stream=this.T_(t,e),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(r=>{n(()=>this.I_(r))}),this.stream.onMessage(r=>{n(()=>++this.e_==1?this.E_(r):this.onNext(r))})}i_(){this.state=5,this.t_.Go(()=>S(this,null,function*(){this.state=0,this.start()}))}I_(t){return U("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}h_(t){return e=>{this.ui.enqueueAndForget(()=>this.Yo===t?e():(U("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},vf=class extends bl{constructor(t,e,n,r,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,n,r,o),this.serializer=s}T_(t,e){return this.connection.Bo("Listen",t,e)}E_(t){return this.onNext(t)}onNext(t){this.t_.reset();let e=jD(this.serializer,t),n=function(s){if(!("targetChange"in s))return ie.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?ie.min():o.readTime?hi(o.readTime):ie.min()}(t);return this.listener.d_(e,n)}A_(t){let e={};e.database=Gm(this.serializer),e.addTarget=function(s,o){let c,l=o.target;if(c=xm(l)?{documents:$D(s,l)}:{query:qD(s,l)._t},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=Pw(s,o.resumeToken);let h=zm(s,o.expectedCount);h!==null&&(c.expectedCount=h)}else if(o.snapshotVersion.compareTo(ie.min())>0){c.readTime=pl(s,o.snapshotVersion.toTimestamp());let h=zm(s,o.expectedCount);h!==null&&(c.expectedCount=h)}return c}(this.serializer,t);let n=WD(this.serializer,t);n&&(e.labels=n),this.a_(e)}R_(t){let e={};e.database=Gm(this.serializer),e.removeTarget=t,this.a_(e)}},yf=class extends bl{constructor(t,e,n,r,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,n,r,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(t,e){return this.connection.Bo("Write",t,e)}E_(t){return Ie(!!t.streamToken),this.lastStreamToken=t.streamToken,Ie(!t.writeResults||t.writeResults.length===0),this.listener.f_()}onNext(t){Ie(!!t.streamToken),this.lastStreamToken=t.streamToken,this.t_.reset();let e=zD(t.writeResults,t.commitTime),n=hi(t.commitTime);return this.listener.g_(n,e)}p_(){let t={};t.database=Gm(this.serializer),this.a_(t)}m_(t){let e={streamToken:this.lastStreamToken,writes:t.map(n=>BD(this.serializer,n))};this.a_(e)}};var bf=class extends class{}{constructor(t,e,n,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=n,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new q(M.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(t,e,n,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(t,$m(e,n),r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new q(M.UNKNOWN,s.toString())})}Lo(t,e,n,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Lo(t,$m(e,n),r,o,c,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new q(M.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},wf=class{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(t){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.C_("Offline")))}set(t){this.x_(),this.S_=0,t==="Online"&&(this.D_=!1),this.C_(t)}C_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}F_(t){let e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(xi(e),this.D_=!1):U("OnlineStateTracker",e)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var If=class{constructor(t,e,n,r,s){this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{n.enqueueAndForget(()=>S(this,null,function*(){Gn(this)&&(U("RemoteStore","Restarting streams for network reachability change."),yield function(l){return S(this,null,function*(){let h=te(l);h.L_.add(4),yield Qo(h),h.q_.set("Unknown"),h.L_.delete(4),yield Ul(h)})}(this))}))}),this.q_=new wf(n,r)}};function Ul(i){return S(this,null,function*(){if(Gn(i))for(let t of i.B_)yield t(!0)})}function Qo(i){return S(this,null,function*(){for(let t of i.B_)yield t(!1)})}function zw(i,t){let e=te(i);e.N_.has(t.targetId)||(e.N_.set(t.targetId,t),ep(e)?Zf(e):Xr(e).r_()&&Jf(e,t))}function Xf(i,t){let e=te(i),n=Xr(e);e.N_.delete(t),n.r_()&&$w(e,t),e.N_.size===0&&(n.r_()?n.o_():Gn(e)&&e.q_.set("Unknown"))}function Jf(i,t){if(i.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ie.min())>0){let e=i.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Xr(i).A_(t)}function $w(i,t){i.Q_.xe(t),Xr(i).R_(t)}function Zf(i){i.Q_=new jm({getRemoteKeysForTarget:t=>i.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>i.N_.get(t)||null,tt:()=>i.datastore.serializer.databaseId}),Xr(i).start(),i.q_.v_()}function ep(i){return Gn(i)&&!Xr(i).n_()&&i.N_.size>0}function Gn(i){return te(i).L_.size===0}function qw(i){i.Q_=void 0}function ox(i){return S(this,null,function*(){i.q_.set("Online")})}function ax(i){return S(this,null,function*(){i.N_.forEach((t,e)=>{Jf(i,t)})})}function cx(i,t){return S(this,null,function*(){qw(i),ep(i)?(i.q_.M_(t),Zf(i)):i.q_.set("Unknown")})}function lx(i,t,e){return S(this,null,function*(){if(i.q_.set("Online"),t instanceof ml&&t.state===2&&t.cause)try{yield function(r,s){return S(this,null,function*(){let o=s.cause;for(let c of s.targetIds)r.N_.has(c)&&(yield r.remoteSyncer.rejectListen(c,o),r.N_.delete(c),r.Q_.removeTarget(c))})}(i,t)}catch(n){U("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),yield wl(i,n)}else if(t instanceof Or?i.Q_.Ke(t):t instanceof hl?i.Q_.He(t):i.Q_.We(t),!e.isEqual(ie.min()))try{let n=yield Bw(i.localStore);e.compareTo(n)>=0&&(yield function(s,o){let c=s.Q_.rt(o);return c.targetChanges.forEach((l,h)=>{if(l.resumeToken.approximateByteSize()>0){let d=s.N_.get(h);d&&s.N_.set(h,d.withResumeToken(l.resumeToken,o))}}),c.targetMismatches.forEach((l,h)=>{let d=s.N_.get(l);if(!d)return;s.N_.set(l,d.withResumeToken(ht.EMPTY_BYTE_STRING,d.snapshotVersion)),$w(s,l);let f=new jo(d.target,l,h,d.sequenceNumber);Jf(s,f)}),s.remoteSyncer.applyRemoteEvent(c)}(i,e))}catch(n){U("RemoteStore","Failed to raise snapshot:",n),yield wl(i,n)}})}function wl(i,t,e){return S(this,null,function*(){if(!Ko(t))throw t;i.L_.add(1),yield Qo(i),i.q_.set("Offline"),e||(e=()=>Bw(i.localStore)),i.asyncQueue.enqueueRetryable(()=>S(this,null,function*(){U("RemoteStore","Retrying IndexedDB access"),yield e(),i.L_.delete(1),yield Ul(i)}))})}function Gw(i,t){return t().catch(e=>wl(i,e,t))}function jl(i){return S(this,null,function*(){let t=te(i),e=on(t),n=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;ux(t);)try{let r=yield ix(t.localStore,n);if(r===null){t.O_.length===0&&e.o_();break}n=r.batchId,dx(t,r)}catch(r){yield wl(t,r)}Ww(t)&&Hw(t)})}function ux(i){return Gn(i)&&i.O_.length<10}function dx(i,t){i.O_.push(t);let e=on(i);e.r_()&&e.V_&&e.m_(t.mutations)}function Ww(i){return Gn(i)&&!on(i).n_()&&i.O_.length>0}function Hw(i){on(i).start()}function hx(i){return S(this,null,function*(){on(i).p_()})}function mx(i){return S(this,null,function*(){let t=on(i);for(let e of i.O_)t.m_(e.mutations)})}function fx(i,t,e){return S(this,null,function*(){let n=i.O_.shift(),r=Vm.from(n,t,e);yield Gw(i,()=>i.remoteSyncer.applySuccessfulWrite(r)),yield jl(i)})}function px(i,t){return S(this,null,function*(){t&&on(i).V_&&(yield function(n,r){return S(this,null,function*(){if(function(o){return MD(o)&&o!==M.ABORTED}(r.code)){let s=n.O_.shift();on(n).s_(),yield Gw(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),yield jl(n)}})}(i,t)),Ww(i)&&Hw(i)})}function Jb(i,t){return S(this,null,function*(){let e=te(i);e.asyncQueue.verifyOperationInProgress(),U("RemoteStore","RemoteStore received new credentials");let n=Gn(e);e.L_.add(3),yield Qo(e),n&&e.q_.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.L_.delete(3),yield Ul(e)})}function gx(i,t){return S(this,null,function*(){let e=te(i);t?(e.L_.delete(2),yield Ul(e)):t||(e.L_.add(2),yield Qo(e),e.q_.set("Unknown"))})}function Xr(i){return i.K_||(i.K_=function(e,n,r){let s=te(e);return s.w_(),new vf(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(i.datastore,i.asyncQueue,{Eo:ox.bind(null,i),Ro:ax.bind(null,i),mo:cx.bind(null,i),d_:lx.bind(null,i)}),i.B_.push(t=>S(this,null,function*(){t?(i.K_.s_(),ep(i)?Zf(i):i.q_.set("Unknown")):(yield i.K_.stop(),qw(i))}))),i.K_}function on(i){return i.U_||(i.U_=function(e,n,r){let s=te(e);return s.w_(),new yf(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(i.datastore,i.asyncQueue,{Eo:()=>Promise.resolve(),Ro:hx.bind(null,i),mo:px.bind(null,i),f_:mx.bind(null,i),g_:fx.bind(null,i)}),i.B_.push(t=>S(this,null,function*(){t?(i.U_.s_(),yield jl(i)):(yield i.U_.stop(),i.O_.length>0&&(U("RemoteStore",`Stopping write stream with ${i.O_.length} pending writes`),i.O_=[]))}))),i.U_}var Ef=class i{constructor(t,e,n,r,s){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=s,this.deferred=new Di,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,e,n,r,s){let o=Date.now()+n,c=new i(t,e,o,r,s);return c.start(n),c}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new q(M.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function tp(i,t){if(xi("AsyncQueue",`${t}: ${i}`),Ko(i))return new q(M.UNAVAILABLE,`${t}: ${i}`);throw i}var Il=class i{constructor(t){this.comparator=t?(e,n)=>t(e,n)||H.comparator(e.key,n.key):(e,n)=>H.comparator(e.key,n.key),this.keyedMap=xo(),this.sortedSet=new je(this.comparator)}static emptySet(t){return new i(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){let e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,n)=>(t(e),!1))}add(t){let e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){let e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof i)||this.size!==t.size)return!1;let e=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;e.hasNext();){let r=e.getNext().key,s=n.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){let t=[];return this.forEach(e=>{t.push(e.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){let n=new i;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=e,n}};var El=class{constructor(){this.W_=new je(H.comparator)}track(t){let e=t.doc.key,n=this.W_.get(e);n?t.type!==0&&n.type===3?this.W_=this.W_.insert(e,t):t.type===3&&n.type!==1?this.W_=this.W_.insert(e,{type:n.type,doc:t.doc}):t.type===2&&n.type===2?this.W_=this.W_.insert(e,{type:2,doc:t.doc}):t.type===2&&n.type===0?this.W_=this.W_.insert(e,{type:0,doc:t.doc}):t.type===1&&n.type===0?this.W_=this.W_.remove(e):t.type===1&&n.type===2?this.W_=this.W_.insert(e,{type:1,doc:n.doc}):t.type===0&&n.type===1?this.W_=this.W_.insert(e,{type:2,doc:t.doc}):Q():this.W_=this.W_.insert(e,t)}G_(){let t=[];return this.W_.inorderTraversal((e,n)=>{t.push(n)}),t}},Hr=class i{constructor(t,e,n,r,s,o,c,l,h){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=c,this.excludesMetadataChanges=l,this.hasCachedResults=h}static fromInitialDocuments(t,e,n,r,s){let o=[];return e.forEach(c=>{o.push({type:0,doc:c})}),new i(t,e,Il.emptySet(e),o,n,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Vl(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;let e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0}};var Tf=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(t=>t.J_())}},Af=class{constructor(){this.queries=Zb(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(e,n){let r=te(e),s=r.queries;r.queries=Zb(),s.forEach((o,c)=>{for(let l of c.j_)l.onError(n)})})(this,new q(M.ABORTED,"Firestore shutting down"))}};function Zb(){return new sn(i=>bw(i),Vl)}function _x(i,t){return S(this,null,function*(){let e=te(i),n=3,r=t.query,s=e.queries.get(r);s?!s.H_()&&t.J_()&&(n=2):(s=new Tf,n=t.J_()?0:1);try{switch(n){case 0:s.z_=yield e.onListen(r,!0);break;case 1:s.z_=yield e.onListen(r,!1);break;case 2:yield e.onFirstRemoteStoreListen(r)}}catch(o){let c=tp(o,`Initialization of query '${Dr(t.query)}' failed`);return void t.onError(c)}e.queries.set(r,s),s.j_.push(t),t.Z_(e.onlineState),s.z_&&t.X_(s.z_)&&ip(e)})}function vx(i,t){return S(this,null,function*(){let e=te(i),n=t.query,r=3,s=e.queries.get(n);if(s){let o=s.j_.indexOf(t);o>=0&&(s.j_.splice(o,1),s.j_.length===0?r=t.J_()?0:1:!s.H_()&&t.J_()&&(r=2))}switch(r){case 0:return e.queries.delete(n),e.onUnlisten(n,!0);case 1:return e.queries.delete(n),e.onUnlisten(n,!1);case 2:return e.onLastRemoteStoreUnlisten(n);default:return}})}function yx(i,t){let e=te(i),n=!1;for(let r of t){let s=r.query,o=e.queries.get(s);if(o){for(let c of o.j_)c.X_(r)&&(n=!0);o.z_=r}}n&&ip(e)}function bx(i,t,e){let n=te(i),r=n.queries.get(t);if(r)for(let s of r.j_)s.onError(e);n.queries.delete(t)}function ip(i){i.Y_.forEach(t=>{t.next()})}var Cf,ew;(ew=Cf||(Cf={})).ea="default",ew.Cache="cache";var Sf=class{constructor(t,e,n){this.query=t,this.ta=e,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(t){if(!this.options.includeMetadataChanges){let n=[];for(let r of t.docChanges)r.type!==3&&n.push(r);t=new Hr(t.query,t.docs,t.oldDocs,n,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.na?this.ia(t)&&(this.ta.next(t),e=!0):this.sa(t,this.onlineState)&&(this.oa(t),e=!0),this.ra=t,e}onError(t){this.ta.error(t)}Z_(t){this.onlineState=t;let e=!1;return this.ra&&!this.na&&this.sa(this.ra,t)&&(this.oa(this.ra),e=!0),e}sa(t,e){if(!t.fromCache||!this.J_())return!0;let n=e!=="Offline";return(!this.options._a||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}ia(t){if(t.docChanges.length>0)return!0;let e=this.ra&&this.ra.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}oa(t){t=Hr.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.na=!0,this.ta.next(t)}J_(){return this.options.source!==Cf.Cache}};var Tl=class{constructor(t){this.key=t}},Al=class{constructor(t){this.key=t}},kf=class{constructor(t,e){this.query=t,this.Ta=e,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ae(),this.mutatedKeys=ae(),this.Aa=ww(t),this.Ra=new Il(this.Aa)}get Va(){return this.Ta}ma(t,e){let n=e?e.fa:new El,r=e?e.Ra:this.Ra,s=e?e.mutatedKeys:this.mutatedKeys,o=r,c=!1,l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,h=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((d,f)=>{let p=r.get(d),_=Fl(this.query,f)?f:null,C=!!p&&this.mutatedKeys.has(p.key),x=!!_&&(_.hasLocalMutations||this.mutatedKeys.has(_.key)&&_.hasCommittedMutations),D=!1;p&&_?p.data.isEqual(_.data)?C!==x&&(n.track({type:3,doc:_}),D=!0):this.ga(p,_)||(n.track({type:2,doc:_}),D=!0,(l&&this.Aa(_,l)>0||h&&this.Aa(_,h)<0)&&(c=!0)):!p&&_?(n.track({type:0,doc:_}),D=!0):p&&!_&&(n.track({type:1,doc:p}),D=!0,(l||h)&&(c=!0)),D&&(_?(o=o.add(_),s=x?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),n.track({type:1,doc:d})}return{Ra:o,fa:n,ns:c,mutatedKeys:s}}ga(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,n,r){let s=this.Ra;this.Ra=t.Ra,this.mutatedKeys=t.mutatedKeys;let o=t.fa.G_();o.sort((d,f)=>function(_,C){let x=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Q()}};return x(_)-x(C)}(d.type,f.type)||this.Aa(d.doc,f.doc)),this.pa(n),r=r!=null&&r;let c=e&&!r?this.ya():[],l=this.da.size===0&&this.current&&!r?1:0,h=l!==this.Ea;return this.Ea=l,o.length!==0||h?{snapshot:new Hr(this.query,t.Ra,s,o,t.mutatedKeys,l===0,h,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:c}:{wa:c}}Z_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new El,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(t){return!this.Ta.has(t)&&!!this.Ra.has(t)&&!this.Ra.get(t).hasLocalMutations}pa(t){t&&(t.addedDocuments.forEach(e=>this.Ta=this.Ta.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Ta=this.Ta.delete(e)),this.current=t.current)}ya(){if(!this.current)return[];let t=this.da;this.da=ae(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});let e=[];return t.forEach(n=>{this.da.has(n)||e.push(new Al(n))}),this.da.forEach(n=>{t.has(n)||e.push(new Tl(n))}),e}ba(t){this.Ta=t.Ts,this.da=ae();let e=this.ma(t.documents);return this.applyChanges(e,!0)}Da(){return Hr.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},Rf=class{constructor(t,e,n){this.query=t,this.targetId=e,this.view=n}},Df=class{constructor(t){this.key=t,this.va=!1}},xf=class{constructor(t,e,n,r,s,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new sn(c=>bw(c),Vl),this.Ma=new Map,this.xa=new Set,this.Oa=new je(H.comparator),this.Na=new Map,this.La=new zo,this.Ba={},this.ka=new Map,this.qa=Bo.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function wx(i,t,e=!0){return S(this,null,function*(){let n=Zw(i),r,s=n.Fa.get(t);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.Da()):r=yield Kw(n,t,e,!0),r})}function Ix(i,t){return S(this,null,function*(){let e=Zw(i);yield Kw(e,t,!0,!1)})}function Kw(i,t,e,n){return S(this,null,function*(){let r=yield nx(i.localStore,di(t)),s=r.targetId,o=i.sharedClientState.addLocalQueryTarget(s,e),c;return n&&(c=yield Ex(i,t,s,o==="current",r.resumeToken)),i.isPrimaryClient&&e&&zw(i.remoteStore,r),c})}function Ex(i,t,e,n,r){return S(this,null,function*(){i.Ka=(f,p,_)=>function(x,D,W,Y){return S(this,null,function*(){let K=D.view.ma(W);K.ns&&(K=yield Xb(x.localStore,D.query,!1).then(({documents:I})=>D.view.ma(I,K)));let ce=Y&&Y.targetChanges.get(D.targetId),qe=Y&&Y.targetMismatches.get(D.targetId)!=null,be=D.view.applyChanges(K,x.isPrimaryClient,ce,qe);return iw(x,D.targetId,be.wa),be.snapshot})}(i,f,p,_);let s=yield Xb(i.localStore,t,!0),o=new kf(t,s.Ts),c=o.ma(s.documents),l=Uo.createSynthesizedTargetChangeForCurrentChange(e,n&&i.onlineState!=="Offline",r),h=o.applyChanges(c,i.isPrimaryClient,l);iw(i,e,h.wa);let d=new Rf(t,e,o);return i.Fa.set(t,d),i.Ma.has(e)?i.Ma.get(e).push(t):i.Ma.set(e,[t]),h.snapshot})}function Tx(i,t,e){return S(this,null,function*(){let n=te(i),r=n.Fa.get(t),s=n.Ma.get(r.targetId);if(s.length>1)return n.Ma.set(r.targetId,s.filter(o=>!Vl(o,t))),void n.Fa.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield mf(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),e&&Xf(n.remoteStore,r.targetId),Mf(n,r.targetId)}).catch(Ho))):(Mf(n,r.targetId),yield mf(n.localStore,r.targetId,!0))})}function Ax(i,t){return S(this,null,function*(){let e=te(i),n=e.Fa.get(t),r=e.Ma.get(n.targetId);e.isPrimaryClient&&r.length===1&&(e.sharedClientState.removeLocalQueryTarget(n.targetId),Xf(e.remoteStore,n.targetId))})}function Cx(i,t,e){return S(this,null,function*(){let n=Px(i);try{let r=yield function(o,c){let l=te(o),h=Ke.now(),d=c.reduce((_,C)=>_.add(C.key),ae()),f,p;return l.persistence.runTransaction("Locally write mutations","readwrite",_=>{let C=Pi(),x=ae();return l.cs.getEntries(_,d).next(D=>{C=D,C.forEach((W,Y)=>{Y.isValidDocument()||(x=x.add(W))})}).next(()=>l.localDocuments.getOverlayedDocuments(_,C)).next(D=>{f=D;let W=[];for(let Y of c){let K=xD(Y,f.get(Y.key).overlayedDocument);K!=null&&W.push(new pi(Y.key,K,fw(K.value.mapValue),tn.exists(!0)))}return l.mutationQueue.addMutationBatch(_,h,W,c)}).next(D=>{p=D;let W=D.applyToLocalDocumentSet(f,x);return l.documentOverlayCache.saveOverlays(_,D.batchId,W)})}).then(()=>({batchId:p.batchId,changes:Ew(f)}))}(n.localStore,t);n.sharedClientState.addPendingMutation(r.batchId),function(o,c,l){let h=o.Ba[o.currentUser.toKey()];h||(h=new je(ge)),h=h.insert(c,l),o.Ba[o.currentUser.toKey()]=h}(n,r.batchId,e),yield Yo(n,r.changes),yield jl(n.remoteStore)}catch(r){let s=tp(r,"Failed to persist write");e.reject(s)}})}function Qw(i,t){return S(this,null,function*(){let e=te(i);try{let n=yield ex(e.localStore,t);t.targetChanges.forEach((r,s)=>{let o=e.Na.get(s);o&&(Ie(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.va=!0:r.modifiedDocuments.size>0?Ie(o.va):r.removedDocuments.size>0&&(Ie(o.va),o.va=!1))}),yield Yo(e,n,t)}catch(n){yield Ho(n)}})}function tw(i,t,e){let n=te(i);if(n.isPrimaryClient&&e===0||!n.isPrimaryClient&&e===1){let r=[];n.Fa.forEach((s,o)=>{let c=o.view.Z_(t);c.snapshot&&r.push(c.snapshot)}),function(o,c){let l=te(o);l.onlineState=c;let h=!1;l.queries.forEach((d,f)=>{for(let p of f.j_)p.Z_(c)&&(h=!0)}),h&&ip(l)}(n.eventManager,t),r.length&&n.Ca.d_(r),n.onlineState=t,n.isPrimaryClient&&n.sharedClientState.setOnlineState(t)}}function Sx(i,t,e){return S(this,null,function*(){let n=te(i);n.sharedClientState.updateQueryState(t,"rejected",e);let r=n.Na.get(t),s=r&&r.key;if(s){let o=new je(H.comparator);o=o.insert(s,ni.newNoDocument(s,ie.min()));let c=ae().add(s),l=new dl(ie.min(),new Map,new je(ge),o,c);yield Qw(n,l),n.Oa=n.Oa.remove(s),n.Na.delete(t),np(n)}else yield mf(n.localStore,t,!1).then(()=>Mf(n,t,e)).catch(Ho)})}function kx(i,t){return S(this,null,function*(){let e=te(i),n=t.batch.batchId;try{let r=yield ZD(e.localStore,t);Xw(e,n,null),Yw(e,n),e.sharedClientState.updateMutationState(n,"acknowledged"),yield Yo(e,r)}catch(r){yield Ho(r)}})}function Rx(i,t,e){return S(this,null,function*(){let n=te(i);try{let r=yield function(o,c){let l=te(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let d;return l.mutationQueue.lookupMutationBatch(h,c).next(f=>(Ie(f!==null),d=f.keys(),l.mutationQueue.removeMutationBatch(h,f))).next(()=>l.mutationQueue.performConsistencyCheck(h)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(h,d,c)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,d)).next(()=>l.localDocuments.getDocuments(h,d))})}(n.localStore,t);Xw(n,t,e),Yw(n,t),n.sharedClientState.updateMutationState(t,"rejected",e),yield Yo(n,r)}catch(r){yield Ho(r)}})}function Yw(i,t){(i.ka.get(t)||[]).forEach(e=>{e.resolve()}),i.ka.delete(t)}function Xw(i,t,e){let n=te(i),r=n.Ba[n.currentUser.toKey()];if(r){let s=r.get(t);s&&(e?s.reject(e):s.resolve(),r=r.remove(t)),n.Ba[n.currentUser.toKey()]=r}}function Mf(i,t,e=null){i.sharedClientState.removeLocalQueryTarget(t);for(let n of i.Ma.get(t))i.Fa.delete(n),e&&i.Ca.$a(n,e);i.Ma.delete(t),i.isPrimaryClient&&i.La.gr(t).forEach(n=>{i.La.containsKey(n)||Jw(i,n)})}function Jw(i,t){i.xa.delete(t.path.canonicalString());let e=i.Oa.get(t);e!==null&&(Xf(i.remoteStore,e),i.Oa=i.Oa.remove(t),i.Na.delete(e),np(i))}function iw(i,t,e){for(let n of e)n instanceof Tl?(i.La.addReference(n.key,t),Dx(i,n)):n instanceof Al?(U("SyncEngine","Document no longer in limbo: "+n.key),i.La.removeReference(n.key,t),i.La.containsKey(n.key)||Jw(i,n.key)):Q()}function Dx(i,t){let e=t.key,n=e.path.canonicalString();i.Oa.get(e)||i.xa.has(n)||(U("SyncEngine","New document in limbo: "+e),i.xa.add(n),np(i))}function np(i){for(;i.xa.size>0&&i.Oa.size<i.maxConcurrentLimboResolutions;){let t=i.xa.values().next().value;i.xa.delete(t);let e=new H(Ue.fromString(t)),n=i.qa.next();i.Na.set(n,new Df(e)),i.Oa=i.Oa.insert(e,n),zw(i.remoteStore,new jo(di(Kf(e.path)),n,"TargetPurposeLimboResolution",uw.oe))}}function Yo(i,t,e){return S(this,null,function*(){let n=te(i),r=[],s=[],o=[];n.Fa.isEmpty()||(n.Fa.forEach((c,l)=>{o.push(n.Ka(l,t,e).then(h=>{var d;if((h||e)&&n.isPrimaryClient){let f=h?!h.fromCache:(d=e?.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;n.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(h){r.push(h);let f=lf.Wi(l.targetId,h);s.push(f)}}))}),yield Promise.all(o),n.Ca.d_(r),yield function(l,h){return S(this,null,function*(){let d=te(l);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>P.forEach(h,p=>P.forEach(p.$i,_=>d.persistence.referenceDelegate.addReference(f,p.targetId,_)).next(()=>P.forEach(p.Ui,_=>d.persistence.referenceDelegate.removeReference(f,p.targetId,_)))))}catch(f){if(!Ko(f))throw f;U("LocalStore","Failed to update sequence numbers: "+f)}for(let f of h){let p=f.targetId;if(!f.fromCache){let _=d.os.get(p),C=_.snapshotVersion,x=_.withLastLimboFreeSnapshotVersion(C);d.os=d.os.insert(p,x)}}})}(n.localStore,s))})}function xx(i,t){return S(this,null,function*(){let e=te(i);if(!e.currentUser.isEqual(t)){U("SyncEngine","User change. New user:",t.toKey());let n=yield jw(e.localStore,t);e.currentUser=t,function(s,o){s.ka.forEach(c=>{c.forEach(l=>{l.reject(new q(M.CANCELLED,o))})}),s.ka.clear()}(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),yield Yo(e,n.hs)}})}function Mx(i,t){let e=te(i),n=e.Na.get(t);if(n&&n.va)return ae().add(n.key);{let r=ae(),s=e.Ma.get(t);if(!s)return r;for(let o of s){let c=e.Fa.get(o);r=r.unionWith(c.view.Va)}return r}}function Zw(i){let t=te(i);return t.remoteStore.remoteSyncer.applyRemoteEvent=Qw.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Mx.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Sx.bind(null,t),t.Ca.d_=yx.bind(null,t.eventManager),t.Ca.$a=bx.bind(null,t.eventManager),t}function Px(i){let t=te(i);return t.remoteStore.remoteSyncer.applySuccessfulWrite=kx.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Rx.bind(null,t),t}var nw=(()=>{class i{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(e){return S(this,null,function*(){this.serializer=Ll(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),yield this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)})}ja(e,n){return null}Ha(e,n){return null}za(e){return JD(this.persistence,new df,e.initialUser,this.serializer)}Ga(e){return new of(cf.Zr,this.serializer)}Wa(e){return new ff}terminate(){return S(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return i.provider={build:()=>new i},i})();var Ox=(()=>{class i{initialize(e,n){return S(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>tw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=xx.bind(null,this.syncEngine),yield gx(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new Af}()}createDatastore(e){let n=Ll(e.databaseInfo.databaseId),r=function(o){return new _f(o)}(e.databaseInfo);return function(o,c,l,h){return new bf(o,c,l,h)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,o,c,l){return new If(r,s,o,c,l)}(this.localStore,this.datastore,e.asyncQueue,n=>tw(this.syncEngine,n,0),function(){return vl.D()?new vl:new pf}())}createSyncEngine(e,n){return function(s,o,c,l,h,d,f){let p=new xf(s,o,c,l,h,d);return f&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return S(this,null,function*(){var e,n;yield function(s){return S(this,null,function*(){let o=te(s);U("RemoteStore","RemoteStore shutting down."),o.L_.add(5),yield Qo(o),o.k_.shutdown(),o.q_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()})}}return i.provider={build:()=>new i},i})();var Pf=class{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ya(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ya(this.observer.error,t):xi("Uncaught Error in snapshot listener:",t.toString()))}Za(){this.muted=!0}Ya(t,e){setTimeout(()=>{this.muted||t(e)},0)}};var Of=class{constructor(t,e,n,r,s){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=n,this.databaseInfo=r,this.user=Je.UNAUTHENTICATED,this.clientId=rl.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,o=>S(this,null,function*(){U("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(n,o=>(U("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();let t=new Di;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>S(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){let n=tp(e,"Failed to shutdown persistence");t.reject(n)}})),t.promise}};function lm(i,t){return S(this,null,function*(){i.asyncQueue.verifyOperationInProgress(),U("FirestoreClient","Initializing OfflineComponentProvider");let e=i.configuration;yield t.initialize(e);let n=e.initialUser;i.setCredentialChangeListener(r=>S(this,null,function*(){n.isEqual(r)||(yield jw(t.localStore,r),n=r)})),t.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=t})}function rw(i,t){return S(this,null,function*(){i.asyncQueue.verifyOperationInProgress();let e=yield Nx(i);U("FirestoreClient","Initializing OnlineComponentProvider"),yield t.initialize(e,i.configuration),i.setCredentialChangeListener(n=>Jb(t.remoteStore,n)),i.setAppCheckTokenChangeListener((n,r)=>Jb(t.remoteStore,r)),i._onlineComponents=t})}function Nx(i){return S(this,null,function*(){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){U("FirestoreClient","Using user provided OfflineComponentProvider");try{yield lm(i,i._uninitializedComponentsProvider._offline)}catch(t){let e=t;if(!function(r){return r.name==="FirebaseError"?r.code===M.FAILED_PRECONDITION||r.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(e))throw e;Vr("Error using user provided cache. Falling back to memory cache: "+e),yield lm(i,new nw)}}else U("FirestoreClient","Using default OfflineComponentProvider"),yield lm(i,new nw);return i._offlineComponents})}function eI(i){return S(this,null,function*(){return i._onlineComponents||(i._uninitializedComponentsProvider?(U("FirestoreClient","Using user provided OnlineComponentProvider"),yield rw(i,i._uninitializedComponentsProvider._online)):(U("FirestoreClient","Using default OnlineComponentProvider"),yield rw(i,new Ox))),i._onlineComponents})}function Vx(i){return eI(i).then(t=>t.syncEngine)}function sw(i){return S(this,null,function*(){let t=yield eI(i),e=t.eventManager;return e.onListen=wx.bind(null,t.syncEngine),e.onUnlisten=Tx.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=Ix.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=Ax.bind(null,t.syncEngine),e})}function tI(i){let t={};return i.timeoutSeconds!==void 0&&(t.timeoutSeconds=i.timeoutSeconds),t}var ow=new Map;function iI(i,t,e){if(!e)throw new q(M.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${t}.`)}function Fx(i,t,e,n){if(t===!0&&n===!0)throw new q(M.INVALID_ARGUMENT,`${i} and ${e} cannot be used together.`)}function aw(i){if(!H.isDocumentKey(i))throw new q(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function cw(i){if(H.isDocumentKey(i))throw new q(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function rp(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{let t=function(n){return n.constructor?n.constructor.name:null}(i);return t?`a custom ${t} object`:"an object"}}return typeof i=="function"?"a function":Q()}function Vn(i,t){if("_delegate"in i&&(i=i._delegate),!(i instanceof t)){if(t.name===i.constructor.name)throw new q(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let e=rp(i);throw new q(M.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return i}var Cl=class{constructor(t){var e,n;if(t.host===void 0){if(t.ssl!==void 0)throw new q(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(e=t.ssl)===null||e===void 0||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new q(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Fx("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tI((n=t.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new q(M.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new q(M.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new q(M.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(n,r){return n.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}},Kr=class{constructor(t,e,n,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Cl({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new q(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new q(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Cl(t),t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new um;switch(n.type){case"firstParty":return new fm(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new q(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return S(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){let n=ow.get(e);n&&(U("ComponentProvider","Removing Datastore"),ow.delete(e),n.terminate())}(this),Promise.resolve()}};function nI(i,t,e,n={}){var r;let s=(i=Vn(i,Kr))._getSettings(),o=`${t}:${e}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Vr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),n.mockUserToken){let c,l;if(typeof n.mockUserToken=="string")c=n.mockUserToken,l=Je.MOCK_USER;else{c=By(n.mockUserToken,(r=i._app)===null||r===void 0?void 0:r.options.projectId);let h=n.mockUserToken.sub||n.mockUserToken.user_id;if(!h)throw new q(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Je(h)}i._authCredentials=new dm(new nl(c,l))}}var Sl=class i{constructor(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new i(this.firestore,t,this._query)}},Vt=class i{constructor(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nn(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new i(this.firestore,t,this._key)}},nn=class i extends Sl{constructor(t,e,n){super(t,e,Kf(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let t=this._path.popLast();return t.isEmpty()?null:new Vt(this.firestore,null,new H(t))}withConverter(t){return new i(this.firestore,t,this._path)}};function rI(i,t,...e){if(i=gt(i),iI("collection","path",t),i instanceof Kr){let n=Ue.fromString(t,...e);return cw(n),new nn(i,null,n)}{if(!(i instanceof Vt||i instanceof nn))throw new q(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let n=i._path.child(Ue.fromString(t,...e));return cw(n),new nn(i.firestore,null,n)}}function sp(i,t,...e){if(i=gt(i),arguments.length===1&&(t=rl.newId()),iI("doc","path",t),i instanceof Kr){let n=Ue.fromString(t,...e);return aw(n),new Vt(i,null,new H(n))}{if(!(i instanceof Vt||i instanceof nn))throw new q(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let n=i._path.child(Ue.fromString(t,...e));return aw(n),new Vt(i.firestore,i instanceof nn?i.converter:null,new H(n))}}var kl=class{constructor(t=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new yl(this,"async_queue_retry"),this.Vu=()=>{let n=cm();n&&U("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=t;let e=cm();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.fu(),this.gu(t)}enterRestrictedMode(t){if(!this.Iu){this.Iu=!0,this.Au=t||!1;let e=cm();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this.Vu)}}enqueue(t){if(this.fu(),this.Iu)return new Promise(()=>{});let e=new Di;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Pu.push(t),this.pu()))}pu(){return S(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(t){if(!Ko(t))throw t;U("AsyncQueue","Operation failed with retryable error: "+t)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(t){let e=this.mu.then(()=>(this.du=!0,t().catch(n=>{this.Eu=n,this.du=!1;let r=function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),c}(n);throw xi("INTERNAL UNHANDLED ERROR: ",r),n}).then(n=>(this.du=!1,n))));return this.mu=e,e}enqueueAfterDelay(t,e,n){this.fu(),this.Ru.indexOf(t)>-1&&(e=0);let r=Ef.createAndSchedule(this,t,e,n,s=>this.yu(s));return this.Tu.push(r),r}fu(){this.Eu&&Q()}verifyOperationInProgress(){}wu(){return S(this,null,function*(){let t;do t=this.mu,yield t;while(t!==this.mu)})}Su(t){for(let e of this.Tu)if(e.timerId===t)return!0;return!1}bu(t){return this.wu().then(()=>{this.Tu.sort((e,n)=>e.targetTimeMs-n.targetTimeMs);for(let e of this.Tu)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.wu()})}Du(t){this.Ru.push(t)}yu(t){let e=this.Tu.indexOf(t);this.Tu.splice(e,1)}};function lw(i){return function(e,n){if(typeof e!="object"||e===null)return!1;let r=e;for(let s of n)if(s in r&&typeof r[s]=="function")return!0;return!1}(i,["next","error","complete"])}var $n=class extends Kr{constructor(t,e,n,r){super(t,e,n,r),this.type="firestore",this._queue=new kl,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return S(this,null,function*(){if(this._firestoreClient){let t=this._firestoreClient.terminate();this._queue=new kl(t),this._firestoreClient=void 0,yield t}})}};function sI(i,t){let e=typeof i=="object"?i:yo(),n=typeof i=="string"?i:t||"(default)",r=Nh(e,"firestore").getImmediate({identifier:n});if(!r._initialized){let s=Uy("firestore");s&&nI(r,...s)}return r}function oI(i){if(i._terminated)throw new q(M.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||Lx(i),i._firestoreClient}function Lx(i){var t,e,n;let r=i._freezeSettings(),s=function(c,l,h,d){return new ym(c,l,h,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,tI(d.experimentalLongPollingOptions),d.useFetchStreams)}(i._databaseId,((t=i._app)===null||t===void 0?void 0:t.options.appId)||"",i._persistenceKey,r);i._componentsProvider||!((e=r.localCache)===null||e===void 0)&&e._offlineComponentProvider&&(!((n=r.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(i._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),i._firestoreClient=new Of(i._authCredentials,i._appCheckCredentials,i._queue,s,i._componentsProvider&&function(c){let l=c?._online.build();return{_offline:c?._offline.build(l),_online:l}}(i._componentsProvider))}var $o=class i{constructor(t){this._byteString=t}static fromBase64String(t){try{return new i(ht.fromBase64String(t))}catch(e){throw new q(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new i(ht.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}};var Qr=class{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new q(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nt(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}};var qo=class{constructor(t){this._methodName=t}};var Go=class{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new q(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new q(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return ge(this._lat,t._lat)||ge(this._long,t._long)}};var Wo=class{constructor(t){this._values=(t||[]).map(e=>e)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(n,r){if(n.length!==r.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==r[s])return!1;return!0}(this._values,t._values)}};var Ux=/^__.*__$/,Nf=class{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return this.fieldMask!==null?new pi(t,this.data,this.fieldMask,e,this.fieldTransforms):new zn(t,this.data,e,this.fieldTransforms)}},Rl=class{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return new pi(t,this.data,this.fieldMask,e,this.fieldTransforms)}};function aI(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Q()}}var Vf=class i{constructor(t,e,n,r,s,o){this.settings=t,this.databaseId=e,this.serializer=n,this.ignoreUndefinedProperties=r,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(t){return new i(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(t){var e;let n=(e=this.path)===null||e===void 0?void 0:e.child(t),r=this.Fu({path:n,xu:!1});return r.Ou(t),r}Nu(t){var e;let n=(e=this.path)===null||e===void 0?void 0:e.child(t),r=this.Fu({path:n,xu:!1});return r.vu(),r}Lu(t){return this.Fu({path:void 0,xu:!0})}Bu(t){return xl(t,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(t){return this.fieldMask.find(e=>t.isPrefixOf(e))!==void 0||this.fieldTransforms.find(e=>t.isPrefixOf(e.field))!==void 0}vu(){if(this.path)for(let t=0;t<this.path.length;t++)this.Ou(this.path.get(t))}Ou(t){if(t.length===0)throw this.Bu("Document fields must not be empty");if(aI(this.Cu)&&Ux.test(t))throw this.Bu('Document fields cannot begin and end with "__"')}},Ff=class{constructor(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=n||Ll(t)}Qu(t,e,n,r=!1){return new Vf({Cu:t,methodName:e,qu:n,path:Nt.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function cI(i){let t=i._freezeSettings(),e=Ll(i._databaseId);return new Ff(i._databaseId,!!t.ignoreUndefinedProperties,e)}function jx(i,t,e,n,r,s={}){let o=i.Qu(s.merge||s.mergeFields?2:0,t,e,r);op("Data must be an object, but it was:",o,n);let c=lI(n,o),l,h;if(s.merge)l=new Wt(o.fieldMask),h=o.fieldTransforms;else if(s.mergeFields){let d=[];for(let f of s.mergeFields){let p=Lf(t,f,e);if(!o.contains(p))throw new q(M.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);dI(d,p)||d.push(p)}l=new Wt(d),h=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,h=o.fieldTransforms;return new Nf(new Ot(c),l,h)}var Dl=class i extends qo{_toFieldTransform(t){if(t.Cu!==2)throw t.Cu===1?t.Bu(`${this._methodName}() can only appear at the top level of your update data`):t.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof i}};function Bx(i,t,e,n){let r=i.Qu(1,t,e);op("Data must be an object, but it was:",r,n);let s=[],o=Ot.empty();qn(n,(l,h)=>{let d=ap(t,l,e);h=gt(h);let f=r.Nu(d);if(h instanceof Dl)s.push(d);else{let p=Bl(h,f);p!=null&&(s.push(d),o.set(d,p))}});let c=new Wt(s);return new Rl(o,c,r.fieldTransforms)}function zx(i,t,e,n,r,s){let o=i.Qu(1,t,e),c=[Lf(t,n,e)],l=[r];if(s.length%2!=0)throw new q(M.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)c.push(Lf(t,s[p])),l.push(s[p+1]);let h=[],d=Ot.empty();for(let p=c.length-1;p>=0;--p)if(!dI(h,c[p])){let _=c[p],C=l[p];C=gt(C);let x=o.Nu(_);if(C instanceof Dl)h.push(_);else{let D=Bl(C,x);D!=null&&(h.push(_),d.set(_,D))}}let f=new Wt(h);return new Rl(d,f,o.fieldTransforms)}function Bl(i,t){if(uI(i=gt(i)))return op("Unsupported field value:",t,i),lI(i,t);if(i instanceof qo)return function(n,r){if(!aI(r.Cu))throw r.Bu(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Bu(`${n._methodName}() is not currently supported inside arrays`);let s=n._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(i,t),null;if(i===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),i instanceof Array){if(t.settings.xu&&t.Cu!==4)throw t.Bu("Nested arrays are not supported");return function(n,r){let s=[],o=0;for(let c of n){let l=Bl(c,r.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(i,t)}return function(n,r){if((n=gt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return CD(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){let s=Ke.fromDate(n);return{timestampValue:pl(r.serializer,s)}}if(n instanceof Ke){let s=new Ke(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:pl(r.serializer,s)}}if(n instanceof Go)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof $o)return{bytesValue:Pw(r.serializer,n._byteString)};if(n instanceof Vt){let s=r.databaseId,o=n.firestore._databaseId;if(!o.isEqual(s))throw r.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Yf(n.firestore._databaseId||r.databaseId,n._key.path)}}if(n instanceof Wo)return function(o,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw c.Bu("VectorValues must only contain numeric values.");return Qf(c.serializer,l)})}}}}}}(n,r);throw r.Bu(`Unsupported field value: ${rp(n)}`)}(i,t)}function lI(i,t){let e={};return dw(i)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):qn(i,(n,r)=>{let s=Bl(r,t.Mu(n));s!=null&&(e[n]=s)}),{mapValue:{fields:e}}}function uI(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Ke||i instanceof Go||i instanceof $o||i instanceof Vt||i instanceof qo||i instanceof Wo)}function op(i,t,e){if(!uI(e)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(e)){let n=rp(e);throw n==="an object"?t.Bu(i+" a custom object"):t.Bu(i+" "+n)}}function Lf(i,t,e){if((t=gt(t))instanceof Qr)return t._internalPath;if(typeof t=="string")return ap(i,t);throw xl("Field path arguments must be of type string or ",i,!1,void 0,e)}var $x=new RegExp("[~\\*/\\[\\]]");function ap(i,t,e){if(t.search($x)>=0)throw xl(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,e);try{return new Qr(...t.split("."))._internalPath}catch{throw xl(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,e)}}function xl(i,t,e,n,r){let s=n&&!n.isEmpty(),o=r!==void 0,c=`Function ${t}() called with invalid data`;e&&(c+=" (via `toFirestore()`)"),c+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${n}`),o&&(l+=` in document ${r}`),l+=")"),new q(M.INVALID_ARGUMENT,c+i+l)}function dI(i,t){return i.some(e=>e.isEqual(t))}var Ml=class{constructor(t,e,n,r,s){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let t=new Uf(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){let e=this._document.data.field(hI("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}},Uf=class extends Ml{data(){return super.data()}};function hI(i,t){return typeof t=="string"?ap(i,t):t instanceof Qr?t._internalPath:t._delegate._internalPath}function qx(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new q(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var jf=class{convertValue(t,e="none"){switch(Un(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ne(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(rn(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Q()}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){let n={};return qn(t,(r,s)=>{n[r]=this.convertValue(s,e)}),n}convertVectorValue(t){var e,n,r;let s=(r=(n=(e=t.fields)===null||e===void 0?void 0:e.value.arrayValue)===null||n===void 0?void 0:n.values)===null||r===void 0?void 0:r.map(o=>Ne(o.doubleValue));return new Wo(s)}convertGeoPoint(t){return new Go(Ne(t.latitude),Ne(t.longitude))}convertArray(t,e){return(t.values||[]).map(n=>this.convertValue(n,e))}convertServerTimestamp(t,e){switch(e){case"previous":let n=qf(t);return n==null?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Fo(t));default:return null}}convertTimestamp(t){let e=Mi(t);return new Ke(e.seconds,e.nanos)}convertDocumentKey(t,e){let n=Ue.fromString(t);Ie(Uw(n));let r=new cl(n.get(1),n.get(3)),s=new H(n.popFirst(5));return r.isEqual(e)||xi(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),s}};function Gx(i,t,e){let n;return n=i?e&&(e.merge||e.mergeFields)?i.toFirestore(t,e):i.toFirestore(t):t,n}var Nn=class{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}},Pl=class extends Ml{constructor(t,e,n,r,s,o){super(t,e,n,r,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){let e=new Nr(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){let n=this._document.data.field(hI("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n,e.serverTimestamps)}}},Nr=class extends Pl{data(t={}){return super.data(t)}},Bf=class{constructor(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Nn(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){let t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach(n=>{t.call(e,new Nr(this._firestore,this._userDataWriter,n.key,n,new Nn(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){let e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new q(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(c=>{let l=new Nr(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Nn(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);return c.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>s||c.type!==3).map(c=>{let l=new Nr(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Nn(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),h=-1,d=-1;return c.type!==0&&(h=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),c.type!==1&&(o=o.add(c.doc),d=o.indexOf(c.doc.key)),{type:Wx(c.type),doc:l,oldIndex:h,newIndex:d}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}};function Wx(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Q()}}var Ol=class extends jf{constructor(t){super(),this.firestore=t}convertBytes(t){return new $o(t)}convertReference(t){let e=this.convertDocumentKey(t,this.firestore._databaseId);return new Vt(this.firestore,null,e)}};function mI(i,t,e,...n){i=Vn(i,Vt);let r=Vn(i.firestore,$n),s=cI(r),o;return o=typeof(t=gt(t))=="string"||t instanceof Qr?zx(s,"updateDoc",i._key,t,e,n):Bx(s,"updateDoc",i._key,t),pI(r,[o.toMutation(i._key,tn.exists(!0))])}function fI(i,t){let e=Vn(i.firestore,$n),n=sp(i),r=Gx(i.converter,t);return pI(e,[jx(cI(i.firestore),"addDoc",n._key,r,i.converter!==null,{}).toMutation(n._key,tn.exists(!1))]).then(()=>n)}function cp(i,...t){var e,n,r;i=gt(i);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof t[o]!="object"||lw(t[o])||(s=t[o],o++);let c={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(lw(t[o])){let f=t[o];t[o]=(e=f.next)===null||e===void 0?void 0:e.bind(f),t[o+1]=(n=f.error)===null||n===void 0?void 0:n.bind(f),t[o+2]=(r=f.complete)===null||r===void 0?void 0:r.bind(f)}let l,h,d;if(i instanceof Vt)h=Vn(i.firestore,$n),d=Kf(i._key.path),l={next:f=>{t[o]&&t[o](Hx(h,i,f))},error:t[o+1],complete:t[o+2]};else{let f=Vn(i,Sl);h=Vn(f.firestore,$n),d=f._query;let p=new Ol(h);l={next:_=>{t[o]&&t[o](new Bf(h,p,f,_))},error:t[o+1],complete:t[o+2]},qx(i._query)}return function(p,_,C,x){let D=new Pf(x),W=new Sf(_,D,C);return p.asyncQueue.enqueueAndForget(()=>S(this,null,function*(){return _x(yield sw(p),W)})),()=>{D.Za(),p.asyncQueue.enqueueAndForget(()=>S(this,null,function*(){return vx(yield sw(p),W)}))}}(oI(h),d,c,l)}function pI(i,t){return function(n,r){let s=new Di;return n.asyncQueue.enqueueAndForget(()=>S(this,null,function*(){return Cx(yield Vx(n),r,s)})),s.promise}(oI(i),t)}function Hx(i,t,e){let n=e.docs.get(t._key),r=new Ol(i);return new Pl(i,r,t._key,n,new Nn(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(r){Yr=r})(Cr),Ji(new Gt("firestore",(n,{instanceIdentifier:r,options:s})=>{let o=n.getProvider("app").getImmediate(),c=new $n(new hm(n.getProvider("auth-internal")),new gm(n.getProvider("app-check-internal")),function(h,d){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new q(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cl(h.options.projectId,d)}(o,r),o);return s=Object.assign({useFetchStreams:e},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),Xe(xb,"4.7.3",t),Xe(xb,"4.7.3","esm2017")})();var zl=function(){return zl=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s])}return t},zl.apply(this,arguments)};var Yx={includeMetadataChanges:!1};function lp(i,t){return t===void 0&&(t=Yx),new It(function(e){var n=cp(i,t,{next:e.next.bind(e),error:e.error.bind(e),complete:e.complete.bind(e)});return{unsubscribe:n}})}function gI(i){return lp(i,{includeMetadataChanges:!0})}function _I(i,t){return t===void 0&&(t={}),gI(i).pipe(G(function(e){return up(e,t)}))}function up(i,t){var e;t===void 0&&(t={});var n=i.data(t);return!i.exists()||typeof n!="object"||n===null||!t.idField?n:zl(zl({},n),(e={},e[t.idField]=i.id,e))}function vI(i){return lp(i,{includeMetadataChanges:!0}).pipe(G(function(t){return t.docs}))}function yI(i,t){return t===void 0&&(t={}),vI(i).pipe(G(function(e){return e.map(function(n){return up(n,t)})}))}var Wn=class{constructor(t){return t}},bI="firestore",dp=class{constructor(){return wo(bI)}};var hp=new z("angularfire2.firestore-instances");function Xx(i,t){let e=Lh(bI,i,t);return e&&new Wn(e)}function Jx(i){return(t,e)=>{let n=t.runOutsideAngular(()=>i(e));return new Wn(n)}}var Zx={provide:dp,deps:[[new Ft,hp]]},eM={provide:Wn,useFactory:Xx,deps:[[new Ft,hp],Dn]};function wI(i,...t){return Xe("angularfire",kr.full,"fst"),Kt([eM,Zx,{provide:hp,useFactory:Jx(i),multi:!0,deps:[ee,Ct,Io,Eo,[new Ft,Yc],[new Ft,bo],...t]}])}var Xo=ii(yI,!0);var II=ii(_I,!0);var Jo=ii(fI,!0);var Oi=ii(rI,!0);var mp=ii(sp,!0);var EI=ii(sI,!0);var TI=ii(mI,!0);var AI={providers:[Hg({eventCoalescing:!0}),vv(dh),k_(),mh(),mh(),lb(()=>ub({projectId:"cs336-musictranslator",appId:"1:951597434276:web:f76539cb517b372e2f6d31",storageBucket:"cs336-musictranslator.firebasestorage.app",apiKey:"AIzaSyBa-WPASuo6FvzndEbB9uO4qy2Z_KWA_AQ",authDomain:"cs336-musictranslator.firebaseapp.com",messagingSenderId:"951597434276",measurementId:"G-29Z8TKD0ZE"})),wI(()=>EI())]};var $l=class i{constructor(t){this.firestore=t}addUser(t){let e=Oi(this.firestore,"users");return Jo(e,t)}getUsers(){let t=Oi(this.firestore,"users");return Xo(t,{idField:"id"})}getUserById(t){let e=mp(this.firestore,`users/${t}`);return II(e,{idField:"id"})}updateUser(t,e){let n=mp(this.firestore,`users/${t}`);return TI(n,e)}addRecentListen(t,e){let n=Oi(this.firestore,`users/${t}/recentListen`);return Jo(n,e)}getRecentListens(t){let e=Oi(this.firestore,`users/${t}/recentListen`);return Xo(e,{idField:"id"})}addLikedSong(t,e){let n=Oi(this.firestore,`users/${t}/likedSongs`);return Jo(n,e)}getLikedSongs(t){let e=Oi(this.firestore,`users/${t}/likedSongs`);return Xo(e,{idField:"id"})}addRecentSearch(t,e){let n=Oi(this.firestore,`users/${t}/recentSearches`);return Jo(n,e)}getRecentSearches(t){let e=Oi(this.firestore,`users/${t}/recentSearches`);return Xo(e,{idField:"id"})}static \u0275fac=function(e){return new(e||i)(N(Wn))};static \u0275prov=L({token:i,factory:i.\u0275fac,providedIn:"root"})};var ql=class i{constructor(t,e,n){this.spotifyService=t;this.fireStore=e;this.router=n}query="";resultsEmitter=new Re;sendSearch(){return S(this,null,function*(){if(!this.query.trim()){console.warn("Search query is empty. Please enter a valid query.");return}try{console.log(`Searching for: ${this.query}`);let e=(yield this.spotifyService.getSearchRequest(this.query)).map(s=>s.name);this.resultsEmitter.emit(e),yield this.router.navigate(["/listen"]),console.log("Search results:",e);let n=yield this.spotifyService.getUserName(),r={query:this.query.trim(),timestamp:Ke.now()};yield this.fireStore.addRecentSearch(n,r),console.log("Added to recent searches: ",r)}catch(t){console.error("Error during search:",t)}})}static \u0275fac=function(e){return new(e||i)(R(ai),R($l),R(Mt))};static \u0275cmp=X({type:i,selectors:[["app-search-bar"]],outputs:{resultsEmitter:"resultsEmitter"},standalone:!0,features:[J],decls:7,vars:1,consts:[[1,"header-toolbar"],[1,"logo"],["id","logo","src","../../../assets/tuneLingualLogo.png","alt","TuneLingual Logo"],[1,"search"],["type","search","placeholder","Search...",3,"ngModelChange","keyup.enter","ngModel"],[1,"profile"],["id","profile-pic","src","","alt","profile pic"]],template:function(e,n){e&1&&(B(0,"mat-toolbar",0)(1,"div",1),we(2,"img",2),$(),B(3,"div",3)(4,"input",4),$g("ngModelChange",function(s){return zg(n.query,s)||(n.query=s),s}),lt("keyup.enter",function(){return n.sendSearch()}),$()(),B(5,"div",5),we(6,"img",6),$()()),e&2&&(Oe(4),Bg("ngModel",n.query))},dependencies:[by,pc,_y,oh,bt,ac],styles:[".header-toolbar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:10px 20px;height:100%}.logo[_ngcontent-%COMP%]{flex:0 0 auto;display:flex;align-items:center}#logo[_ngcontent-%COMP%]{height:90px;width:auto;cursor:pointer}.search[_ngcontent-%COMP%]{flex:1;display:flex;justify-content:center;align-items:center}.search[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:60%;max-width:400px;padding:8px 12px;border-radius:20px;font-size:16px}.profile[_ngcontent-%COMP%]{flex:0 0 auto;display:flex;align-items:center;justify-content:center}#profile-pic[_ngcontent-%COMP%]{height:40px;width:40px;border-radius:50%;border:2px solid black;object-fit:cover;cursor:pointer}"]})};var nM=["knob"],rM=["valueIndicatorContainer"];function sM(i,t){if(i&1&&(B(0,"div",2,1)(2,"div",5)(3,"span",6),Ce(4),$()()()),i&2){let e=Rt();Oe(4),tr(e.valueIndicatorText)}}var oM=["trackActive"],aM=["*"];function cM(i,t){if(i&1&&we(0,"div"),i&2){let e=t.$implicit,n=t.$index,r=Rt(3);vn(e===0?"mdc-slider__tick-mark--active":"mdc-slider__tick-mark--inactive"),_n("transform",r._calcTickMarkTransform(n))}}function lM(i,t){if(i&1&&Ss(0,cM,1,4,"div",8,Cs),i&2){let e=Rt(2);ks(e._tickMarks)}}function uM(i,t){if(i&1&&(B(0,"div",6,1),jt(2,lM,2,0),$()),i&2){let e=Rt();Oe(2),Bt(e._cachedWidth?2:-1)}}function dM(i,t){if(i&1&&we(0,"mat-slider-visual-thumb",7),i&2){let e=Rt();Xt("discrete",e.discrete)("thumbPosition",1)("valueIndicatorText",e.startValueIndicatorText)}}var Z=function(i){return i[i.START=1]="START",i[i.END=2]="END",i}(Z||{}),Jr=function(i){return i[i.ACTIVE=0]="ACTIVE",i[i.INACTIVE=1]="INACTIVE",i}(Jr||{}),fp=new z("_MatSlider"),CI=new z("_MatSliderThumb"),hM=new z("_MatSliderRangeThumb"),SI=new z("_MatSliderVisualThumb");var mM=(()=>{class i{constructor(e,n,r,s){this._cdr=e,this._ngZone=n,this._slider=s,this._isHovered=!1,this._isActive=!1,this._isValueIndicatorVisible=!1,this._platform=F(De),this._onPointerMove=o=>{if(this._sliderInput._isFocused)return;let c=this._hostElement.getBoundingClientRect(),l=this._slider._isCursorOnSliderThumb(o,c);this._isHovered=l,l?this._showHoverRipple():this._hideRipple(this._hoverRippleRef)},this._onMouseLeave=()=>{this._isHovered=!1,this._hideRipple(this._hoverRippleRef)},this._onFocus=()=>{this._hideRipple(this._hoverRippleRef),this._showFocusRipple(),this._hostElement.classList.add("mdc-slider__thumb--focused")},this._onBlur=()=>{this._isActive||this._hideRipple(this._focusRippleRef),this._isHovered&&this._showHoverRipple(),this._hostElement.classList.remove("mdc-slider__thumb--focused")},this._onDragStart=o=>{o.button===0&&(this._isActive=!0,this._showActiveRipple())},this._onDragEnd=()=>{this._isActive=!1,this._hideRipple(this._activeRippleRef),this._sliderInput._isFocused||this._hideRipple(this._focusRippleRef),this._platform.SAFARI&&this._showHoverRipple()},this._hostElement=r.nativeElement}ngAfterViewInit(){let e=this._slider._getInput(this.thumbPosition);e&&(this._ripple.radius=24,this._sliderInput=e,this._sliderInputEl=this._sliderInput._hostElement,this._ngZone.runOutsideAngular(()=>{let n=this._sliderInputEl;n.addEventListener("pointermove",this._onPointerMove),n.addEventListener("pointerdown",this._onDragStart),n.addEventListener("pointerup",this._onDragEnd),n.addEventListener("pointerleave",this._onMouseLeave),n.addEventListener("focus",this._onFocus),n.addEventListener("blur",this._onBlur)}))}ngOnDestroy(){let e=this._sliderInputEl;e&&(e.removeEventListener("pointermove",this._onPointerMove),e.removeEventListener("pointerdown",this._onDragStart),e.removeEventListener("pointerup",this._onDragEnd),e.removeEventListener("pointerleave",this._onMouseLeave),e.removeEventListener("focus",this._onFocus),e.removeEventListener("blur",this._onBlur))}_showHoverRipple(){this._isShowingRipple(this._hoverRippleRef)||(this._hoverRippleRef=this._showRipple({enterDuration:0,exitDuration:0}),this._hoverRippleRef?.element.classList.add("mat-mdc-slider-hover-ripple"))}_showFocusRipple(){this._isShowingRipple(this._focusRippleRef)||(this._focusRippleRef=this._showRipple({enterDuration:0,exitDuration:0},!0),this._focusRippleRef?.element.classList.add("mat-mdc-slider-focus-ripple"))}_showActiveRipple(){this._isShowingRipple(this._activeRippleRef)||(this._activeRippleRef=this._showRipple({enterDuration:225,exitDuration:400}),this._activeRippleRef?.element.classList.add("mat-mdc-slider-active-ripple"))}_isShowingRipple(e){return e?.state===pt.FADING_IN||e?.state===pt.VISIBLE}_showRipple(e,n){if(!this._slider.disabled&&(this._showValueIndicator(),this._slider._isRange&&this._slider._getThumb(this.thumbPosition===Z.START?Z.END:Z.START)._showValueIndicator(),!(this._slider._globalRippleOptions?.disabled&&!n)))return this._ripple.launch({animation:this._slider._noopAnimations?{enterDuration:0,exitDuration:0}:e,centered:!0,persistent:!0})}_hideRipple(e){if(e?.fadeOut(),this._isShowingAnyRipple())return;this._slider._isRange||this._hideValueIndicator();let n=this._getSibling();n._isShowingAnyRipple()||(this._hideValueIndicator(),n._hideValueIndicator())}_showValueIndicator(){this._hostElement.classList.add("mdc-slider__thumb--with-indicator")}_hideValueIndicator(){this._hostElement.classList.remove("mdc-slider__thumb--with-indicator")}_getSibling(){return this._slider._getThumb(this.thumbPosition===Z.START?Z.END:Z.START)}_getValueIndicatorContainer(){return this._valueIndicatorContainer?.nativeElement}_getKnob(){return this._knob.nativeElement}_isShowingAnyRipple(){return this._isShowingRipple(this._hoverRippleRef)||this._isShowingRipple(this._focusRippleRef)||this._isShowingRipple(this._activeRippleRef)}static{this.\u0275fac=function(n){return new(n||i)(R(We),R(ee),R(de),R(fp))}}static{this.\u0275cmp=X({type:i,selectors:[["mat-slider-visual-thumb"]],viewQuery:function(n,r){if(n&1&&(vt(eh,5),vt(nM,5),vt(rM,5)),n&2){let s;Te(s=Ae())&&(r._ripple=s.first),Te(s=Ae())&&(r._knob=s.first),Te(s=Ae())&&(r._valueIndicatorContainer=s.first)}},hostAttrs:[1,"mdc-slider__thumb","mat-mdc-slider-visual-thumb"],inputs:{discrete:"discrete",thumbPosition:"thumbPosition",valueIndicatorText:"valueIndicatorText"},standalone:!0,features:[rt([{provide:SI,useExisting:i}]),J],decls:4,vars:2,consts:[["knob",""],["valueIndicatorContainer",""],[1,"mdc-slider__value-indicator-container"],[1,"mdc-slider__thumb-knob"],["matRipple","",1,"mat-mdc-focus-indicator",3,"matRippleDisabled"],[1,"mdc-slider__value-indicator"],[1,"mdc-slider__value-indicator-text"]],template:function(n,r){n&1&&(jt(0,sM,5,1,"div",2),we(1,"div",3,0)(3,"div",4)),n&2&&(Bt(r.discrete?0:-1),Oe(3),Xt("matRippleDisabled",!0))},dependencies:[eh],styles:[".mat-mdc-slider-visual-thumb .mat-ripple{height:100%;width:100%}.mat-mdc-slider .mdc-slider__tick-marks{justify-content:start}.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--active,.mat-mdc-slider .mdc-slider__tick-marks .mdc-slider__tick-mark--inactive{position:absolute;left:2px}"],encapsulation:2,changeDetection:0})}}return i})(),kI=(()=>{class i{get disabled(){return this._disabled}set disabled(e){this._disabled=e;let n=this._getInput(Z.END),r=this._getInput(Z.START);n&&(n.disabled=this._disabled),r&&(r.disabled=this._disabled)}get discrete(){return this._discrete}set discrete(e){this._discrete=e,this._updateValueIndicatorUIs()}get min(){return this._min}set min(e){let n=isNaN(e)?this._min:e;this._min!==n&&this._updateMin(n)}_updateMin(e){let n=this._min;this._min=e,this._isRange?this._updateMinRange({old:n,new:e}):this._updateMinNonRange(e),this._onMinMaxOrStepChange()}_updateMinRange(e){let n=this._getInput(Z.END),r=this._getInput(Z.START),s=n.value,o=r.value;r.min=e.new,n.min=Math.max(e.new,r.value),r.max=Math.min(n.max,n.value),r._updateWidthInactive(),n._updateWidthInactive(),e.new<e.old?this._onTranslateXChangeBySideEffect(n,r):this._onTranslateXChangeBySideEffect(r,n),s!==n.value&&this._onValueChange(n),o!==r.value&&this._onValueChange(r)}_updateMinNonRange(e){let n=this._getInput(Z.END);if(n){let r=n.value;n.min=e,n._updateThumbUIByValue(),this._updateTrackUI(n),r!==n.value&&this._onValueChange(n)}}get max(){return this._max}set max(e){let n=isNaN(e)?this._max:e;this._max!==n&&this._updateMax(n)}_updateMax(e){let n=this._max;this._max=e,this._isRange?this._updateMaxRange({old:n,new:e}):this._updateMaxNonRange(e),this._onMinMaxOrStepChange()}_updateMaxRange(e){let n=this._getInput(Z.END),r=this._getInput(Z.START),s=n.value,o=r.value;n.max=e.new,r.max=Math.min(e.new,n.value),n.min=r.value,n._updateWidthInactive(),r._updateWidthInactive(),e.new>e.old?this._onTranslateXChangeBySideEffect(r,n):this._onTranslateXChangeBySideEffect(n,r),s!==n.value&&this._onValueChange(n),o!==r.value&&this._onValueChange(r)}_updateMaxNonRange(e){let n=this._getInput(Z.END);if(n){let r=n.value;n.max=e,n._updateThumbUIByValue(),this._updateTrackUI(n),r!==n.value&&this._onValueChange(n)}}get step(){return this._step}set step(e){let n=isNaN(e)?this._step:e;this._step!==n&&this._updateStep(n)}_updateStep(e){this._step=e,this._isRange?this._updateStepRange():this._updateStepNonRange(),this._onMinMaxOrStepChange()}_updateStepRange(){let e=this._getInput(Z.END),n=this._getInput(Z.START),r=e.value,s=n.value,o=n.value;e.min=this._min,n.max=this._max,e.step=this._step,n.step=this._step,this._platform.SAFARI&&(e.value=e.value,n.value=n.value),e.min=Math.max(this._min,n.value),n.max=Math.min(this._max,e.value),n._updateWidthInactive(),e._updateWidthInactive(),e.value<o?this._onTranslateXChangeBySideEffect(n,e):this._onTranslateXChangeBySideEffect(e,n),r!==e.value&&this._onValueChange(e),s!==n.value&&this._onValueChange(n)}_updateStepNonRange(){let e=this._getInput(Z.END);if(e){let n=e.value;e.step=this._step,this._platform.SAFARI&&(e.value=e.value),e._updateThumbUIByValue(),n!==e.value&&this._onValueChange(e)}}constructor(e,n,r,s,o,c){this._ngZone=e,this._cdr=n,this._elementRef=r,this._dir=s,this._globalRippleOptions=o,this._disabled=!1,this._discrete=!1,this.showTickMarks=!1,this._min=0,this.disableRipple=!1,this._max=100,this._step=1,this.displayWith=l=>`${l}`,this._rippleRadius=24,this.startValueIndicatorText="",this.endValueIndicatorText="",this._isRange=!1,this._isRtl=!1,this._hasViewInitialized=!1,this._tickMarkTrackWidth=0,this._hasAnimation=!1,this._resizeTimer=null,this._platform=F(De),this._knobRadius=8,this._thumbsOverlap=!1,this._noopAnimations=c==="NoopAnimations",this._dirChangeSubscription=this._dir.change.subscribe(()=>this._onDirChange()),this._isRtl=this._dir.value==="rtl"}ngAfterViewInit(){this._platform.isBrowser&&this._updateDimensions();let e=this._getInput(Z.END),n=this._getInput(Z.START);this._isRange=!!e&&!!n,this._cdr.detectChanges();let r=this._getThumb(Z.END);this._rippleRadius=r._ripple.radius,this._inputPadding=this._rippleRadius-this._knobRadius,this._isRange?this._initUIRange(e,n):this._initUINonRange(e),this._updateTrackUI(e),this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._observeHostResize(),this._cdr.detectChanges()}_initUINonRange(e){e.initProps(),e.initUI(),this._updateValueIndicatorUI(e),this._hasViewInitialized=!0,e._updateThumbUIByValue()}_initUIRange(e,n){e.initProps(),e.initUI(),n.initProps(),n.initUI(),e._updateMinMax(),n._updateMinMax(),e._updateStaticStyles(),n._updateStaticStyles(),this._updateValueIndicatorUIs(),this._hasViewInitialized=!0,e._updateThumbUIByValue(),n._updateThumbUIByValue()}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._resizeObserver?.disconnect(),this._resizeObserver=null}_onDirChange(){this._isRtl=this._dir.value==="rtl",this._isRange?this._onDirChangeRange():this._onDirChangeNonRange(),this._updateTickMarkUI()}_onDirChangeRange(){let e=this._getInput(Z.END),n=this._getInput(Z.START);e._setIsLeftThumb(),n._setIsLeftThumb(),e.translateX=e._calcTranslateXByValue(),n.translateX=n._calcTranslateXByValue(),e._updateStaticStyles(),n._updateStaticStyles(),e._updateWidthInactive(),n._updateWidthInactive(),e._updateThumbUIByValue(),n._updateThumbUIByValue()}_onDirChangeNonRange(){this._getInput(Z.END)._updateThumbUIByValue()}_observeHostResize(){typeof ResizeObserver>"u"||!ResizeObserver||this._ngZone.runOutsideAngular(()=>{this._resizeObserver=new ResizeObserver(()=>{this._isActive()||(this._resizeTimer&&clearTimeout(this._resizeTimer),this._onResize())}),this._resizeObserver.observe(this._elementRef.nativeElement)})}_isActive(){return this._getThumb(Z.START)._isActive||this._getThumb(Z.END)._isActive}_getValue(e=Z.END){let n=this._getInput(e);return n?n.value:this.min}_skipUpdate(){return!!(this._getInput(Z.START)?._skipUIUpdate||this._getInput(Z.END)?._skipUIUpdate)}_updateDimensions(){this._cachedWidth=this._elementRef.nativeElement.offsetWidth,this._cachedLeft=this._elementRef.nativeElement.getBoundingClientRect().left}_setTrackActiveStyles(e){let n=this._trackActive.nativeElement.style;n.left=e.left,n.right=e.right,n.transformOrigin=e.transformOrigin,n.transform=e.transform}_calcTickMarkTransform(e){return`translateX(${e*(this._tickMarkTrackWidth/(this._tickMarks.length-1))}px`}_onTranslateXChange(e){this._hasViewInitialized&&(this._updateThumbUI(e),this._updateTrackUI(e),this._updateOverlappingThumbUI(e))}_onTranslateXChangeBySideEffect(e,n){this._hasViewInitialized&&(e._updateThumbUIByValue(),n._updateThumbUIByValue())}_onValueChange(e){this._hasViewInitialized&&(this._updateValueIndicatorUI(e),this._updateTickMarkUI(),this._cdr.detectChanges())}_onMinMaxOrStepChange(){this._hasViewInitialized&&(this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.markForCheck())}_onResize(){if(this._hasViewInitialized){if(this._updateDimensions(),this._isRange){let e=this._getInput(Z.END),n=this._getInput(Z.START);e._updateThumbUIByValue(),n._updateThumbUIByValue(),e._updateStaticStyles(),n._updateStaticStyles(),e._updateMinMax(),n._updateMinMax(),e._updateWidthInactive(),n._updateWidthInactive()}else{let e=this._getInput(Z.END);e&&e._updateThumbUIByValue()}this._updateTickMarkUI(),this._updateTickMarkTrackUI(),this._cdr.detectChanges()}}_areThumbsOverlapping(){let e=this._getInput(Z.START),n=this._getInput(Z.END);return!e||!n?!1:n.translateX-e.translateX<20}_updateOverlappingThumbClassNames(e){let n=e.getSibling(),r=this._getThumb(e.thumbPosition);this._getThumb(n.thumbPosition)._hostElement.classList.remove("mdc-slider__thumb--top"),r._hostElement.classList.toggle("mdc-slider__thumb--top",this._thumbsOverlap)}_updateOverlappingThumbUI(e){!this._isRange||this._skipUpdate()||this._thumbsOverlap!==this._areThumbsOverlapping()&&(this._thumbsOverlap=!this._thumbsOverlap,this._updateOverlappingThumbClassNames(e))}_updateThumbUI(e){if(this._skipUpdate())return;let n=this._getThumb(e.thumbPosition===Z.END?Z.END:Z.START);n._hostElement.style.transform=`translateX(${e.translateX}px)`}_updateValueIndicatorUI(e){if(this._skipUpdate())return;let n=this.displayWith(e.value);if(this._hasViewInitialized?e._valuetext.set(n):e._hostElement.setAttribute("aria-valuetext",n),this.discrete){e.thumbPosition===Z.START?this.startValueIndicatorText=n:this.endValueIndicatorText=n;let r=this._getThumb(e.thumbPosition);n.length<3?r._hostElement.classList.add("mdc-slider__thumb--short-value"):r._hostElement.classList.remove("mdc-slider__thumb--short-value")}}_updateValueIndicatorUIs(){let e=this._getInput(Z.END),n=this._getInput(Z.START);e&&this._updateValueIndicatorUI(e),n&&this._updateValueIndicatorUI(n)}_updateTickMarkTrackUI(){if(!this.showTickMarks||this._skipUpdate())return;let e=this._step&&this._step>0?this._step:1,r=(Math.floor(this.max/e)*e-this.min)/(this.max-this.min);this._tickMarkTrackWidth=this._cachedWidth*r-6}_updateTrackUI(e){this._skipUpdate()||(this._isRange?this._updateTrackUIRange(e):this._updateTrackUINonRange(e))}_updateTrackUIRange(e){let n=e.getSibling();if(!n||!this._cachedWidth)return;let r=Math.abs(n.translateX-e.translateX)/this._cachedWidth;e._isLeftThumb&&this._cachedWidth?this._setTrackActiveStyles({left:"auto",right:`${this._cachedWidth-n.translateX}px`,transformOrigin:"right",transform:`scaleX(${r})`}):this._setTrackActiveStyles({left:`${n.translateX}px`,right:"auto",transformOrigin:"left",transform:`scaleX(${r})`})}_updateTrackUINonRange(e){this._isRtl?this._setTrackActiveStyles({left:"auto",right:"0px",transformOrigin:"right",transform:`scaleX(${1-e.fillPercentage})`}):this._setTrackActiveStyles({left:"0px",right:"auto",transformOrigin:"left",transform:`scaleX(${e.fillPercentage})`})}_updateTickMarkUI(){if(!this.showTickMarks||this.step===void 0||this.min===void 0||this.max===void 0)return;let e=this.step>0?this.step:1;this._isRange?this._updateTickMarkUIRange(e):this._updateTickMarkUINonRange(e),this._isRtl&&this._tickMarks.reverse()}_updateTickMarkUINonRange(e){let n=this._getValue(),r=Math.max(Math.round((n-this.min)/e),0),s=Math.max(Math.round((this.max-n)/e),0);this._isRtl?r++:s++,this._tickMarks=Array(r).fill(Jr.ACTIVE).concat(Array(s).fill(Jr.INACTIVE))}_updateTickMarkUIRange(e){let n=this._getValue(),r=this._getValue(Z.START),s=Math.max(Math.round((r-this.min)/e),0),o=Math.max(Math.round((n-r)/e)+1,0),c=Math.max(Math.round((this.max-n)/e),0);this._tickMarks=Array(s).fill(Jr.INACTIVE).concat(Array(o).fill(Jr.ACTIVE),Array(c).fill(Jr.INACTIVE))}_getInput(e){if(e===Z.END&&this._input)return this._input;if(this._inputs?.length)return e===Z.START?this._inputs.first:this._inputs.last}_getThumb(e){return e===Z.END?this._thumbs?.last:this._thumbs?.first}_setTransition(e){this._hasAnimation=!this._platform.IOS&&e&&!this._noopAnimations,this._elementRef.nativeElement.classList.toggle("mat-mdc-slider-with-animation",this._hasAnimation)}_isCursorOnSliderThumb(e,n){let r=n.width/2,s=n.x+r,o=n.y+r,c=e.clientX-s,l=e.clientY-o;return Math.pow(c,2)+Math.pow(l,2)<Math.pow(r,2)}static{this.\u0275fac=function(n){return new(n||i)(R(ee),R(We),R(de),R(vr,8),R(yr,8),R(Yt,8))}}static{this.\u0275cmp=X({type:i,selectors:[["mat-slider"]],contentQueries:function(n,r,s){if(n&1&&(nt(s,CI,5),nt(s,hM,4)),n&2){let o;Te(o=Ae())&&(r._input=o.first),Te(o=Ae())&&(r._inputs=o)}},viewQuery:function(n,r){if(n&1&&(vt(oM,5),vt(SI,5)),n&2){let s;Te(s=Ae())&&(r._trackActive=s.first),Te(s=Ae())&&(r._thumbs=s)}},hostAttrs:[1,"mat-mdc-slider","mdc-slider"],hostVars:12,hostBindings:function(n,r){n&2&&(vn("mat-"+(r.color||"primary")),Pe("mdc-slider--range",r._isRange)("mdc-slider--disabled",r.disabled)("mdc-slider--discrete",r.discrete)("mdc-slider--tick-marks",r.showTickMarks)("_mat-animation-noopable",r._noopAnimations))},inputs:{disabled:[2,"disabled","disabled",Qe],discrete:[2,"discrete","discrete",Qe],showTickMarks:[2,"showTickMarks","showTickMarks",Qe],min:[2,"min","min",wi],color:"color",disableRipple:[2,"disableRipple","disableRipple",Qe],max:[2,"max","max",wi],step:[2,"step","step",wi],displayWith:"displayWith"},exportAs:["matSlider"],standalone:!0,features:[rt([{provide:fp,useExisting:i}]),Ut,J],ngContentSelectors:aM,decls:9,vars:5,consts:[["trackActive",""],["tickMarkContainer",""],[1,"mdc-slider__track"],[1,"mdc-slider__track--inactive"],[1,"mdc-slider__track--active"],[1,"mdc-slider__track--active_fill"],[1,"mdc-slider__tick-marks"],[3,"discrete","thumbPosition","valueIndicatorText"],[3,"class","transform"]],template:function(n,r){n&1&&(Be(),he(0),B(1,"div",2),we(2,"div",3),B(3,"div",4),we(4,"div",5,0),$(),jt(6,uM,3,1,"div",6),$(),jt(7,dM,1,3,"mat-slider-visual-thumb",7),we(8,"mat-slider-visual-thumb",7)),n&2&&(Oe(6),Bt(r.showTickMarks?6:-1),Oe(),Bt(r._isRange?7:-1),Oe(),Xt("discrete",r.discrete)("thumbPosition",2)("valueIndicatorText",r.endValueIndicatorText))},dependencies:[mM],styles:['.mdc-slider__track{position:absolute;top:50%;transform:translateY(-50%);width:100%;pointer-events:none;height:var(--mdc-slider-inactive-track-height)}.mdc-slider__track--active,.mdc-slider__track--inactive{display:flex;height:100%;position:absolute;width:100%}.mdc-slider__track--active{overflow:hidden;border-radius:var(--mdc-slider-active-track-shape, var(--mat-app-corner-full));height:var(--mdc-slider-active-track-height);top:calc((var(--mdc-slider-inactive-track-height) - var(--mdc-slider-active-track-height))/2)}.mdc-slider__track--active_fill{border-top-style:solid;box-sizing:border-box;height:100%;width:100%;position:relative;transform-origin:left;transition:transform 80ms ease;border-color:var(--mdc-slider-active-track-color, var(--mat-app-primary));border-top-width:var(--mdc-slider-active-track-height)}.mdc-slider--disabled .mdc-slider__track--active_fill{border-color:var(--mdc-slider-disabled-active-track-color, var(--mat-app-on-surface))}[dir=rtl] .mdc-slider__track--active_fill{-webkit-transform-origin:right;transform-origin:right}.mdc-slider__track--inactive{left:0;top:0;opacity:.24;background-color:var(--mdc-slider-inactive-track-color, var(--mat-app-surface-variant));height:var(--mdc-slider-inactive-track-height);border-radius:var(--mdc-slider-inactive-track-shape, var(--mat-app-corner-full))}.mdc-slider--disabled .mdc-slider__track--inactive{background-color:var(--mdc-slider-disabled-inactive-track-color, var(--mat-app-on-surface));opacity:.24}.mdc-slider__track--inactive::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.cdk-high-contrast-active .mdc-slider__track--inactive::before{border-color:CanvasText}.mdc-slider__value-indicator-container{bottom:44px;left:50%;pointer-events:none;position:absolute;transform:translateX(-50%);transform:var(--mat-slider-value-indicator-container-transform)}.mdc-slider__thumb--with-indicator .mdc-slider__value-indicator-container{pointer-events:auto}.mdc-slider__value-indicator{display:flex;align-items:center;border-radius:4px;height:32px;padding:0 12px;transform:scale(0);transform-origin:bottom;opacity:1;transition:transform 100ms cubic-bezier(0.4, 0, 1, 1);word-break:normal;background-color:var(--mdc-slider-label-container-color, var(--mat-app-primary));color:var(--mdc-slider-label-label-text-color, var(--mat-app-on-primary));width:var(--mat-slider-value-indicator-width);height:var(--mat-slider-value-indicator-height);padding:var(--mat-slider-value-indicator-padding);opacity:var(--mat-slider-value-indicator-opacity);border-radius:var(--mat-slider-value-indicator-border-radius)}.mdc-slider__thumb--with-indicator .mdc-slider__value-indicator{transition:transform 100ms cubic-bezier(0, 0, 0.2, 1);transform:scale(1)}.mdc-slider__value-indicator::before{border-left:6px solid rgba(0,0,0,0);border-right:6px solid rgba(0,0,0,0);border-top:6px solid;bottom:-5px;content:"";height:0;left:50%;position:absolute;transform:translateX(-50%);width:0;display:var(--mat-slider-value-indicator-caret-display);border-top-color:var(--mdc-slider-label-container-color, var(--mat-app-primary))}.mdc-slider__value-indicator::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.cdk-high-contrast-active .mdc-slider__value-indicator::after{border-color:CanvasText}.mdc-slider__value-indicator-text{text-align:center;width:var(--mat-slider-value-indicator-width);transform:var(--mat-slider-value-indicator-text-transform);font-family:var(--mdc-slider-label-label-text-font, var(--mat-app-label-medium-font));font-size:var(--mdc-slider-label-label-text-size, var(--mat-app-label-medium-size));font-weight:var(--mdc-slider-label-label-text-weight, var(--mat-app-label-medium-weight));line-height:var(--mdc-slider-label-label-text-line-height, var(--mat-app-label-medium-line-height));letter-spacing:var(--mdc-slider-label-label-text-tracking, var(--mat-app-label-medium-tracking))}.mdc-slider__thumb{-webkit-user-select:none;user-select:none;display:flex;left:-24px;outline:none;position:absolute;height:48px;width:48px;pointer-events:none}.mdc-slider--discrete .mdc-slider__thumb{transition:transform 80ms ease}.mdc-slider--disabled .mdc-slider__thumb{pointer-events:none}.mdc-slider__thumb--top{z-index:1}.mdc-slider__thumb-knob{position:absolute;box-sizing:border-box;left:50%;top:50%;transform:translate(-50%, -50%);border-style:solid;width:var(--mdc-slider-handle-width);height:var(--mdc-slider-handle-height);border-width:calc(var(--mdc-slider-handle-height)/2) calc(var(--mdc-slider-handle-width)/2);box-shadow:var(--mdc-slider-handle-elevation, var(--mat-app-level1));background-color:var(--mdc-slider-handle-color, var(--mat-app-primary));border-color:var(--mdc-slider-handle-color, var(--mat-app-primary));border-radius:var(--mdc-slider-handle-shape, var(--mat-app-corner-full))}.mdc-slider__thumb:hover .mdc-slider__thumb-knob{background-color:var(--mdc-slider-hover-handle-color, var(--mat-app-primary));border-color:var(--mdc-slider-hover-handle-color, var(--mat-app-primary))}.mdc-slider__thumb--focused .mdc-slider__thumb-knob{background-color:var(--mdc-slider-focus-handle-color, var(--mat-app-primary));border-color:var(--mdc-slider-focus-handle-color, var(--mat-app-primary))}.mdc-slider--disabled .mdc-slider__thumb-knob{background-color:var(--mdc-slider-disabled-handle-color, var(--mat-app-on-surface));border-color:var(--mdc-slider-disabled-handle-color, var(--mat-app-on-surface))}.mdc-slider__thumb--top .mdc-slider__thumb-knob,.mdc-slider__thumb--top.mdc-slider__thumb:hover .mdc-slider__thumb-knob,.mdc-slider__thumb--top.mdc-slider__thumb--focused .mdc-slider__thumb-knob{border:solid 1px #fff;box-sizing:content-box;border-color:var(--mdc-slider-with-overlap-handle-outline-color, var(--mat-app-on-primary));border-width:var(--mdc-slider-with-overlap-handle-outline-width)}.mdc-slider__tick-marks{align-items:center;box-sizing:border-box;display:flex;height:100%;justify-content:space-between;padding:0 1px;position:absolute;width:100%}.mdc-slider__tick-mark--active,.mdc-slider__tick-mark--inactive{width:var(--mdc-slider-with-tick-marks-container-size);height:var(--mdc-slider-with-tick-marks-container-size);border-radius:var(--mdc-slider-with-tick-marks-container-shape, var(--mat-app-corner-full))}.mdc-slider__tick-mark--inactive{opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity);background-color:var(--mdc-slider-with-tick-marks-inactive-container-color, var(--mat-app-on-surface-variant))}.mdc-slider--disabled .mdc-slider__tick-mark--inactive{opacity:var(--mdc-slider-with-tick-marks-inactive-container-opacity);background-color:var(--mdc-slider-with-tick-marks-disabled-container-color, var(--mat-app-on-surface))}.mdc-slider__tick-mark--active{opacity:var(--mdc-slider-with-tick-marks-active-container-opacity);background-color:var(--mdc-slider-with-tick-marks-active-container-color, var(--mat-app-on-primary))}.mdc-slider__input{cursor:pointer;left:2px;margin:0;height:44px;opacity:0;position:absolute;top:2px;width:44px;box-sizing:content-box}.mdc-slider__input.mat-mdc-slider-input-no-pointer-events{pointer-events:none}.mdc-slider__input.mat-slider__right-input{left:auto;right:0}.mat-mdc-slider{display:inline-block;box-sizing:border-box;outline:none;vertical-align:middle;cursor:pointer;height:48px;margin:0 8px;position:relative;touch-action:pan-y;width:auto;min-width:112px;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-slider.mdc-slider--disabled{cursor:auto;opacity:.38}.mat-mdc-slider .mdc-slider__thumb,.mat-mdc-slider .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider.mdc-slider--discrete .mdc-slider__track--active_fill{transition-duration:0ms}.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__thumb,.mat-mdc-slider.mat-mdc-slider-with-animation .mdc-slider__track--active_fill{transition-duration:80ms}.mat-mdc-slider .mat-ripple .mat-ripple-element{background-color:var(--mat-slider-ripple-color, var(--mat-app-primary))}.mat-mdc-slider .mat-ripple .mat-mdc-slider-hover-ripple{background-color:var(--mat-slider-hover-state-layer-color)}.mat-mdc-slider .mat-ripple .mat-mdc-slider-focus-ripple,.mat-mdc-slider .mat-ripple .mat-mdc-slider-active-ripple{background-color:var(--mat-slider-focus-state-layer-color)}.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__thumb,.mat-mdc-slider._mat-animation-noopable.mdc-slider--discrete .mdc-slider__track--active_fill,.mat-mdc-slider._mat-animation-noopable .mdc-slider__value-indicator{transition:none}.mat-mdc-slider .mat-mdc-focus-indicator::before{border-radius:50%}.mdc-slider__thumb--focused .mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}}return i})();var fM={provide:fc,useExisting:bi(()=>pp),multi:!0};var pp=(()=>{class i{get value(){return wi(this._hostElement.value,0)}set value(e){e=isNaN(e)?0:e;let n=e+"";if(!this._hasSetInitialValue){this._initialValue=n;return}this._isActive||this._setValue(n)}_setValue(e){this._hostElement.value=e,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges(),this._slider._cdr.markForCheck()}get translateX(){return this._slider.min>=this._slider.max?(this._translateX=this._tickMarkOffset,this._translateX):(this._translateX===void 0&&(this._translateX=this._calcTranslateXByValue()),this._translateX)}set translateX(e){this._translateX=e}get min(){return wi(this._hostElement.min,0)}set min(e){this._hostElement.min=e+"",this._cdr.detectChanges()}get max(){return wi(this._hostElement.max,0)}set max(e){this._hostElement.max=e+"",this._cdr.detectChanges()}get step(){return wi(this._hostElement.step,0)}set step(e){this._hostElement.step=e+"",this._cdr.detectChanges()}get disabled(){return Qe(this._hostElement.disabled)}set disabled(e){this._hostElement.disabled=e,this._cdr.detectChanges(),this._slider.disabled!==this.disabled&&(this._slider.disabled=this.disabled)}get percentage(){return this._slider.min>=this._slider.max?this._slider._isRtl?1:0:(this.value-this._slider.min)/(this._slider.max-this._slider.min)}get fillPercentage(){return this._slider._cachedWidth?this._translateX===0?0:this.translateX/this._slider._cachedWidth:this._slider._isRtl?1:0}_setIsFocused(e){this._isFocused=e}constructor(e,n,r,s){this._ngZone=e,this._elementRef=n,this._cdr=r,this._slider=s,this.valueChange=new Re,this.dragStart=new Re,this.dragEnd=new Re,this.thumbPosition=Z.END,this._valuetext=pn(""),this._knobRadius=8,this._tickMarkOffset=3,this._isActive=!1,this._isFocused=!1,this._hasSetInitialValue=!1,this._destroyed=new pe,this._skipUIUpdate=!1,this._onTouchedFn=()=>{},this._isControlInitialized=!1,this._platform=F(De),this._hostElement=n.nativeElement,this._ngZone.runOutsideAngular(()=>{this._hostElement.addEventListener("pointerdown",this._onPointerDown.bind(this)),this._hostElement.addEventListener("pointermove",this._onPointerMove.bind(this)),this._hostElement.addEventListener("pointerup",this._onPointerUp.bind(this))})}ngOnDestroy(){this._hostElement.removeEventListener("pointerdown",this._onPointerDown),this._hostElement.removeEventListener("pointermove",this._onPointerMove),this._hostElement.removeEventListener("pointerup",this._onPointerUp),this._destroyed.next(),this._destroyed.complete(),this.dragStart.complete(),this.dragEnd.complete()}initProps(){this._updateWidthInactive(),this.disabled!==this._slider.disabled&&(this._slider.disabled=!0),this.step=this._slider.step,this.min=this._slider.min,this.max=this._slider.max,this._initValue()}initUI(){this._updateThumbUIByValue()}_initValue(){this._hasSetInitialValue=!0,this._initialValue===void 0?this.value=this._getDefaultValue():(this._hostElement.value=this._initialValue,this._updateThumbUIByValue(),this._slider._onValueChange(this),this._cdr.detectChanges())}_getDefaultValue(){return this.min}_onBlur(){this._setIsFocused(!1),this._onTouchedFn()}_onFocus(){this._slider._setTransition(!1),this._slider._updateTrackUI(this),this._setIsFocused(!0)}_onChange(){this.valueChange.emit(this.value),this._isActive&&this._updateThumbUIByValue({withAnimation:!0})}_onInput(){this._onChangeFn?.(this.value),(this._slider.step||!this._isActive)&&this._updateThumbUIByValue({withAnimation:!0}),this._slider._onValueChange(this)}_onNgControlValueChange(){(!this._isActive||!this._isFocused)&&(this._slider._onValueChange(this),this._updateThumbUIByValue()),this._slider.disabled=this._formControl.disabled}_onPointerDown(e){if(!(this.disabled||e.button!==0)){if(this._platform.IOS){let n=this._slider._isCursorOnSliderThumb(e,this._slider._getThumb(this.thumbPosition)._hostElement.getBoundingClientRect());this._isActive=n,this._updateWidthActive(),this._slider._updateDimensions();return}this._isActive=!0,this._setIsFocused(!0),this._updateWidthActive(),this._slider._updateDimensions(),this._slider.step||this._updateThumbUIByPointerEvent(e,{withAnimation:!0}),this.disabled||(this._handleValueCorrection(e),this.dragStart.emit({source:this,parent:this._slider,value:this.value}))}}_handleValueCorrection(e){this._skipUIUpdate=!0,setTimeout(()=>{this._skipUIUpdate=!1,this._fixValue(e)},0)}_fixValue(e){let n=e.clientX-this._slider._cachedLeft,r=this._slider._cachedWidth,s=this._slider.step===0?1:this._slider.step,o=Math.floor((this._slider.max-this._slider.min)/s),c=this._slider._isRtl?1-n/r:n/r,h=Math.round(c*o)/o*(this._slider.max-this._slider.min)+this._slider.min,d=Math.round(h/s)*s,f=this.value;if(d===f){this._slider._onValueChange(this),this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(e,{withAnimation:this._slider._hasAnimation});return}this.value=d,this.valueChange.emit(this.value),this._onChangeFn?.(this.value),this._slider._onValueChange(this),this._slider.step>0?this._updateThumbUIByValue():this._updateThumbUIByPointerEvent(e,{withAnimation:this._slider._hasAnimation})}_onPointerMove(e){!this._slider.step&&this._isActive&&this._updateThumbUIByPointerEvent(e)}_onPointerUp(){this._isActive&&(this._isActive=!1,this._platform.SAFARI&&this._setIsFocused(!1),this.dragEnd.emit({source:this,parent:this._slider,value:this.value}),setTimeout(()=>this._updateWidthInactive(),this._platform.IOS?10:0))}_clamp(e){let n=this._tickMarkOffset,r=this._slider._cachedWidth-this._tickMarkOffset;return Math.max(Math.min(e,r),n)}_calcTranslateXByValue(){return this._slider._isRtl?(1-this.percentage)*(this._slider._cachedWidth-this._tickMarkOffset*2)+this._tickMarkOffset:this.percentage*(this._slider._cachedWidth-this._tickMarkOffset*2)+this._tickMarkOffset}_calcTranslateXByPointerEvent(e){return e.clientX-this._slider._cachedLeft}_updateWidthActive(){}_updateWidthInactive(){this._hostElement.style.padding=`0 ${this._slider._inputPadding}px`,this._hostElement.style.width=`calc(100% + ${this._slider._inputPadding-this._tickMarkOffset*2}px)`,this._hostElement.style.left=`-${this._slider._rippleRadius-this._tickMarkOffset}px`}_updateThumbUIByValue(e){this.translateX=this._clamp(this._calcTranslateXByValue()),this._updateThumbUI(e)}_updateThumbUIByPointerEvent(e,n){this.translateX=this._clamp(this._calcTranslateXByPointerEvent(e)),this._updateThumbUI(n)}_updateThumbUI(e){this._slider._setTransition(!!e?.withAnimation),this._slider._onTranslateXChange(this)}writeValue(e){(this._isControlInitialized||e!==null)&&(this.value=e)}registerOnChange(e){this._onChangeFn=e,this._isControlInitialized=!0}registerOnTouched(e){this._onTouchedFn=e}setDisabledState(e){this.disabled=e}focus(){this._hostElement.focus()}blur(){this._hostElement.blur()}static{this.\u0275fac=function(n){return new(n||i)(R(ee),R(de),R(We),R(fp))}}static{this.\u0275dir=_e({type:i,selectors:[["input","matSliderThumb",""]],hostAttrs:["type","range",1,"mdc-slider__input"],hostVars:1,hostBindings:function(n,r){n&1&&lt("change",function(){return r._onChange()})("input",function(){return r._onInput()})("blur",function(){return r._onBlur()})("focus",function(){return r._onFocus()}),n&2&&it("aria-valuetext",r._valuetext())},inputs:{value:[2,"value","value",wi]},outputs:{valueChange:"valueChange",dragStart:"dragStart",dragEnd:"dragEnd"},exportAs:["matSliderThumb"],standalone:!0,features:[rt([fM,{provide:CI,useExisting:i}]),Ut]})}}return i})();var RI=(()=>{class i{static{this.\u0275fac=function(n){return new(n||i)}}static{this.\u0275mod=se({type:i})}static{this.\u0275inj=re({imports:[Le,oc]})}}return i})();var Gl=class i{static \u0275fac=function(e){return new(e||i)};static \u0275cmp=X({type:i,selectors:[["app-playback"]],standalone:!0,features:[J],decls:14,vars:0,consts:[[1,"playback-toolbar"],[1,"track-info"],[1,"middle"],[1,"playbackButtons"],["aria-hidden","false","fontIcon","skip_previous"],["aria-hidden","false","fontIcon","play_circle",1,"play-button"],["aria-hidden","false","fontIcon","pause_circle",1,"pause-button",2,"display","none"],["aria-hidden","false","fontIcon","skip_next"],[1,"trackTime"],["id","timeSlider",1,"slider"],["matSliderThumb",""],["id","volumeSlider",1,"slider"]],template:function(e,n){e&1&&(B(0,"mat-toolbar",0)(1,"p",1),Ce(2,"Current Playing Track: NEED TO REPLACE"),$(),B(3,"div",2)(4,"div",3),we(5,"mat-icon",4)(6,"mat-icon",5)(7,"mat-icon",6)(8,"mat-icon",7),$(),B(9,"div",8)(10,"mat-slider",9),we(11,"input",10),$()()(),B(12,"mat-slider",11),we(13,"input",10),$()())},dependencies:[bt,ac,RI,kI,pp,$t,ey],styles:[".trackInfo[_ngcontent-%COMP%]{width:auto}.middle[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:10px}.playbackButtons[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;justify-content:center}.trackTime[_ngcontent-%COMP%]{width:300px}"]})};var Wl=class i{title="musicTranslator";searchResults=[];handleSearchResults(t){this.searchResults=t}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=X({type:i,selectors:[["app-root"]],standalone:!0,features:[J],decls:18,vars:0,consts:[["sidenav",""],[1,"wholePage"],["id","topToolBar"],[1,"sidenav-container"],["mode","side","opened",""],["mat-list-item","","routerLink","/"],["mat-list-item","","routerLink","/search"],["mat-list-item","","routerLink","/listen"],["mat-list-item","","routerLink","/profile"],["id","playback"]],template:function(e,n){e&1&&(B(0,"div",1),we(1,"app-search-bar",2),B(2,"mat-sidenav-container",3)(3,"mat-sidenav",4,0)(5,"mat-nav-list")(6,"a",5),Ce(7,"Home"),$(),B(8,"a",6),Ce(9,"Search"),$(),B(10,"a",7),Ce(11,"Listen"),$(),B(12,"a",8),Ce(13,"Profile"),$()()(),B(14,"mat-sidenav-content")(15,"section"),we(16,"router-outlet"),$()()(),we(17,"app-playback",9),$())},dependencies:[Od,ic,bt,$t,Ec,lh,uh,wc,vc,Ey,Iy,ql,Gl],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%;margin:0}.wholePage[_ngcontent-%COMP%]{height:100%;display:flex;flex-direction:column}.sidenav-container[_ngcontent-%COMP%]{flex:1;display:flex;flex-direction:row}mat-sidenav[_ngcontent-%COMP%]{width:200px;border:3px solid red}mat-sidenav-content[_ngcontent-%COMP%]{flex:1;padding:16px;border:3px solid blue}#topToolBar[_ngcontent-%COMP%]{border:2px solid green;height:8%}#playback[_ngcontent-%COMP%]{height:8%;border:2px solid orange}.mat-list-item[_ngcontent-%COMP%]{display:flex;align-items:center}.mat-list-item[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{margin-right:8px;font-size:24px;color:currentColor}"]})};C_(Wl,AI).catch(i=>console.error(i));
